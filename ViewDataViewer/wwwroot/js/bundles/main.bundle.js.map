{"version":3,"sources":["../node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/@microsoft/signalr/dist/cjs/AbortController.js","main.bundle.js","node_modules/@microsoft/signalr/dist/cjs/DefaultHttpClient.js","node_modules/@microsoft/signalr/dist/cjs/DefaultReconnectPolicy.js","node_modules/@microsoft/signalr/dist/cjs/Errors.js","node_modules/@microsoft/signalr/dist/cjs/FetchHttpClient.js","node_modules/@microsoft/signalr/dist/cjs/HandshakeProtocol.js","node_modules/@microsoft/signalr/dist/cjs/HttpClient.js","node_modules/@microsoft/signalr/dist/cjs/HttpConnection.js","node_modules/@microsoft/signalr/dist/cjs/HubConnection.js","node_modules/@microsoft/signalr/dist/cjs/HubConnectionBuilder.js","node_modules/@microsoft/signalr/dist/cjs/IHubProtocol.js","node_modules/@microsoft/signalr/dist/cjs/ILogger.js","node_modules/@microsoft/signalr/dist/cjs/ITransport.js","node_modules/@microsoft/signalr/dist/cjs/JsonHubProtocol.js","node_modules/@microsoft/signalr/dist/cjs/Loggers.js","node_modules/@microsoft/signalr/dist/cjs/LongPollingTransport.js","node_modules/@microsoft/signalr/dist/cjs/ServerSentEventsTransport.js","node_modules/@microsoft/signalr/dist/cjs/Subject.js","node_modules/@microsoft/signalr/dist/cjs/TextMessageFormat.js","node_modules/@microsoft/signalr/dist/cjs/Utils.js","node_modules/@microsoft/signalr/dist/cjs/WebSocketTransport.js","node_modules/@microsoft/signalr/dist/cjs/XhrHttpClient.js","node_modules/@microsoft/signalr/dist/cjs/index.js","wwwroot/js/app_ts/Hub.js","wwwroot/js/app_ts/Logger.js","wwwroot/js/app_ts/Main.ts","wwwroot/js/app_ts/Mode7.js","wwwroot/js/app_ts/Mullard.js","wwwroot/js/app_ts/Storage.js","wwwroot/js/app_ts/SvgRenderer.js","wwwroot/js/app_ts/Telesoft.js","wwwroot/js/app_ts/Terminal.js","wwwroot/js/app_ts/Views.js","../node_modules/browserify/node_modules/base64-js/index.js","../node_modules/browserify/node_modules/buffer/index.js","../node_modules/browserify/node_modules/ieee754/index.js","../node_modules/browserify/node_modules/process/browser.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","AbortController","this","isAborted","onabort","prototype","abort","get","enumerable","configurable","2","extendStatics","__extends","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","create","Errors_1","FetchHttpClient_1","HttpClient_1","Utils_1","XhrHttpClient_1","DefaultHttpClient","_super","logger","_this","fetch","Platform","isNode","httpClient","FetchHttpClient","XMLHttpRequest","XhrHttpClient","send","request","abortSignal","aborted","Promise","reject","AbortError","method","url","getCookieString","HttpClient","./Errors","./FetchHttpClient","./HttpClient","./Utils","./XhrHttpClient","3","DEFAULT_RETRY_DELAYS_IN_MILLISECONDS","DefaultReconnectPolicy","retryDelays","undefined","concat","nextRetryDelayInMilliseconds","retryContext","previousRetryCount","4","HttpError","errorMessage","statusCode","trueProto","TimeoutError","5","__assign","assign","s","arguments","__awaiter","thisArg","_arguments","P","generator","resolve","fulfilled","step","next","rejected","result","done","then","apply","__generator","body","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","ILogger_1","requireFunc","__webpack_require__","__non_webpack_require__","jar","CookieJar","fetchType","abortControllerType","bind","self","abortController","error","timeoutId","msTimeout","response","e_1","payload","_a","timeout","setTimeout","log","LogLevel","Warning","content","cache","credentials","withCredentials","headers","Content-Type","X-Requested-With","mode","redirect","signal","clearTimeout","ok","statusText","status","responseType","arrayBuffer","text","deserializeContent","HttpResponse","cookies","getCookies","join","./ILogger","6","Buffer","TextMessageFormat_1","HandshakeProtocol","writeHandshakeRequest","handshakeRequest","TextMessageFormat","write","JSON","stringify","parseHandshakeResponse","data","messageData","remainingData","isArrayBuffer","binaryData","Uint8Array","separatorIndex","indexOf","RecordSeparatorCode","responseLength","String","fromCharCode","slice","byteLength","buffer","textData","RecordSeparator","substring","messages","parse","type","./TextMessageFormat","7","options","post","delete","8","DefaultHttpClient_1","ITransport_1","LongPollingTransport_1","ServerSentEventsTransport_1","WebSocketTransport_1","HttpConnection","features","negotiateVersion","Arg","isRequired","createLogger","baseUrl","resolveUrl","logMessageContent","webSocketModule","eventSourceModule","WebSocket","EventSource","connectionState","connectionStarted","onreceive","onclose","start","transferFormat","message","TransferFormat","Binary","isIn","Debug","startInternalPromise","startInternal","stopPromise","sendQueue","TransportSendQueue","transport","stop","stopPromiseResolver","stopInternal","e_2","stopError","stopConnection","negotiateResponse","redirects","_loop_1","this_1","e_3","accessTokenFactory","skipNegotiation","HttpTransportType","WebSockets","constructTransport","startTransport","accessToken_1","getNegotiationResponse","ProtocolVersion","accessToken","createTransport","LongPollingTransport","inherentKeepAlive","token","name","negotiateUrl","e_4","_b","getUserAgentHeader","resolveNegotiateUrl","connectionToken","connectionId","createConnectUrl","requestedTransport","requestedTransferFormat","connectUrl","transportExceptions","transports","negotiate","_i","transports_1","endpoint","transportOrError","ex_1","ex_2","isITransport","availableTransports","resolveTransportOrError","WebSocketTransport","ServerSentEvents","ServerSentEventsTransport","LongPolling","connect","actualTransport","transportMatches","transferFormats","map","ex","Information","catch","lastIndexOf","isBrowser","window","document","aTag","createElement","href","index","executing","sendBufferedData","PromiseSource","transportResult","sendLoopPromise","sendLoop","bufferData","promise","error_1","concatBuffers","arrayBuffers","totalLength","reduce","offset","arrayBuffers_1","item","set","resolver","rejecter","reason","./DefaultHttpClient","./ITransport","./LongPollingTransport","./ServerSentEventsTransport","./WebSocketTransport","9","HubConnectionState","HandshakeProtocol_1","IHubProtocol_1","Subject_1","HubConnection","connection","protocol","reconnectPolicy","serverTimeoutInMilliseconds","keepAliveIntervalInMilliseconds","handshakeProtocol","processIncomingData","connectionClosed","callbacks","methods","closedCallbacks","reconnectingCallbacks","reconnectedCallbacks","invocationId","receivedHandshakeResponse","Disconnected","cachedPingMessage","writeMessage","MessageType","Ping","Reconnecting","startPromise","startWithStateTransitions","Connecting","Connected","handshakePromise","stopDuringStartError","handshakeResolver","handshakeRejecter","version","sendMessage","cleanupTimeout","resetTimeoutPeriod","resetKeepAliveInterval","cleanupPingTimer","Disconnecting","reconnectDelayHandle","completeClose","stream","methodName","args","promiseQueue","replaceStreamingParams","streams","streamIds","invocationDescriptor","createStreamInvocation","subject","Subject","cancelCallback","cancelInvocation","createCancelInvocation","sendWithProtocol","invocationEvent","Completion","complete","launchStreams","sendPromise","createInvocation","invoke","on","newMethod","toLowerCase","off","handlers","removeIdx","splice","callback","onreconnecting","onreconnected","processHandshakeResponse","messages_1","parseMessages","Invocation","invokeClientMethod","StreamItem","Close","allowReconnect","responseMessage","pingServerHandle","timeoutHandle","serverTimeout","invocationMessage","target","forEach","m","cancelCallbacksWithError","reconnect","reconnectStartTime","previousReconnectAttempts","retryError","nextRetryDelay","Date","now","getNextRetryDelay","toString","elapsedMilliseconds","retryReason","keys","key","nonblocking","streamId","subscribe","createCompletionMessage","err","createStreamItemMessage","argument","isObservable","arg","StreamInvocation","id","CancelInvocation","./HandshakeProtocol","./IHubProtocol","./Subject","10","DefaultReconnectPolicy_1","HttpConnection_1","HubConnection_1","JsonHubProtocol_1","Loggers_1","LogLevelNameMapping","trace","Trace","debug","info","information","warn","warning","critical","Critical","none","None","HubConnectionBuilder","configureLogging","logging","logLevel","mapping","parseLogLevel","ConsoleLogger","withUrl","transportTypeOrOptions","isNotEmpty","httpConnectionOptions","withHubProtocol","withAutomaticReconnect","retryDelaysOrReconnectPolicy","isArray","build","NullLogger","instance","JsonHubProtocol","./DefaultReconnectPolicy","./HttpConnection","./HubConnection","./JsonHubProtocol","./Loggers","11","12","13","14","Text","input","hubMessages","parsedMessage","isInvocationMessage","isStreamItemMessage","isCompletionMessage","assertNotEmptyString","15","_logLevel","_message","16","AbortController_1","pollAbort","running","pollOptions","pollUrl","_c","getAccessToken","updateHeaderToken","closeError","receiving","poll","getDataDetail","pollAborted","raiseOnClose","name_1","deleteOptions","logMessage","./AbortController","17","eventSourceConstructor","encodeURIComponent","opened","eventSource","isWebWorker","Cookie","onmessage","close","onerror","onopen","18","observers","observer","SubjectSubscription","19","output","split","20","process","VERSION","val","match","values","includeContent","detail","formatArrayBuffer","view","str","num","substr","ArrayBuffer","transportName","defaultHeaders","dispose","minimumLogLevel","outputConsole","console","toISOString","userAgentHeaderName","constructUserAgent","getOsName","getRuntime","getRuntimeVersion","os","runtime","runtimeVersion","userAgent","majorAndMinor","platform","versions","node","_process","21","webSocketConstructor","webSocket","replace","binaryType","_event","event","ErrorEvent","readyState","OPEN","isCloseEvent","wasClean","22","xhr","open","setRequestHeader","header","onload","responseText","ontimeout","23","HubConnectionBuilder_1","./HubConnectionBuilder","24","Hub","Logger","SignalR","Log","b64","received","stats","exception","Server","services","isOpen","service","asyncWrite","asyncRead","read","Connect","state","Success","./Logger.js","@microsoft/signalr","25","x","Info","26","Views","vdView","init","vm","Main","ko","applyBindings","./Views.js","27","__read","ar","__spread","ToDisplay","rowCode","colCode","isAlpha","isGraph","isContiguous","char","nativeCode","getNativeCharCode","FromKeyboard","Space","charCodeAt","IsMosaic","FromKeyboardString","28","SAA5050","Terminal","Mode7","displayBuffer","flags","Flags","afterFlags","SetAfterFlags","bufferRowIdx","bufferColIdx","doubleHeightLowerRowIdx","lastCharacter","frameBufferMax","frameBuffer","frameBufferOffset","headerRow","Constants","MaxCols","IsEscaped","computed","IsContiguous","IsCursorOn","IsDoubleHeight","IsConcealed","IsFlashing","IsAlpha","IsGraphics","AlphaFgColour","MosaicFgColour","BgColour","IsMosaicHeld","HeldMosaic","fill","DecodeBase64","from","atob","DecodeBytes","bufferIdx","MaxRows","nextRow","newFrame","fillEnd","CursorOff","isFlashing","isBoxing","isDoubleHeight","alphaFgColour","isMosaicHeld","mosaicFgColour","cell","Cell","Fg","Bg","cellBelow","SetCharacter","IsHeldMosaicContiguous","getChar","Rows","SetIsDoubleHeightLowerRow","Reset","CursorOn","ResetCursor","Load","GetFrameAsBase64","btoa","FrameNumber","matches","prev","col","observable","Colours","black","white","IsBoxing","pending","wasAlpha","./Mode7.js","./Terminal.js","29","Storage","Download","Frame","thumbnail","uri","mime","filename","size","MimeTypes","ImagePng","frameKeyPrefix","downloadKeyPrefix","storage","localStorage","frameKeys","getKeys","downloadKeys","sort","getItem","setItem","Number","sn","Frames","removeItem","filter","GetFrameAt","idx","RemoveFrameAt","AddFrame","getSeqNo","Downloads","RemoveDownloadAt","AddDownload","Migrate","Version","MessageSequenceNumber","canvas_1","getElementById","view_1","ViewDataView","Decoder","SaveAsImage","pattern","test","Math","floor","random","30","SvgBufferCell","SvgBufferRow","SvgBufferTransform","CellHeight","CellDoubleHeight","CellWidth","FontDescender","DoubleFontDescender","ShowGrid","StatusRow","row","rowIdx","array","ViewBox","Grid","getGridLines","width","height","grid","colIdx","is10th","X1","Y1","X2","Y2","Css","bufferRows","RowIdx","myBufferRow","IsHidden","Y","IsAnyDoubleHeight","Cells","some","RowHeight","bufferCell","Character","FontSize","Width","X","TextX","TextY","CellCss","isMosaic","IsContiguousMosaic","BgCss","IsCursor","FgCss","Id","Fixes","fixes","31","OutputBuffer","Write","Length","GetBase64","onError","onEndOfFrame","onEndOfFile","threeQuarters","space","bar","outputBuffer","frameNumber","runningChecksum","checksum","frameLetter","shiftOffset","controlCode","ignore","inFrame","TryDecodeHeaderFrame","Decode","invokeCallbacks","checkParity","parity","ch","32","Position","Input","Clock","Row","ControlKeys","Cursor","ridx","CellAtPosition","position","Column","SetStatusRow","fg","bg","cidx","_fg","_cachedFg","Enlist","show","isContiguousMosaic","Start","clock","setInterval","cb","Stop","clearInterval","onAlt","onChar","OnKeyDown","el","oe","originalEvent","altKey","Reveal","Advance","Hold","canvas","imgSzX","imgSzY","colours","szX","szY","szY2","ctx","getContext","textBaseline","rectY","textY","font","fillStyle","fillRect","fillText","preamble","toDataURL","ceil","extension","33","Mullard","Telesoft","ViewDataHub","SVG","IsRevealed","EnableFlash","defaultHeader","mainViewElement","downloadsElement","teletextCommands","HOLD","ADVANCE","viewdataCommands","NEXT","PREVIOUS","Header","UserStats","Services","observableArray","SelectedService","IsViewFocused","IsConnected","IsViewdata","IsTeletext","Postamble","Downloading","SavedFrames","EnableLogoff","EnableCommands","EnableDownload","View","Keyboard","Command","ToggleReveal","Downloader","Status","unexpected","frame","scrollToDownloads","active","success","clear","Send","ToggleConnect","throttle","disconnect","endsWith","Logoff","RemoveDownload","downloads","SaveFrame","FrameSlider","refresh","LoadSavedFrame","Clipboard","CopySavedFrame","select","execCommand","RemoveSavedFrame","views","image","FullScreen","requestFullscreen","EnableFlashing","newv","initGestures","$","lightSlider","autoWidth","checkConnection","reload","onConnected","onDisconnected","raw","host","port","mc","Hammer","Manager","add","Tap","taps","Pan","direction","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_DOWN","debounce","fullscreenElement","exitFullscreen","postamble","getBoundingClientRect","top","scrollY","scroll","behavior","./Hub.js","./Mullard.js","./Storage.js","./SvgRenderer.js","./Telesoft.js","34","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","len","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","end","35","base64","ieee754","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","RangeError","buf","encodingOrOffset","allocUnsafe","string","encoding","isEncoding","actual","fromString","isView","fromArrayLike","isInstance","byteOffset","fromArrayBuffer","valueOf","obj","isBuffer","checked","copy","numberIsNaN","fromObject","toPrimitive","assertSize","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","parseInt","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","foo","typedArraySupport","species","writable","poolSize","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","max","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","src","dst","base64-js","36","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","isNaN","LN2","37","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,SAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,KAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,GCAA,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAMA,IAAAC,EAAA,WACA,SAAAA,IACAC,KAAAC,WAAA,EACAD,KAAAE,QAAA,KAwBA,OAtBAH,EAAAI,UAAAC,MAAA,WACAJ,KAAAC,YACAD,KAAAC,WAAA,EACAD,KAAAE,SACAF,KAAAE,YAIAN,OAAAC,eAAAE,EAAAI,UAAA,SAAA,CACAE,IAAA,WACA,OAAAL,MAEAM,YAAA,EACAC,cAAA,IAEAX,OAAAC,eAAAE,EAAAI,UAAA,UAAA,CACAE,IAAA,WACA,OAAAL,KAAAC,WAEAK,YAAA,EACAC,cAAA,IAEAR,EA3BA,GA6BAR,EAAAQ,gBAAAA,GCGE,IAAIS,EAAE,CAAC,SAASvB,EAAQU,EAAOJ,GCzCjC,aAGA,IACAkB,EADAC,EAAAV,MAAAA,KAAAU,YACAD,EAAAb,OAAAe,gBACA,CAAAC,UAAA,cAAAC,OAAA,SAAAC,EAAAC,GAAAD,EAAAF,UAAAG,IACA,SAAAD,EAAAC,GAAA,IAAA,IAAAzB,KAAAyB,EAAAA,EAAAC,eAAA1B,KAAAwB,EAAAxB,GAAAyB,EAAAzB,KACA,SAAAwB,EAAAC,GAEA,SAAAE,IAAAjB,KAAAkB,YAAAJ,EADAL,EAAAK,EAAAC,GAEAD,EAAAX,UAAA,OAAAY,EAAAnB,OAAAuB,OAAAJ,IAAAE,EAAAd,UAAAY,EAAAZ,UAAA,IAAAc,KAGArB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAAsB,EAAAnC,EAAA,YACAoC,EAAApC,EAAA,qBACAqC,EAAArC,EAAA,gBACAsC,EAAAtC,EAAA,WACAuC,EAAAvC,EAAA,mBAEAwC,EAAA,SAAAC,GAGA,SAAAD,EAAAE,GACA,IAAAC,EAAAF,EAAAlC,KAAAQ,OAAAA,KACA,GAAA,oBAAA6B,OAAAN,EAAAO,SAAAC,OACAH,EAAAI,WAAA,IAAAX,EAAAY,gBAAAN,OAEA,CAAA,GAAA,oBAAAO,eAIA,MAAA,IAAA9C,MAAA,+BAHAwC,EAAAI,WAAA,IAAAR,EAAAW,cAAAR,GAKA,OAAAC,EAmBA,OAhCAlB,EAAAe,EAAAC,GAgBAD,EAAAtB,UAAAiC,KAAA,SAAAC,GAEA,OAAAA,EAAAC,aAAAD,EAAAC,YAAAC,QACAC,QAAAC,OAAA,IAAArB,EAAAsB,YAEAL,EAAAM,OAGAN,EAAAO,IAGA5C,KAAAgC,WAAAI,KAAAC,GAFAG,QAAAC,OAAA,IAAArD,MAAA,oBAHAoD,QAAAC,OAAA,IAAArD,MAAA,wBAOAqC,EAAAtB,UAAA0C,gBAAA,SAAAD,GACA,OAAA5C,KAAAgC,WAAAa,gBAAAD,IAEAnB,EAjCA,CAkCAH,EAAAwB,YACAvD,EAAAkC,kBAAAA,GD4CE,CAACsB,WAAW,EAAEC,oBAAoB,EAAEC,eAAe,EAAEC,UAAU,GAAGC,kBAAkB,KAAKC,EAAE,CAAC,SAASnE,EAAQU,EAAOJ,GEnGtH,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAEA,IAAAuD,EAAA,CAAA,EAAA,IAAA,IAAA,IAAA,MAEAC,EAAA,WACA,SAAAA,EAAAC,GACAvD,KAAAuD,iBAAAC,IAAAD,EAAAA,EAAAE,OAAA,CAAA,OAAAJ,EAKA,OAHAC,EAAAnD,UAAAuD,6BAAA,SAAAC,GACA,OAAA3D,KAAAuD,YAAAI,EAAAC,qBAEAN,EAPA,GASA/D,EAAA+D,uBAAAA,GFsGE,IAAIO,EAAE,CAAC,SAAS5E,EAAQU,EAAOJ,GGtHjC,aAGA,IACAkB,EADAC,EAAAV,MAAAA,KAAAU,YACAD,EAAAb,OAAAe,gBACA,CAAAC,UAAA,cAAAC,OAAA,SAAAC,EAAAC,GAAAD,EAAAF,UAAAG,IACA,SAAAD,EAAAC,GAAA,IAAA,IAAAzB,KAAAyB,EAAAA,EAAAC,eAAA1B,KAAAwB,EAAAxB,GAAAyB,EAAAzB,KACA,SAAAwB,EAAAC,GAEA,SAAAE,IAAAjB,KAAAkB,YAAAJ,EADAL,EAAAK,EAAAC,GAEAD,EAAAX,UAAA,OAAAY,EAAAnB,OAAAuB,OAAAJ,IAAAE,EAAAd,UAAAY,EAAAZ,UAAA,IAAAc,KAGArB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAEA,IAAAgE,EAAA,SAAApC,GAOA,SAAAoC,EAAAC,EAAAC,GACA,IACApC,EAAA5B,KACAiE,EAFAjE,KAAAkB,YAEAf,UAMA,OALAyB,EAAAF,EAAAlC,KAAAQ,KAAA+D,IAAA/D,MACAgE,WAAAA,EAGApC,EAAAhB,UAAAqD,EACArC,EAEA,OAjBAlB,EAAAoD,EAAApC,GAiBAoC,EAlBA,CAmBA1E,OACAG,EAAAuE,UAAAA,EAEA,IAAAI,EAAA,SAAAxC,GAMA,SAAAwC,EAAAH,QAEA,IAAAA,IAAAA,EAAA,uBACA,IAAAnC,EAAA5B,KACAiE,EAHAjE,KAAAkB,YAGAf,UAKA,OAJAyB,EAAAF,EAAAlC,KAAAQ,KAAA+D,IAAA/D,MAGAY,UAAAqD,EACArC,EAEA,OAhBAlB,EAAAwD,EAAAxC,GAgBAwC,EAjBA,CAkBA9E,OACAG,EAAA2E,aAAAA,EAEA,IAAAxB,EAAA,SAAAhB,GAMA,SAAAgB,EAAAqB,QAEA,IAAAA,IAAAA,EAAA,sBACA,IAAAnC,EAAA5B,KACAiE,EAHAjE,KAAAkB,YAGAf,UAKA,OAJAyB,EAAAF,EAAAlC,KAAAQ,KAAA+D,IAAA/D,MAGAY,UAAAqD,EACArC,EAEA,OAhBAlB,EAAAgC,EAAAhB,GAgBAgB,EAjBA,CAkBAtD,OACAG,EAAAmD,WAAAA,GHyHE,IAAIyB,EAAE,CAAC,SAASlF,EAAQU,EAAOJ,GItMjC,aAGA,IACAkB,EADAC,EAAAV,MAAAA,KAAAU,YACAD,EAAAb,OAAAe,gBACA,CAAAC,UAAA,cAAAC,OAAA,SAAAC,EAAAC,GAAAD,EAAAF,UAAAG,IACA,SAAAD,EAAAC,GAAA,IAAA,IAAAzB,KAAAyB,EAAAA,EAAAC,eAAA1B,KAAAwB,EAAAxB,GAAAyB,EAAAzB,KACA,SAAAwB,EAAAC,GAEA,SAAAE,IAAAjB,KAAAkB,YAAAJ,EADAL,EAAAK,EAAAC,GAEAD,EAAAX,UAAA,OAAAY,EAAAnB,OAAAuB,OAAAJ,IAAAE,EAAAd,UAAAY,EAAAZ,UAAA,IAAAc,KAGAmD,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEA4F,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAAAA,EAAAC,KAAAN,EAAAK,EAAApF,OAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAAK,EAAApF,UAAAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAAsB,EAAAnC,EAAA,YACAqC,EAAArC,EAAA,gBACAwH,EAAAxH,EAAA,aACAsC,EAAAtC,EAAA,WACAgD,EAAA,SAAAP,GAEA,SAAAO,EAAAN,GACA,IAAAC,EAAAF,EAAAlC,KAAAQ,OAAAA,KAEA,GADA4B,EAAAD,OAAAA,EACA,oBAAAE,MAAA,CAGA,IAAA6E,EAAA,mBAAAC,oBAAAC,wBAAA3H,EAEA2C,EAAAiF,IAAA,IAAAH,EAAA,gBAAAI,WACAlF,EAAAmF,UAAAL,EAAA,cAGA9E,EAAAmF,UAAAL,EAAA,eAAAA,CAAA9E,EAAAmF,UAAAnF,EAAAiF,KAEAjF,EAAAoF,oBAAAN,EAAA,yBAGA9E,EAAAmF,UAAAlF,MAAAoF,KAAAC,MACAtF,EAAAoF,oBAAAjH,gBAEA,OAAA6B,EAyFA,OA9GAlB,EAAAuB,EAAAP,GAwBAO,EAAA9B,UAAAiC,KAAA,SAAAC,GACA,OAAAmC,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAmH,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACA7F,EAAA5B,KACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAEA,GAAAtD,EAAAC,aAAAD,EAAAC,YAAAC,QACA,MAAA,IAAAnB,EAAAsB,WAEA,IAAAL,EAAAM,OACA,MAAA,IAAAvD,MAAA,sBAEA,IAAAiD,EAAAO,IACA,MAAA,IAAAxD,MAAA,mBAEA+H,EAAA,IAAAnH,KAAAgH,oBAEA3E,EAAAC,cACAD,EAAAC,YAAApC,QAAA,WACAiH,EAAA/G,QACAgH,EAAA,IAAAhG,EAAAsB,aAGA2E,EAAA,KACAhF,EAAAsF,UACAL,EAAAjF,EAAAsF,QACAN,EAAAO,YAAA,WACAT,EAAA/G,QACAwB,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAAC,QAAA,8BACAX,EAAA,IAAAhG,EAAA8C,eACAoD,IAEAI,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,EAAA,IACA,CAAA,EAAAxG,KAAA+G,UAAA1E,EAAAO,IAAA,CACA2C,KAAAlD,EAAA2F,QACAC,MAAA,WACAC,aAAA,IAAA7F,EAAA8F,gBAAA,UAAA,cACAC,QAAAhE,EAAA,CAAAiE,eAAA,2BAAAC,mBAAA,kBAAAjG,EAAA+F,SACAzF,OAAAN,EAAAM,OACA4F,KAAA,OACAC,SAAA,SACAC,OAAAtB,EAAAsB,UAEA,KAAA,EAEA,OADAlB,EAAAG,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EAEA,GADA4B,EAAAE,EAAA9B,OACAwB,EACA,MAAAA,EAGA,MADApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAC,QAAA,4BAAAP,EAAA,KACAA,EACA,KAAA,EAOA,OANAH,GACAqB,aAAArB,GAEAhF,EAAAC,cACAD,EAAAC,YAAApC,QAAA,MAEA,CAAA,GACA,KAAA,EACA,IAAAqH,EAAAoB,GACA,MAAA,IAAAvH,EAAA0C,UAAAyD,EAAAqB,WAAArB,EAAAsB,QAGA,MAAA,CAAA,EAmBA,SAAAtB,EAAAuB,GACA,IAAAd,EACA,OAAAc,GACA,IAAA,cACAd,EAAAT,EAAAwB,cACA,MACA,IAAA,OACAf,EAAAT,EAAAyB,OACA,MACA,IAAA,OACA,IAAA,WACA,IAAA,OACA,MAAA,IAAA5J,MAAA0J,EAAA,sBACA,QACAd,EAAAT,EAAAyB,OAGA,OAAAhB,EArCAiB,CAAA1B,EAAAlF,EAAAyG,eAEA,KAAA,EAEA,OADArB,EAAAC,EAAA9B,OACA,CAAA,EAAA,IAAAtE,EAAA4H,aAAA3B,EAAAsB,OAAAtB,EAAAqB,WAAAnB,YAKAxF,EAAA9B,UAAA0C,gBAAA,SAAAD,GACA,IAAAuG,EAAA,GAKA,OAJA5H,EAAAO,SAAAC,QAAA/B,KAAA6G,KAEA7G,KAAA6G,IAAAuC,WAAAxG,GAAA,SAAAlE,EAAAM,GAAA,OAAAmK,EAAAnK,EAAAqK,KAAA,SAEAF,GAEAlH,EA/GA,CAgHAX,EAAAwB,YACAvD,EAAA0C,gBAAAA,GJ4NE,CAACc,WAAW,EAAEE,eAAe,EAAEqG,YAAY,GAAGpG,UAAU,KAAKqG,EAAE,CAAC,SAAStK,EAAQU,EAAOJ,IAC1F,SAAWiK,IAAQ,WK3YnB,aAGA5J,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAA2J,EAAAxK,EAAA,uBACAsC,EAAAtC,EAAA,WAEAyK,EAAA,WACA,SAAAA,KA8CA,OA3CAA,EAAAvJ,UAAAwJ,sBAAA,SAAAC,GACA,OAAAH,EAAAI,kBAAAC,MAAAC,KAAAC,UAAAJ,KAEAF,EAAAvJ,UAAA8J,uBAAA,SAAAC,GACA,IACAC,EACAC,EACA,GAAA7I,EAAA8I,cAAAH,SAAA,IAAAV,GAAAU,aAAAV,EAAA,CAEA,IAAAc,EAAA,IAAAC,WAAAL,GAEA,IAAA,KADAM,EAAAF,EAAAG,QAAAhB,EAAAI,kBAAAa,sBAEA,MAAA,IAAAtL,MAAA,0BAIA,IAAAuL,EAAAH,EAAA,EACAL,EAAAS,OAAAC,aAAAxF,MAAA,KAAAiF,EAAAQ,MAAA,EAAAH,IACAP,EAAAE,EAAAS,WAAAJ,EAAAL,EAAAQ,MAAAH,GAAAK,OAAA,SAEA,CACA,IACAR,EADAS,EAAAf,EAEA,IAAA,KADAM,EAAAS,EAAAR,QAAAhB,EAAAI,kBAAAqB,kBAEA,MAAA,IAAA9L,MAAA,0BAIAuL,EAAAH,EAAA,EACAL,EAAAc,EAAAE,UAAA,EAAAR,GACAP,EAAAa,EAAAxL,OAAAkL,EAAAM,EAAAE,UAAAR,GAAA,KAGA,IAAAS,EAAA3B,EAAAI,kBAAAwB,MAAAlB,GACA5C,EAAAwC,KAAAsB,MAAAD,EAAA,IACA,GAAA7D,EAAA+D,KACA,MAAA,IAAAlM,MAAA,kDAKA,MAAA,CAAAgL,EAHA7C,IAKAmC,EA/CA,GAiDAnK,EAAAmK,kBAAAA,IL8YGlK,KAAKQ,QAAQR,KAAKQ,KAAKf,EAAQ,UAAUuK,SAE1C,CAAC+B,sBAAsB,GAAGrI,UAAU,GAAG8H,OAAS,KAAKQ,EAAE,CAAC,SAASvM,EAAQU,EAAOJ,GMxclF,aAGA,IAAA6E,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEAgB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAEA,IAAAoJ,EACA,SAAAlF,EAAA4E,EAAAZ,GACAhI,KAAAgE,WAAAA,EACAhE,KAAA4I,WAAAA,EACA5I,KAAAgI,QAAAA,GAIAzI,EAAA2J,aAAAA,EAKA,IAAApG,EAAA,WACA,SAAAA,KAoBA,OAlBAA,EAAA3C,UAAAE,IAAA,SAAAuC,EAAA6I,GACA,OAAAzL,KAAAoC,KAAAgC,EAAA,GAAAqH,EAAA,CAAA9I,OAAA,MAAAC,IAAAA,MAEAE,EAAA3C,UAAAuL,KAAA,SAAA9I,EAAA6I,GACA,OAAAzL,KAAAoC,KAAAgC,EAAA,GAAAqH,EAAA,CAAA9I,OAAA,OAAAC,IAAAA,MAEAE,EAAA3C,UAAAwL,OAAA,SAAA/I,EAAA6I,GACA,OAAAzL,KAAAoC,KAAAgC,EAAA,GAAAqH,EAAA,CAAA9I,OAAA,SAAAC,IAAAA,MAQAE,EAAA3C,UAAA0C,gBAAA,SAAAD,GACA,MAAA,IAEAE,EArBA,GAuBAvD,EAAAuD,WAAAA,GN2cE,IAAI8I,EAAE,CAAC,SAAS3M,EAAQU,EAAOJ,GO5fjC,aAGA,IAAA6E,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEA4F,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAAAA,EAAAC,KAAAN,EAAAK,EAAApF,OAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAAK,EAAApF,UAAAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAA+L,EAAA5M,EAAA,uBACAwH,EAAAxH,EAAA,aACA6M,EAAA7M,EAAA,gBACA8M,EAAA9M,EAAA,0BACA+M,EAAA/M,EAAA,+BACAsC,EAAAtC,EAAA,WACAgN,EAAAhN,EAAA,wBAGAiN,EAAA,WACA,SAAAA,EAAAtJ,EAAA6I,GASA,QARA,IAAAA,IAAAA,EAAA,IACAzL,KAAAmM,SAAA,GACAnM,KAAAoM,iBAAA,EACA7K,EAAA8K,IAAAC,WAAA1J,EAAA,OACA5C,KAAA2B,OAAAJ,EAAAgL,aAAAd,EAAA9J,QACA3B,KAAAwM,QAAAxM,KAAAyM,WAAA7J,IACA6I,EAAAA,GAAA,IACAiB,uBAAAlJ,IAAAiI,EAAAiB,mBAAAjB,EAAAiB,kBACA,kBAAAjB,EAAAtD,sBAAA3E,IAAAiI,EAAAtD,gBAIA,MAAA,IAAA/I,MAAA,mEAHAqM,EAAAtD,qBAAA3E,IAAAiI,EAAAtD,iBAAAsD,EAAAtD,gBAKA,IAAAwE,EAAA,KACAC,EAAA,KACA,GAAArL,EAAAO,SAAAC,aAAA,IAAA9C,EAAA,CAGA,IAAAyH,EAAA,mBAAAC,oBAAAC,wBAAA3H,EACA0N,EAAAjG,EAAA,MACAkG,EAAAlG,EAAA,eAEAnF,EAAAO,SAAAC,QAAA,oBAAA8K,WAAApB,EAAAoB,UAGAtL,EAAAO,SAAAC,SAAA0J,EAAAoB,WACAF,IACAlB,EAAAoB,UAAAF,GAJAlB,EAAAoB,UAAAA,UAOAtL,EAAAO,SAAAC,QAAA,oBAAA+K,aAAArB,EAAAqB,YAGAvL,EAAAO,SAAAC,SAAA0J,EAAAqB,kBACA,IAAAF,IACAnB,EAAAqB,YAAAF,GAJAnB,EAAAqB,YAAAA,YAOA9M,KAAAgC,WAAAyJ,EAAAzJ,YAAA,IAAA6J,EAAApK,kBAAAzB,KAAA2B,QACA3B,KAAA+M,gBAAA,eACA/M,KAAAgN,mBAAA,EACAhN,KAAAyL,QAAAA,EACAzL,KAAAiN,UAAA,KACAjN,KAAAkN,QAAA,KAkfA,OAhfAhB,EAAA/L,UAAAgN,MAAA,SAAAC,GACA,OAAA5I,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAqN,EACA,OAAA/H,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAIA,OAHAyH,EAAAA,GAAAtB,EAAAwB,eAAAC,OACAhM,EAAA8K,IAAAmB,KAAAJ,EAAAtB,EAAAwB,eAAA,kBACAtN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,6CAAA3B,EAAAwB,eAAAF,GAAA,MACA,iBAAApN,KAAA+M,gBACA,CAAA,EAAAvK,QAAAC,OAAA,IAAArD,MAAA,8EAEAY,KAAA+M,gBAAA,aACA/M,KAAA0N,qBAAA1N,KAAA2N,cAAAP,GACA,CAAA,EAAApN,KAAA0N,uBACA,KAAA,EAEA,OADAhG,EAAA9B,OACA,kBAAA5F,KAAA+M,gBAAA,CAAA,EAAA,IACAM,EAAA,+DACArN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAAiO,GAEA,CAAA,EAAArN,KAAA4N,cACA,KAAA,EAGA,OADAlG,EAAA9B,OACA,CAAA,EAAApD,QAAAC,OAAA,IAAArD,MAAAiO,KACA,KAAA,EACA,GAAA,cAAArN,KAAA+M,gBAGA,OAFAM,EAAA,8GACArN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAAiO,GACA,CAAA,EAAA7K,QAAAC,OAAA,IAAArD,MAAAiO,KAEA3F,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA3F,KAAAgN,mBAAA,EACA,CAAA,WAKAd,EAAA/L,UAAAiC,KAAA,SAAA8H,GACA,MAAA,cAAAlK,KAAA+M,gBACAvK,QAAAC,OAAA,IAAArD,MAAA,yEAEAY,KAAA6N,YACA7N,KAAA6N,UAAA,IAAAC,EAAA9N,KAAA+N,YAGA/N,KAAA6N,UAAAzL,KAAA8H,KAEAgC,EAAA/L,UAAA6N,KAAA,SAAA5G,GACA,OAAA5C,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAA4B,EAAA5B,KACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EACA,MAAA,iBAAA3F,KAAA+M,iBACA/M,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,+BAAArG,EAAA,0EACA,CAAA,EAAA5E,QAAAqC,YAEA,kBAAA7E,KAAA+M,iBACA/M,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,+BAAArG,EAAA,2EACA,CAAA,EAAApH,KAAA4N,eAEA5N,KAAA+M,gBAAA,gBACA/M,KAAA4N,YAAA,IAAApL,SAAA,SAAAqC,GAEAjD,EAAAqM,oBAAApJ,KAGA,CAAA,EAAA7E,KAAAkO,aAAA9G,KACA,KAAA,EAGA,OADAM,EAAA9B,OACA,CAAA,EAAA5F,KAAA4N,aACA,KAAA,EAEA,OADAlG,EAAA9B,OACA,CAAA,WAKAsG,EAAA/L,UAAA+N,aAAA,SAAA9G,GACA,OAAA5C,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAmO,EACA,OAAA7I,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAIA3F,KAAAoO,UAAAhH,EACAM,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAA0N,sBACA,KAAA,EAEA,OADAhG,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EAEA,OADA8B,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EACA,IAAA5F,KAAA+N,UAAA,MAAA,CAAA,EAAA,GACArG,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAA+N,UAAAC,QACA,KAAA,EAEA,OADAtG,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EAIA,OAHAuI,EAAAzG,EAAA9B,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,gDAAA+O,EAAA,MACAnO,KAAAqO,iBACA,CAAA,EAAA,GACA,KAAA,EAEA,OADArO,KAAA+N,eAAAvK,EACA,CAAA,EAAA,IACA,KAAA,EACAxD,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,0FACAzN,KAAAqO,iBACA3G,EAAA/B,MAAA,GACA,KAAA,GAAA,MAAA,CAAA,WAKAuG,EAAA/L,UAAAwN,cAAA,SAAAP,GACA,OAAA5I,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAA4C,EAAA0L,EAAAC,EAAAC,EAAAC,EAAAC,EACA,OAAApJ,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EACA/C,EAAA5C,KAAAwM,QACAxM,KAAA2O,mBAAA3O,KAAAyL,QAAAkD,mBACAjH,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,GAAA,CAAA,KACAxG,KAAAyL,QAAAmD,gBACA5O,KAAAyL,QAAAsC,YAAAjC,EAAA+C,kBAAAC,WAAA,CAAA,EAAA,IAEA9O,KAAA+N,UAAA/N,KAAA+O,mBAAAjD,EAAA+C,kBAAAC,YAGA,CAAA,EAAA9O,KAAAgP,eAAApM,EAAAwK,KANA,CAAA,EAAA,GAOA,KAAA,EAIA,OADA1F,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,IAAAxG,MAAA,gFACA,KAAA,EAAA,MAAA,CAAA,EAAA,IACA,KAAA,EACAkP,EAAA,KACAC,EAAA,EACAC,EAAA,WACA,IAAAS,EACA,OAAA3J,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAAA,MAAA,CAAA,EAAA8I,EAAAS,uBAAAtM,IACA,KAAA,EAGA,GAFA0L,EAAA5G,EAAA9B,OAEA,kBAAA6I,EAAA1B,iBAAA,iBAAA0B,EAAA1B,gBACA,MAAA,IAAA3N,MAAA,kDAEA,GAAAkP,EAAAlH,MACA,MAAA,IAAAhI,MAAAkP,EAAAlH,OAEA,GAAAkH,EAAAa,gBACA,MAAA,IAAA/P,MAAA,gMAUA,OARAkP,EAAA1L,MACAA,EAAA0L,EAAA1L,KAEA0L,EAAAc,cACAH,EAAAX,EAAAc,YACAX,EAAAE,mBAAA,WAAA,OAAAM,IAEAV,IACA,CAAA,QAIAE,EAAAzO,KACA0H,EAAA/B,MAAA,EACA,KAAA,EAAA,MAAA,CAAA,EAAA6I,KACA,KAAA,EACA9G,EAAA9B,OACA8B,EAAA/B,MAAA,EACA,KAAA,EACA,GAAA2I,EAAA1L,KAAA2L,EAlPA,IAkPA,MAAA,CAAA,EAAA,GACA7G,EAAA/B,MAAA,EACA,KAAA,EACA,GArPA,MAqPA4I,GAAAD,EAAA1L,IACA,MAAA,IAAAxD,MAAA,yCAEA,MAAA,CAAA,EAAAY,KAAAqP,gBAAAzM,EAAA5C,KAAAyL,QAAAsC,UAAAO,EAAAlB,IACA,KAAA,GACA1F,EAAA9B,OACA8B,EAAA/B,MAAA,GACA,KAAA,GAUA,OATA3F,KAAA+N,qBAAAhC,EAAAuD,uBACAtP,KAAAmM,SAAAoD,mBAAA,GAEA,eAAAvP,KAAA+M,kBAGA/M,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,8CACAzN,KAAA+M,gBAAA,aAEA,CAAA,EAAA,IACA,KAAA,GAKA,OAJA2B,EAAAhH,EAAA9B,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,mCAAAsP,GACA1O,KAAA+M,gBAAA,eACA/M,KAAA+N,eAAAvK,EACA,CAAA,EAAAhB,QAAAC,OAAAiM,IACA,KAAA,GAAA,MAAA,CAAA,WAKAxC,EAAA/L,UAAA+O,uBAAA,SAAAtM,GACA,OAAA4B,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAoI,EAAAoH,EAAA9H,EAAA+H,EAAA3P,EAAA4P,EAAAnI,EAAA+G,EAAAqB,EACA,OAAArK,EAAAtF,MAAA,SAAA4P,GACA,OAAAA,EAAAjK,OACA,KAAA,EAEA,OADAyC,EAAA,GACApI,KAAA2O,mBACA,CAAA,EAAA3O,KAAA2O,sBADA,CAAA,EAAA,GAEA,KAAA,GACAa,EAAAI,EAAAhK,UAEAwC,EAAA,cAAA,UAAAoH,GAEAI,EAAAjK,MAAA,EACA,KAAA,EACA+B,EAAAnG,EAAAsO,qBAAAJ,EAAA/H,EAAA,GAAA5H,EAAA4H,EAAA,GACAU,EAAAqH,GAAA3P,EACA4P,EAAA1P,KAAA8P,oBAAAlN,GACA5C,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,gCAAAiC,EAAA,KACAE,EAAAjK,MAAA,EACA,KAAA,EAEA,OADAiK,EAAA/J,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAAgC,WAAA0J,KAAAgE,EAAA,CACA1H,QAAA,GACAI,QAAAhE,EAAA,GAAAgE,EAAApI,KAAAyL,QAAArD,SACAD,gBAAAnI,KAAAyL,QAAAtD,mBAEA,KAAA,EAEA,OAAA,OADAZ,EAAAqI,EAAAhK,QACA5B,WACA,CAAA,EAAAxB,QAAAC,OAAA,IAAArD,MAAA,mDAAAmI,EAAAvD,WAAA,WAEAsK,EAAAvE,KAAAsB,MAAA9D,EAAAS,UACAoE,kBAAAkC,EAAAlC,iBAAA,KAGAkC,EAAAyB,gBAAAzB,EAAA0B,cAEA,CAAA,EAAA1B,IACA,KAAA,EAGA,OAFAqB,EAAAC,EAAAhK,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,mDAAAuQ,GACA,CAAA,EAAAnN,QAAAC,OAAAkN,IACA,KAAA,EAAA,MAAA,CAAA,WAKAzD,EAAA/L,UAAA8P,iBAAA,SAAArN,EAAAmN,GACA,OAAAA,EAGAnN,IAAA,IAAAA,EAAA6H,QAAA,KAAA,IAAA,KAAA,MAAAsF,EAFAnN,GAIAsJ,EAAA/L,UAAAkP,gBAAA,SAAAzM,EAAAsN,EAAA5B,EAAA6B,GACA,OAAA3L,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAoQ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAxD,EACA,OAAA/H,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAEA,OADAyK,EAAApQ,KAAAiQ,iBAAArN,EAAA0L,EAAAyB,iBACA/P,KAAA8Q,aAAAZ,IACAlQ,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,2EACAzN,KAAA+N,UAAAmC,EACA,CAAA,EAAAlQ,KAAAgP,eAAAoB,EAAAD,KAHA,CAAA,EAAA,GAIA,KAAA,EAGA,OAFAzI,EAAA9B,OACA5F,KAAAgQ,aAAA1B,EAAA0B,aACA,CAAA,GACA,KAAA,EACAK,EAAA,GACAC,EAAAhC,EAAAyC,qBAAA,GACAR,EAAAjC,EACAkC,EAAA,EAAAC,EAAAH,EACA5I,EAAA/B,MAAA,EACA,KAAA,EACA,OAAA6K,EAAAC,EAAAhR,QACAiR,EAAAD,EAAAD,IACAG,EAAA3Q,KAAAgR,wBAAAN,EAAAR,EAAAC,cACA/Q,OAEAiR,EAAA7J,KAAAkK,EAAA3C,UAAA,YAAA4C,GACA,CAAA,EAAA,KAHA,CAAA,EAAA,IAHA,CAAA,EAAA,IAOA,KAAA,EACA,IAAA3Q,KAAA8Q,aAAAH,GAAA,MAAA,CAAA,EAAA,IAEA,GADA3Q,KAAA+N,UAAA4C,EACAJ,EAAA,MAAA,CAAA,EAAA,GACA7I,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAAkP,uBAAAtM,IACA,KAAA,EAEA,OADA2N,EAAA7I,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EAEA,OADAgL,EAAAlJ,EAAA9B,OACA,CAAA,EAAApD,QAAAC,OAAAmO,IACA,KAAA,EACAR,EAAApQ,KAAAiQ,iBAAArN,EAAA2N,EAAAR,iBACArI,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,GAAA,CAAA,KACA,CAAA,EAAAxG,KAAAgP,eAAAoB,EAAAD,IACA,KAAA,GAGA,OAFAzI,EAAA9B,OACA5F,KAAAgQ,aAAAO,EAAAP,aACA,CAAA,GACA,KAAA,GAKA,OAJAa,EAAAnJ,EAAA9B,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,kCAAAsR,EAAA3C,UAAA,MAAA8C,GACAN,OAAA/M,EACA6M,EAAA7J,KAAAkK,EAAA3C,UAAA,YAAA8C,GACA,eAAA7Q,KAAA+M,iBACAM,EAAA,uDACArN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAAJ,GACA,CAAA,EAAA7K,QAAAC,OAAA,IAAArD,MAAAiO,MAEA,CAAA,EAAA,IACA,KAAA,GAEA,OADAmD,IACA,CAAA,EAAA,GACA,KAAA,GACA,OAAAH,EAAA5Q,OAAA,EACA,CAAA,EAAA+C,QAAAC,OAAA,IAAArD,MAAA,yEAAAiR,EAAAhH,KAAA,QAEA,CAAA,EAAA7G,QAAAC,OAAA,IAAArD,MAAA,yFAKA8M,EAAA/L,UAAA4O,mBAAA,SAAAhB,GACA,OAAAA,GACA,KAAAjC,EAAA+C,kBAAAC,WACA,IAAA9O,KAAAyL,QAAAoB,UACA,MAAA,IAAAzN,MAAA,qDAEA,OAAA,IAAA6M,EAAAgF,mBAAAjR,KAAAgC,WAAAhC,KAAA2O,mBAAA3O,KAAA2B,OAAA3B,KAAAyL,QAAAiB,oBAAA,EAAA1M,KAAAyL,QAAAoB,UAAA7M,KAAAyL,QAAArD,SAAA,IACA,KAAA0D,EAAA+C,kBAAAqC,iBACA,IAAAlR,KAAAyL,QAAAqB,YACA,MAAA,IAAA1N,MAAA,uDAEA,OAAA,IAAA4M,EAAAmF,0BAAAnR,KAAAgC,WAAAhC,KAAA2O,mBAAA3O,KAAA2B,OAAA3B,KAAAyL,QAAAiB,oBAAA,EAAA1M,KAAAyL,QAAAqB,YAAA9M,KAAAyL,QAAAtD,gBAAAnI,KAAAyL,QAAArD,SAAA,IACA,KAAA0D,EAAA+C,kBAAAuC,YACA,OAAA,IAAArF,EAAAuD,qBAAAtP,KAAAgC,WAAAhC,KAAA2O,mBAAA3O,KAAA2B,OAAA3B,KAAAyL,QAAAiB,oBAAA,EAAA1M,KAAAyL,QAAAtD,gBAAAnI,KAAAyL,QAAArD,SAAA,IACA,QACA,MAAA,IAAAhJ,MAAA,sBAAA2O,EAAA,OAGA7B,EAAA/L,UAAA6O,eAAA,SAAApM,EAAAwK,GACA,IAAAxL,EAAA5B,KAGA,OAFAA,KAAA+N,UAAAd,UAAAjN,KAAAiN,UACAjN,KAAA+N,UAAAb,QAAA,SAAAxO,GAAA,OAAAkD,EAAAyM,eAAA3P,IACAsB,KAAA+N,UAAAsD,QAAAzO,EAAAwK,IAEAlB,EAAA/L,UAAA6Q,wBAAA,SAAAN,EAAAR,EAAAC,GACA,IAAApC,EAAAjC,EAAA+C,kBAAA6B,EAAA3C,WACA,GAAAA,MAAAA,EAEA,OADA/N,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,uBAAAiD,EAAA3C,UAAA,iDACA,IAAA3O,MAAA,uBAAAsR,EAAA3C,UAAA,iDAGA,IAiHA,SAAAmC,EAAAoB,GACA,OAAApB,GAAA,IAAAoB,EAAApB,GAlHAqB,CAAArB,EAAAnC,GAyBA,OADA/N,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,uBAAA3B,EAAA+C,kBAAAd,GAAA,4CACA,IAAA3O,MAAA,IAAA0M,EAAA+C,kBAAAd,GAAA,gCAvBA,KADA2C,EAAAc,gBAAAC,KAAA,SAAAnN,GAAA,OAAAwH,EAAAwB,eAAAhJ,MACAmG,QAAA0F,IAAA,GAkBA,OADAnQ,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,uBAAA3B,EAAA+C,kBAAAd,GAAA,gEAAAjC,EAAAwB,eAAA6C,GAAA,MACA,IAAA/Q,MAAA,IAAA0M,EAAA+C,kBAAAd,GAAA,sBAAAjC,EAAAwB,eAAA6C,GAAA,KAjBA,GAAApC,IAAAjC,EAAA+C,kBAAAC,aAAA9O,KAAAyL,QAAAoB,WACAkB,IAAAjC,EAAA+C,kBAAAqC,mBAAAlR,KAAAyL,QAAAqB,YAEA,OADA9M,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,uBAAA3B,EAAA+C,kBAAAd,GAAA,uDACA,IAAA3O,MAAA,IAAA0M,EAAA+C,kBAAAd,GAAA,2CAGA/N,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,wBAAA3B,EAAA+C,kBAAAd,GAAA,MACA,IACA,OAAA/N,KAAA+O,mBAAAhB,GAEA,MAAA2D,GACA,OAAAA,IAeAxF,EAAA/L,UAAA2Q,aAAA,SAAA/C,GACA,OAAAA,GAAA,iBAAA,GAAA,YAAAA,GAEA7B,EAAA/L,UAAAkO,eAAA,SAAAjH,GACA,IAAAxF,EAAA5B,KAMA,GALAA,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,iCAAArG,EAAA,2BAAApH,KAAA+M,gBAAA,KACA/M,KAAA+N,eAAAvK,EAEA4D,EAAApH,KAAAoO,WAAAhH,EACApH,KAAAoO,eAAA5K,EACA,iBAAAxD,KAAA+M,gBAAA,CAIA,GAAA,eAAA/M,KAAA+M,gBAEA,MADA/M,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAC,QAAA,yCAAAX,EAAA,0EACA,IAAAhI,MAAA,iCAAAgI,EAAA,uEAqBA,GAnBA,kBAAApH,KAAA+M,iBAGA/M,KAAAiO,sBAEA7G,EACApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,uCAAAgI,EAAA,MAGApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,4BAEA3R,KAAA6N,YACA7N,KAAA6N,UAAAG,OAAA4D,OAAA,SAAAlT,GACAkD,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,0CAAAV,EAAA,SAEAsB,KAAA6N,eAAArK,GAEAxD,KAAAgQ,kBAAAxM,EACAxD,KAAA+M,gBAAA,eACA/M,KAAAgN,kBAAA,CACAhN,KAAAgN,mBAAA,EACA,IACAhN,KAAAkN,SACAlN,KAAAkN,QAAA9F,GAGA,MAAA1I,GACAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,0BAAAgI,EAAA,kBAAA1I,EAAA,aAlCAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,yCAAArG,EAAA,+EAsCA8E,EAAA/L,UAAAsM,WAAA,SAAA7J,GAEA,GAAA,IAAAA,EAAAiP,YAAA,WAAA,IAAA,IAAAjP,EAAAiP,YAAA,UAAA,GACA,OAAAjP,EAEA,IAAArB,EAAAO,SAAAgQ,YAAAC,OAAAC,SACA,MAAA,IAAA5S,MAAA,mBAAAwD,EAAA,MAOA,IAAAqP,EAAAF,OAAAC,SAAAE,cAAA,KAGA,OAFAD,EAAAE,KAAAvP,EACA5C,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,gBAAA/O,EAAA,SAAAqP,EAAAE,KAAA,MACAF,EAAAE,MAEAjG,EAAA/L,UAAA2P,oBAAA,SAAAlN,GACA,IAAAwP,EAAAxP,EAAA6H,QAAA,KACAiF,EAAA9M,EAAAuI,UAAA,GAAA,IAAAiH,EAAAxP,EAAAnD,OAAA2S,GAUA,MATA,MAAA1C,EAAAA,EAAAjQ,OAAA,KACAiQ,GAAA,KAEAA,GAAA,aAEA,KADAA,IAAA,IAAA0C,EAAA,GAAAxP,EAAAuI,UAAAiH,IACA3H,QAAA,sBACAiF,IAAA,IAAA0C,EAAA,IAAA,IACA1C,GAAA,oBAAA1P,KAAAoM,kBAEAsD,GAEAxD,EAhiBA,GAkiBA3M,EAAA2M,eAAAA,EAKA,IAAA4B,EAAA,WACA,SAAAA,EAAAC,GACA/N,KAAA+N,UAAAA,EACA/N,KAAAgL,OAAA,GACAhL,KAAAqS,WAAA,EACArS,KAAAsS,iBAAA,IAAAC,EACAvS,KAAAwS,gBAAA,IAAAD,EACAvS,KAAAyS,gBAAAzS,KAAA0S,WAyEA,OAvEA5E,EAAA3N,UAAAiC,KAAA,SAAA8H,GAKA,OAJAlK,KAAA2S,WAAAzI,GACAlK,KAAAwS,kBACAxS,KAAAwS,gBAAA,IAAAD,GAEAvS,KAAAwS,gBAAAI,SAEA9E,EAAA3N,UAAA6N,KAAA,WAGA,OAFAhO,KAAAqS,WAAA,EACArS,KAAAsS,iBAAAzN,UACA7E,KAAAyS,iBAEA3E,EAAA3N,UAAAwS,WAAA,SAAAzI,GACA,GAAAlK,KAAAgL,OAAAvL,eAAAO,KAAAgL,OAAA,WAAA,EACA,MAAA,IAAA5L,MAAA,sCAAAY,KAAA,OAAA,2BAAA,GAEAA,KAAAgL,OAAAxE,KAAA0D,GACAlK,KAAAsS,iBAAAzN,WAEAiJ,EAAA3N,UAAAuS,SAAA,WACA,OAAAlO,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAwS,EAAAtI,EAAA2I,EACA,OAAAvN,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAEA,MAAA,CAAA,EAAA3F,KAAAsS,iBAAAM,SACA,KAAA,EAEA,GADAlL,EAAA9B,QACA5F,KAAAqS,UAIA,OAHArS,KAAAwS,iBACAxS,KAAAwS,gBAAA/P,OAAA,uBAEA,CAAA,EAAA,GAEAzC,KAAAsS,iBAAA,IAAAC,EACAC,EAAAxS,KAAAwS,gBACAxS,KAAAwS,qBAAAhP,EACA0G,EAAA,iBAAAlK,KAAAgL,OAAA,GACAhL,KAAAgL,OAAA3B,KAAA,IACAyE,EAAAgF,cAAA9S,KAAAgL,QACAhL,KAAAgL,OAAAvL,OAAA,EACAiI,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAA+N,UAAA3L,KAAA8H,IACA,KAAA,EAGA,OAFAxC,EAAA9B,OACA4M,EAAA3N,UACA,CAAA,EAAA,GACA,KAAA,EAGA,OAFAgO,EAAAnL,EAAA9B,OACA4M,EAAA/P,OAAAoQ,GACA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,CAAA,WAKA/E,EAAAgF,cAAA,SAAAC,GAIA,IAHA,IAAAC,EAAAD,EAAAtB,KAAA,SAAA1Q,GAAA,OAAAA,EAAAgK,cAAAkI,QAAA,SAAA9T,EAAA4B,GAAA,OAAA5B,EAAA4B,KACAmE,EAAA,IAAAqF,WAAAyI,GACAE,EAAA,EACA1C,EAAA,EAAA2C,EAAAJ,EAAAvC,EAAA2C,EAAA1T,OAAA+Q,IAAA,CACA,IAAA4C,EAAAD,EAAA3C,GACAtL,EAAAmO,IAAA,IAAA9I,WAAA6I,GAAAF,GACAA,GAAAE,EAAArI,WAEA,OAAA7F,EAAA8F,QAEA8C,EAhFA,GAkFAvO,EAAAuO,mBAAAA,EACA,IAAAyE,EAAA,WACA,SAAAA,IACA,IAAA3Q,EAAA5B,KACAA,KAAA4S,QAAA,IAAApQ,SAAA,SAAAqC,EAAApC,GACA,IAAAiF,EACA,OAAAA,EAAA,CAAA7C,EAAApC,GAAAb,EAAA0R,SAAA5L,EAAA,GAAA9F,EAAA2R,SAAA7L,EAAA,GAAAA,KASA,OANA6K,EAAApS,UAAA0E,QAAA,WACA7E,KAAAsT,YAEAf,EAAApS,UAAAsC,OAAA,SAAA+Q,GACAxT,KAAAuT,SAAAC,IAEAjB,EAdA,IP8gBE,CAACkB,sBAAsB,EAAEnK,YAAY,GAAGoK,eAAe,GAAGC,yBAAyB,GAAGC,8BAA8B,GAAG1Q,UAAU,GAAG2Q,uBAAuB,KAAKC,EAAE,CAAC,SAAS7U,EAAQU,EAAOJ,GQhsC7L,aAGA,IAAAiF,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAAAA,EAAAC,KAAAN,EAAAK,EAAApF,OAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAAK,EAAApF,UAAAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAQAiU,EARAC,EAAA/U,EAAA,uBACAgV,EAAAhV,EAAA,kBACAwH,EAAAxH,EAAA,aACAiV,EAAAjV,EAAA,aACAsC,EAAAtC,EAAA,YAKA,SAAA8U,GAEAA,EAAA,aAAA,eAEAA,EAAA,WAAA,aAEAA,EAAA,UAAA,YAEAA,EAAA,cAAA,gBAEAA,EAAA,aAAA,eAVA,CAWAA,EAAAxU,EAAAwU,qBAAAxU,EAAAwU,mBAAA,KAEA,IAAAI,EAAA,WACA,SAAAA,EAAAC,EAAAzS,EAAA0S,EAAAC,GACA,IAAA1S,EAAA5B,KACAuB,EAAA8K,IAAAC,WAAA8H,EAAA,cACA7S,EAAA8K,IAAAC,WAAA3K,EAAA,UACAJ,EAAA8K,IAAAC,WAAA+H,EAAA,YACArU,KAAAuU,4BAvBA,IAwBAvU,KAAAwU,gCAvBA,KAwBAxU,KAAA2B,OAAAA,EACA3B,KAAAqU,SAAAA,EACArU,KAAAoU,WAAAA,EACApU,KAAAsU,gBAAAA,EACAtU,KAAAyU,kBAAA,IAAAT,EAAAtK,kBACA1J,KAAAoU,WAAAnH,UAAA,SAAA/C,GAAA,OAAAtI,EAAA8S,oBAAAxK,IACAlK,KAAAoU,WAAAlH,QAAA,SAAA9F,GAAA,OAAAxF,EAAA+S,iBAAAvN,IACApH,KAAA4U,UAAA,GACA5U,KAAA6U,QAAA,GACA7U,KAAA8U,gBAAA,GACA9U,KAAA+U,sBAAA,GACA/U,KAAAgV,qBAAA,GACAhV,KAAAiV,aAAA,EACAjV,KAAAkV,2BAAA,EACAlV,KAAA+M,gBAAAgH,EAAAoB,aACAnV,KAAAgN,mBAAA,EACAhN,KAAAoV,kBAAApV,KAAAqU,SAAAgB,aAAA,CAAA/J,KAAA2I,EAAAqB,YAAAC,OA+1BA,OAx1BApB,EAAAhT,OAAA,SAAAiT,EAAAzS,EAAA0S,EAAAC,GACA,OAAA,IAAAH,EAAAC,EAAAzS,EAAA0S,EAAAC,IAEA1U,OAAAC,eAAAsU,EAAAhU,UAAA,QAAA,CAEAE,IAAA,WACA,OAAAL,KAAA+M,iBAEAzM,YAAA,EACAC,cAAA,IAEAX,OAAAC,eAAAsU,EAAAhU,UAAA,eAAA,CAIAE,IAAA,WACA,OAAAL,KAAAoU,YAAApU,KAAAoU,WAAApE,cAAA,MAEA1P,YAAA,EACAC,cAAA,IAEAX,OAAAC,eAAAsU,EAAAhU,UAAA,UAAA,CAEAE,IAAA,WACA,OAAAL,KAAAoU,WAAA5H,SAAA,IAOA6G,IAAA,SAAAzQ,GACA,GAAA5C,KAAA+M,kBAAAgH,EAAAoB,cAAAnV,KAAA+M,kBAAAgH,EAAAyB,aACA,MAAA,IAAApW,MAAA,0FAEA,IAAAwD,EACA,MAAA,IAAAxD,MAAA,8CAEAY,KAAAoU,WAAA5H,QAAA5J,GAEAtC,YAAA,EACAC,cAAA,IAMA4T,EAAAhU,UAAAgN,MAAA,WAEA,OADAnN,KAAAyV,aAAAzV,KAAA0V,4BACA1V,KAAAyV,cAEAtB,EAAAhU,UAAAuV,0BAAA,WACA,OAAAlR,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAwH,EACA,OAAAlC,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EACA,GAAA3F,KAAA+M,kBAAAgH,EAAAoB,aACA,MAAA,CAAA,EAAA3S,QAAAC,OAAA,IAAArD,MAAA,2EAEAY,KAAA+M,gBAAAgH,EAAA4B,WACA3V,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,2BACA/F,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAA2N,iBACA,KAAA,EAKA,OAJAjG,EAAA9B,OACA5F,KAAA+M,gBAAAgH,EAAA6B,UACA5V,KAAAgN,mBAAA,EACAhN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,yCACA,CAAA,EAAA,GACA,KAAA,EAIA,OAHAjG,EAAAE,EAAA9B,OACA5F,KAAA+M,gBAAAgH,EAAAoB,aACAnV,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,gEAAAjG,EAAA,MACA,CAAA,EAAAhF,QAAAC,OAAA+E,IACA,KAAA,EAAA,MAAA,CAAA,WAKA2M,EAAAhU,UAAAwN,cAAA,WACA,OAAAnJ,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAA6V,EAAAjM,EAAAuE,EACAvM,EAAA5B,KACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAOA,OANA3F,KAAA8V,0BAAAtS,EACAxD,KAAAkV,2BAAA,EACAW,EAAA,IAAArT,SAAA,SAAAqC,EAAApC,GACAb,EAAAmU,kBAAAlR,EACAjD,EAAAoU,kBAAAvT,KAEA,CAAA,EAAAzC,KAAAoU,WAAAjH,MAAAnN,KAAAqU,SAAAjH,iBACA,KAAA,EACA1F,EAAA9B,OACA8B,EAAA/B,MAAA,EACA,KAAA,EAOA,OANA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACAoD,EAAA,CACAyK,SAAArU,KAAAqU,SAAA5E,KACAwG,QAAAjW,KAAAqU,SAAA4B,SAEAjW,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,8BACA,CAAA,EAAAzN,KAAAkW,YAAAlW,KAAAyU,kBAAA9K,sBAAAC,KACA,KAAA,EAOA,OANAlC,EAAA9B,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,sBAAA3R,KAAAqU,SAAA5E,KAAA,MAEAzP,KAAAmW,iBACAnW,KAAAoW,qBACApW,KAAAqW,yBACA,CAAA,EAAAR,GACA,KAAA,EAKA,GAJAnO,EAAA9B,OAIA5F,KAAA8V,qBAIA,MAAA9V,KAAA8V,qBAEA,MAAA,CAAA,EAAA,GACA,KAAA,EAOA,OANA3H,EAAAzG,EAAA9B,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,oCAAAU,EAAA,6CACAnO,KAAAmW,iBACAnW,KAAAsW,mBAGA,CAAA,EAAAtW,KAAAoU,WAAApG,KAAAG,IACA,KAAA,EAIA,MADAzG,EAAA9B,OACAuI,EACA,KAAA,EAAA,MAAA,CAAA,WASAgG,EAAAhU,UAAA6N,KAAA,WACA,OAAAxJ,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAyV,EACA,OAAAnQ,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAGA,OAFA8P,EAAAzV,KAAAyV,aACAzV,KAAA4N,YAAA5N,KAAAkO,eACA,CAAA,EAAAlO,KAAA4N,aACA,KAAA,EACAlG,EAAA9B,OACA8B,EAAA/B,MAAA,EACA,KAAA,EAGA,OAFA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IAEA,CAAA,EAAAiP,GACA,KAAA,EAGA,OADA/N,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EAEA,OADA8B,EAAA9B,OACA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,CAAA,WAKAuO,EAAAhU,UAAA+N,aAAA,SAAA9G,GACA,OAAApH,KAAA+M,kBAAAgH,EAAAoB,cACAnV,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,8BAAArG,EAAA,8DACA5E,QAAAqC,WAEA7E,KAAA+M,kBAAAgH,EAAAwC,eACAvW,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,+BAAArG,EAAA,2EACApH,KAAA4N,cAEA5N,KAAA+M,gBAAAgH,EAAAwC,cACAvW,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,2BACAzN,KAAAwW,sBAIAxW,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,iEACA/E,aAAA1I,KAAAwW,sBACAxW,KAAAwW,0BAAAhT,EACAxD,KAAAyW,gBACAjU,QAAAqC,YAEA7E,KAAAmW,iBACAnW,KAAAsW,mBACAtW,KAAA8V,qBAAA1O,GAAA,IAAAhI,MAAA,uEAIAY,KAAAoU,WAAApG,KAAA5G,MASA+M,EAAAhU,UAAAuW,OAAA,SAAAC,GAGA,IAFA,IAAA/U,EAAA5B,KACA4W,EAAA,GACApG,EAAA,EAAAA,EAAAjM,UAAA9E,OAAA+Q,IACAoG,EAAApG,EAAA,GAAAjM,UAAAiM,GAEA,IAEAqG,EAFAnP,EAAA1H,KAAA8W,uBAAAF,GAAAG,EAAArP,EAAA,GAAAsP,EAAAtP,EAAA,GACAuP,EAAAjX,KAAAkX,uBAAAP,EAAAC,EAAAI,GAEAG,EAAA,IAAAjD,EAAAkD,QAkCA,OAjCAD,EAAAE,eAAA,WACA,IAAAC,EAAA1V,EAAA2V,uBAAAN,EAAAhC,cAEA,cADArT,EAAAgT,UAAAqC,EAAAhC,cACA4B,EAAAzR,MAAA,WACA,OAAAxD,EAAA4V,iBAAAF,OAGAtX,KAAA4U,UAAAqC,EAAAhC,cAAA,SAAAwC,EAAArQ,GACAA,EACA+P,EAAA/P,MAAAA,GAGAqQ,IAEAA,EAAAnM,OAAA2I,EAAAqB,YAAAoC,WACAD,EAAArQ,MACA+P,EAAA/P,MAAA,IAAAhI,MAAAqY,EAAArQ,QAGA+P,EAAAQ,WAIAR,EAAAnS,KAAAyS,EAAA,QAIAZ,EAAA7W,KAAAwX,iBAAAP,GACArF,OAAA,SAAAlT,GACAyY,EAAA/P,MAAA1I,UACAkD,EAAAgT,UAAAqC,EAAAhC,iBAEAjV,KAAA4X,cAAAb,EAAAF,GACAM,GAEAhD,EAAAhU,UAAA+V,YAAA,SAAA7I,GAEA,OADArN,KAAAqW,yBACArW,KAAAoU,WAAAhS,KAAAiL,IAMA8G,EAAAhU,UAAAqX,iBAAA,SAAAnK,GACA,OAAArN,KAAAkW,YAAAlW,KAAAqU,SAAAgB,aAAAhI,KAWA8G,EAAAhU,UAAAiC,KAAA,SAAAuU,GAEA,IADA,IAAAC,EAAA,GACApG,EAAA,EAAAA,EAAAjM,UAAA9E,OAAA+Q,IACAoG,EAAApG,EAAA,GAAAjM,UAAAiM,GAEA,IAAA9I,EAAA1H,KAAA8W,uBAAAF,GAAAG,EAAArP,EAAA,GAAAsP,EAAAtP,EAAA,GACAmQ,EAAA7X,KAAAwX,iBAAAxX,KAAA8X,iBAAAnB,EAAAC,GAAA,EAAAI,IAEA,OADAhX,KAAA4X,cAAAb,EAAAc,GACAA,GAaA1D,EAAAhU,UAAA4X,OAAA,SAAApB,GAGA,IAFA,IAAA/U,EAAA5B,KACA4W,EAAA,GACApG,EAAA,EAAAA,EAAAjM,UAAA9E,OAAA+Q,IACAoG,EAAApG,EAAA,GAAAjM,UAAAiM,GAEA,IAAA9I,EAAA1H,KAAA8W,uBAAAF,GAAAG,EAAArP,EAAA,GAAAsP,EAAAtP,EAAA,GACAuP,EAAAjX,KAAA8X,iBAAAnB,EAAAC,GAAA,EAAAI,GACA1X,EAAA,IAAAkD,SAAA,SAAAqC,EAAApC,GAEAb,EAAAgT,UAAAqC,EAAAhC,cAAA,SAAAwC,EAAArQ,GACAA,EACA3E,EAAA2E,GAGAqQ,IAEAA,EAAAnM,OAAA2I,EAAAqB,YAAAoC,WACAD,EAAArQ,MACA3E,EAAA,IAAArD,MAAAqY,EAAArQ,QAGAvC,EAAA4S,EAAAvS,QAIAzC,EAAA,IAAArD,MAAA,4BAAAqY,EAAAnM,SAIA,IAAAuL,EAAAjV,EAAA4V,iBAAAP,GACArF,OAAA,SAAAlT,GACA+D,EAAA/D,UAEAkD,EAAAgT,UAAAqC,EAAAhC,iBAEArT,EAAAgW,cAAAb,EAAAF,MAEA,OAAAvX,GAOA6U,EAAAhU,UAAA6X,GAAA,SAAArB,EAAAsB,GACAtB,GAAAsB,IAGAtB,EAAAA,EAAAuB,cACAlY,KAAA6U,QAAA8B,KACA3W,KAAA6U,QAAA8B,GAAA,KAGA,IAAA3W,KAAA6U,QAAA8B,GAAAlM,QAAAwN,IAGAjY,KAAA6U,QAAA8B,GAAAnQ,KAAAyR,KAEA9D,EAAAhU,UAAAgY,IAAA,SAAAxB,EAAAhU,GACA,GAAAgU,EAAA,CAGAA,EAAAA,EAAAuB,cACA,IAAAE,EAAApY,KAAA6U,QAAA8B,GACA,GAAAyB,EAGA,GAAAzV,EAAA,CACA,IAAA0V,EAAAD,EAAA3N,QAAA9H,IACA,IAAA0V,IACAD,EAAAE,OAAAD,EAAA,GACA,IAAAD,EAAA3Y,eACAO,KAAA6U,QAAA8B,gBAKA3W,KAAA6U,QAAA8B,KAOAxC,EAAAhU,UAAA+M,QAAA,SAAAqL,GACAA,GACAvY,KAAA8U,gBAAAtO,KAAA+R,IAOApE,EAAAhU,UAAAqY,eAAA,SAAAD,GACAA,GACAvY,KAAA+U,sBAAAvO,KAAA+R,IAOApE,EAAAhU,UAAAsY,cAAA,SAAAF,GACAA,GACAvY,KAAAgV,qBAAAxO,KAAA+R,IAGApE,EAAAhU,UAAAuU,oBAAA,SAAAxK,GAOA,GANAlK,KAAAmW,iBACAnW,KAAAkV,4BACAhL,EAAAlK,KAAA0Y,yBAAAxO,GACAlK,KAAAkV,2BAAA,GAGAhL,EAGA,IADA,IACAsG,EAAA,EAAAmI,EADA3Y,KAAAqU,SAAAuE,cAAA1O,EAAAlK,KAAA2B,QACA6O,EAAAmI,EAAAlZ,OAAA+Q,IAAA,CACA,IAAAnD,EAAAsL,EAAAnI,GACA,OAAAnD,EAAA/B,MACA,KAAA2I,EAAAqB,YAAAuD,WACA7Y,KAAA8Y,mBAAAzL,GACA,MACA,KAAA4G,EAAAqB,YAAAyD,WACA,KAAA9E,EAAAqB,YAAAoC,WACA,IAAAa,EAAAvY,KAAA4U,UAAAvH,EAAA4H,cACAsD,IACAlL,EAAA/B,OAAA2I,EAAAqB,YAAAoC,mBACA1X,KAAA4U,UAAAvH,EAAA4H,cAEAsD,EAAAlL,IAEA,MACA,KAAA4G,EAAAqB,YAAAC,KAEA,MACA,KAAAtB,EAAAqB,YAAA0D,MACAhZ,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,uCACA,IAAAvK,EAAAiG,EAAAjG,MAAA,IAAAhI,MAAA,sCAAAiO,EAAAjG,YAAA5D,GACA,IAAA6J,EAAA4L,eAIAjZ,KAAAoU,WAAApG,KAAA5G,GAIApH,KAAA4N,YAAA5N,KAAAkO,aAAA9G,GAEA,MACA,QACApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAC,QAAA,yBAAAsF,EAAA/B,KAAA,MAKAtL,KAAAoW,sBAEAjC,EAAAhU,UAAAuY,yBAAA,SAAAxO,GACA,IAAAxC,EACAwR,EACA9O,EACA,IACAA,GAAA1C,EAAA1H,KAAAyU,kBAAAxK,uBAAAC,IAAA,GAAAgP,EAAAxR,EAAA,GAEA,MAAAhJ,GACA,IAAA2O,EAAA,qCAAA3O,EACAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAAiO,GACA,IAAAjG,EAAA,IAAAhI,MAAAiO,GAEA,MADArN,KAAAgW,kBAAA5O,GACAA,EAEA,GAAA8R,EAAA9R,MAAA,CACAiG,EAAA,oCAAA6L,EAAA9R,MACApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAAiO,GACAjG,EAAA,IAAAhI,MAAAiO,GAEA,MADArN,KAAAgW,kBAAA5O,GACAA,EAMA,OAHApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,8BAEAzN,KAAA+V,oBACA3L,GAEA+J,EAAAhU,UAAAkW,uBAAA,WACA,IAAAzU,EAAA5B,KACAA,KAAAoU,WAAAjI,SAAAoD,oBAGAvP,KAAAsW,mBACAtW,KAAAmZ,iBAAAvR,YAAA,WAAA,OAAApD,EAAA5C,OAAA,OAAA,GAAA,WAEA,OAAA0D,EAAAtF,MAAA,SAAA4P,GACA,OAAAA,EAAAjK,OACA,KAAA,EACA,GAAA3F,KAAA+M,kBAAAgH,EAAA6B,UAAA,MAAA,CAAA,EAAA,GACAhG,EAAAjK,MAAA,EACA,KAAA,EAEA,OADAiK,EAAA/J,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAAkW,YAAAlW,KAAAoV,oBACA,KAAA,EAEA,OADAxF,EAAAhK,OACA,CAAA,EAAA,GACA,KAAA,EAKA,OAJAgK,EAAAhK,OAGA5F,KAAAsW,mBACA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,CAAA,YAGAtW,KAAAwU,mCAEAL,EAAAhU,UAAAiW,mBAAA,WACA,IAAAxU,EAAA5B,KACAA,KAAAoU,WAAAjI,UAAAnM,KAAAoU,WAAAjI,SAAAoD,oBAEAvP,KAAAoZ,cAAAxR,YAAA,WAAA,OAAAhG,EAAAyX,kBAAArZ,KAAAuU,+BAGAJ,EAAAhU,UAAAkZ,cAAA,WAIArZ,KAAAoU,WAAApG,KAAA,IAAA5O,MAAA,yEAEA+U,EAAAhU,UAAA2Y,mBAAA,SAAAQ,GACA,IAAA1X,EAAA5B,KACA6U,EAAA7U,KAAA6U,QAAAyE,EAAAC,OAAArB,eACA,GAAArD,EAAA,CACA,IACAA,EAAA2E,SAAA,SAAAC,GAAA,OAAAA,EAAApU,MAAAzD,EAAA0X,EAAA/U,cAEA,MAAA7F,GACAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,6BAAAka,EAAAC,OAAArB,cAAA,iBAAAxZ,EAAA,MAEA,GAAA4a,EAAArE,aAAA,CAEA,IAAA5H,EAAA,qFACArN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAAiO,GAEArN,KAAA4N,YAAA5N,KAAAkO,aAAA,IAAA9O,MAAAiO,UAIArN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAC,QAAA,mCAAAuR,EAAAC,OAAA,aAGApF,EAAAhU,UAAAwU,iBAAA,SAAAvN,GACApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,kCAAArG,EAAA,2BAAApH,KAAA+M,gBAAA,KAEA/M,KAAA8V,qBAAA9V,KAAA8V,sBAAA1O,GAAA,IAAAhI,MAAA,iFAGAY,KAAA+V,mBACA/V,KAAA+V,oBAEA/V,KAAA0Z,yBAAAtS,GAAA,IAAAhI,MAAA,uEACAY,KAAAmW,iBACAnW,KAAAsW,mBACAtW,KAAA+M,kBAAAgH,EAAAwC,cACAvW,KAAAyW,cAAArP,GAEApH,KAAA+M,kBAAAgH,EAAA6B,WAAA5V,KAAAsU,gBAEAtU,KAAA2Z,UAAAvS,GAEApH,KAAA+M,kBAAAgH,EAAA6B,WACA5V,KAAAyW,cAAArP,IAQA+M,EAAAhU,UAAAsW,cAAA,SAAArP,GACA,IAAAxF,EAAA5B,KACA,GAAAA,KAAAgN,kBAAA,CACAhN,KAAA+M,gBAAAgH,EAAAoB,aACAnV,KAAAgN,mBAAA,EACA,IACAhN,KAAA8U,gBAAA0E,SAAA,SAAAxa,GAAA,OAAAA,EAAAqG,MAAAzD,EAAA,CAAAwF,OAEA,MAAA1I,GACAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,0CAAAgI,EAAA,kBAAA1I,EAAA,SAIAyV,EAAAhU,UAAAwZ,UAAA,SAAAvS,GACA,OAAA5C,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAA4Z,EAAAC,EAAAC,EAAAC,EAAApK,EACA/N,EAAA5B,KACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAKA,GAJAiU,EAAAI,KAAAC,MACAJ,EAAA,EACAC,OAAAtW,IAAA4D,EAAAA,EAAA,IAAAhI,MAAA,mDAEA,QADA2a,EAAA/Z,KAAAka,kBAAAL,IAAA,EAAAC,IAIA,OAFA9Z,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,sGACAzN,KAAAyW,cAAArP,GACA,CAAA,GASA,GAPApH,KAAA+M,gBAAAgH,EAAAyB,aACApO,EACApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,6CAAAvK,EAAA,MAGApH,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,4BAEA3R,KAAAwY,eAAA,CACA,IACAxY,KAAA+U,sBAAAyE,SAAA,SAAAxa,GAAA,OAAAA,EAAAqG,MAAAzD,EAAA,CAAAwF,OAEA,MAAA1I,GACAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,iDAAAgI,EAAA,kBAAA1I,EAAA,MAGA,GAAAsB,KAAA+M,kBAAAgH,EAAAyB,aAEA,OADAxV,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,yFACA,CAAA,GAGA/F,EAAA/B,MAAA,EACA,KAAA,EACA,OAAA,OAAAoU,EAAA,CAAA,EAAA,IACA/Z,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,4BAAAkI,EAAA,kBAAAE,EAAA,QACA,CAAA,EAAA,IAAAvX,SAAA,SAAAqC,GACAjD,EAAA4U,qBAAA5O,WAAA/C,EAAAkV,QAEA,KAAA,EAGA,GAFArS,EAAA9B,OACA5F,KAAAwW,0BAAAhT,EACAxD,KAAA+M,kBAAAgH,EAAAyB,aAEA,OADAxV,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,qFACA,CAAA,GAEA/F,EAAA/B,MAAA,EACA,KAAA,EAEA,OADA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA,CAAA,EAAAxG,KAAA2N,iBACA,KAAA,EAIA,GAHAjG,EAAA9B,OACA5F,KAAA+M,gBAAAgH,EAAA6B,UACA5V,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,2CACA3R,KAAAyY,cACA,IACAzY,KAAAgV,qBAAAwE,SAAA,SAAAxa,GAAA,OAAAA,EAAAqG,MAAAzD,EAAA,CAAAA,EAAAwS,WAAApE,kBAEA,MAAAtR,GACAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,uDAAAY,KAAAoU,WAAApE,aAAA,kBAAAtR,EAAA,MAGA,MAAA,CAAA,GACA,KAAA,EAGA,OAFAiR,EAAAjI,EAAA9B,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,8CAAAhC,EAAA,MACA3P,KAAA+M,kBAAAgH,EAAAyB,cACAxV,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA2F,MAAA,uFACA,CAAA,KAEAqM,EAAAnK,aAAAvQ,MAAAuQ,EAAA,IAAAvQ,MAAAuQ,EAAAwK,YACAJ,EAAA/Z,KAAAka,kBAAAL,IAAAG,KAAAC,MAAAL,EAAAE,GACA,CAAA,EAAA,IACA,KAAA,EAAA,MAAA,CAAA,EAAA,GACA,KAAA,EAGA,OAFA9Z,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,gDAAAqI,KAAAC,MAAAL,GAAA,WAAAC,EAAA,+CACA7Z,KAAAyW,gBACA,CAAA,WAKAtC,EAAAhU,UAAA+Z,kBAAA,SAAAtW,EAAAwW,EAAAC,GACA,IACA,OAAAra,KAAAsU,gBAAA5Q,6BAAA,CACA0W,oBAAAA,EACAxW,mBAAAA,EACAyW,YAAAA,IAGA,MAAA3b,GAEA,OADAsB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,6CAAAwE,EAAA,KAAAwW,EAAA,kBAAA1b,EAAA,MACA,OAGAyV,EAAAhU,UAAAuZ,yBAAA,SAAAtS,GACA,IAAAwN,EAAA5U,KAAA4U,UACA5U,KAAA4U,UAAA,GACAhV,OAAA0a,KAAA1F,GACA4E,SAAA,SAAAe,IAEAhC,EADA3D,EAAA2F,IACA,KAAAnT,OAGA+M,EAAAhU,UAAAmW,iBAAA,WACAtW,KAAAmZ,kBACAzQ,aAAA1I,KAAAmZ,mBAGAhF,EAAAhU,UAAAgW,eAAA,WACAnW,KAAAoZ,eACA1Q,aAAA1I,KAAAoZ,gBAGAjF,EAAAhU,UAAA2X,iBAAA,SAAAnB,EAAAC,EAAA4D,EAAAxD,GACA,GAAAwD,EACA,OAAA,IAAAxD,EAAAvX,OACA,CACA8E,UAAAqS,EACAI,UAAAA,EACAuC,OAAA5C,EACArL,KAAA2I,EAAAqB,YAAAuD,YAIA,CACAtU,UAAAqS,EACA2C,OAAA5C,EACArL,KAAA2I,EAAAqB,YAAAuD,YAKA,IAAA5D,EAAAjV,KAAAiV,aAEA,OADAjV,KAAAiV,eACA,IAAA+B,EAAAvX,OACA,CACA8E,UAAAqS,EACA3B,aAAAA,EAAAkF,WACAnD,UAAAA,EACAuC,OAAA5C,EACArL,KAAA2I,EAAAqB,YAAAuD,YAIA,CACAtU,UAAAqS,EACA3B,aAAAA,EAAAkF,WACAZ,OAAA5C,EACArL,KAAA2I,EAAAqB,YAAAuD,aAKA1E,EAAAhU,UAAAyX,cAAA,SAAAb,EAAAF,GACA,IAAAjV,EAAA5B,KACA,GAAA,IAAA+W,EAAAtX,OAAA,CAIAoX,IACAA,EAAArU,QAAAqC,WAEA,IAAA2J,EAAA,SAAAiM,GACA1D,EAAA0D,GAAAC,UAAA,CACA/C,SAAA,WACAd,EAAAA,EAAAzR,MAAA,WAAA,OAAAxD,EAAA4V,iBAAA5V,EAAA+Y,wBAAAF,QAEArT,MAAA,SAAAwT,GACA,IAAAvN,EAEAA,EADAuN,aAAAxb,MACAwb,EAAAvN,QAEAuN,GAAAA,EAAAT,SACAS,EAAAT,WAGA,gBAEAtD,EAAAA,EAAAzR,MAAA,WAAA,OAAAxD,EAAA4V,iBAAA5V,EAAA+Y,wBAAAF,EAAApN,QAEArI,KAAA,SAAAoO,GACAyD,EAAAA,EAAAzR,MAAA,WAAA,OAAAxD,EAAA4V,iBAAA5V,EAAAiZ,wBAAAJ,EAAArH,WAMA,IAAA,IAAAqH,KAAA1D,EACAvI,EAAAiM,KAGAtG,EAAAhU,UAAA2W,uBAAA,SAAAF,GAGA,IAFA,IAAAG,EAAA,GACAC,EAAA,GACAlY,EAAA,EAAAA,EAAA8X,EAAAnX,OAAAX,IAAA,CACA,IAAAgc,EAAAlE,EAAA9X,GACA,GAAAkB,KAAA+a,aAAAD,GAAA,CACA,IAAAL,EAAAza,KAAAiV,aACAjV,KAAAiV,eAEA8B,EAAA0D,GAAAK,EACA9D,EAAAxQ,KAAAiU,EAAAN,YAEAvD,EAAA0B,OAAAxZ,EAAA,IAGA,MAAA,CAAAiY,EAAAC,IAEA7C,EAAAhU,UAAA4a,aAAA,SAAAC,GAEA,OAAAA,GAAAA,EAAAN,WAAA,mBAAAM,EAAAN,WAEAvG,EAAAhU,UAAA+W,uBAAA,SAAAP,EAAAC,EAAAI,GACA,IAAA/B,EAAAjV,KAAAiV,aAEA,OADAjV,KAAAiV,eACA,IAAA+B,EAAAvX,OACA,CACA8E,UAAAqS,EACA3B,aAAAA,EAAAkF,WACAnD,UAAAA,EACAuC,OAAA5C,EACArL,KAAA2I,EAAAqB,YAAA2F,kBAIA,CACA1W,UAAAqS,EACA3B,aAAAA,EAAAkF,WACAZ,OAAA5C,EACArL,KAAA2I,EAAAqB,YAAA2F,mBAIA9G,EAAAhU,UAAAoX,uBAAA,SAAA2D,GACA,MAAA,CACAjG,aAAAiG,EACA5P,KAAA2I,EAAAqB,YAAA6F,mBAGAhH,EAAAhU,UAAA0a,wBAAA,SAAAK,EAAA9H,GACA,MAAA,CACA6B,aAAAiG,EACA9H,KAAAA,EACA9H,KAAA2I,EAAAqB,YAAAyD,aAGA5E,EAAAhU,UAAAwa,wBAAA,SAAAO,EAAA9T,EAAAlC,GACA,OAAAkC,EACA,CACAA,MAAAA,EACA6N,aAAAiG,EACA5P,KAAA2I,EAAAqB,YAAAoC,YAGA,CACAzC,aAAAiG,EACAhW,OAAAA,EACAoG,KAAA2I,EAAAqB,YAAAoC,aAGAvD,EAv3BA,GAy3BA5U,EAAA4U,cAAAA,GRmsCE,CAACiH,sBAAsB,EAAEC,iBAAiB,GAAG/R,YAAY,GAAGgS,YAAY,GAAGpY,UAAU,KAAKqY,GAAG,CAAC,SAAStc,EAAQU,EAAOJ,GSznExH,aAGA,IAAA6E,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEAgB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAA0b,EAAAvc,EAAA,4BACAwc,EAAAxc,EAAA,oBACAyc,EAAAzc,EAAA,mBACAwH,EAAAxH,EAAA,aACA0c,EAAA1c,EAAA,qBACA2c,EAAA3c,EAAA,aACAsC,EAAAtC,EAAA,WAEA4c,EAAA,CACAC,MAAArV,EAAAqB,SAAAiU,MACAC,MAAAvV,EAAAqB,SAAA2F,MACAwO,KAAAxV,EAAAqB,SAAA6J,YACAuK,YAAAzV,EAAAqB,SAAA6J,YACAwK,KAAA1V,EAAAqB,SAAAC,QACAqU,QAAA3V,EAAAqB,SAAAC,QACAX,MAAAX,EAAAqB,SAAA1I,MACAid,SAAA5V,EAAAqB,SAAAwU,SACAC,KAAA9V,EAAAqB,SAAA0U,MAeA,IAAAC,EAAA,WACA,SAAAA,KA0EA,OAxEAA,EAAAtc,UAAAuc,iBAAA,SAAAC,GAEA,GADApb,EAAA8K,IAAAC,WAAAqQ,EAAA,gBA2EAnZ,IA1EAmZ,EA0EA9U,IAzEA7H,KAAA2B,OAAAgb,OAEA,GAAA,iBAAAA,EAAA,CACA,IAAAC,EAtBA,SAAAnN,GAIA,IAAAoN,EAAAhB,EAAApM,EAAAyI,eACA,QAAA,IAAA2E,EACA,OAAAA,EAGA,MAAA,IAAAzd,MAAA,sBAAAqQ,GAaAqN,CAAAH,GACA3c,KAAA2B,OAAA,IAAAJ,EAAAwb,cAAAH,QAGA5c,KAAA2B,OAAA,IAAAJ,EAAAwb,cAAAJ,GAEA,OAAA3c,MAEAyc,EAAAtc,UAAA6c,QAAA,SAAApa,EAAAqa,GAYA,OAXA1b,EAAA8K,IAAAC,WAAA1J,EAAA,OACArB,EAAA8K,IAAA6Q,WAAAta,EAAA,OACA5C,KAAA4C,IAAAA,EAIA5C,KAAAmd,sBAAA/Y,EAAA,GAAApE,KAAAmd,sBADA,iBAAAF,EACAA,EAGA,CAAAlP,UAAAkP,IAEAjd,MAMAyc,EAAAtc,UAAAid,gBAAA,SAAA/I,GAGA,OAFA9S,EAAA8K,IAAAC,WAAA+H,EAAA,YACArU,KAAAqU,SAAAA,EACArU,MAEAyc,EAAAtc,UAAAkd,uBAAA,SAAAC,GACA,GAAAtd,KAAAsU,gBACA,MAAA,IAAAlV,MAAA,2CAWA,OATAke,EAGAzc,MAAA0c,QAAAD,GACAtd,KAAAsU,gBAAA,IAAAkH,EAAAlY,uBAAAga,GAGAtd,KAAAsU,gBAAAgJ,EANAtd,KAAAsU,gBAAA,IAAAkH,EAAAlY,uBAQAtD,MAMAyc,EAAAtc,UAAAqd,MAAA,WAGA,IAAAL,EAAAnd,KAAAmd,uBAAA,GAOA,QALA3Z,IAAA2Z,EAAAxb,SAEAwb,EAAAxb,OAAA3B,KAAA2B,SAGA3B,KAAA4C,IACA,MAAA,IAAAxD,MAAA,4FAEA,IAAAgV,EAAA,IAAAqH,EAAAvP,eAAAlM,KAAA4C,IAAAua,GACA,OAAAzB,EAAAvH,cAAAhT,OAAAiT,EAAApU,KAAA2B,QAAAia,EAAA6B,WAAAC,SAAA1d,KAAAqU,UAAA,IAAAsH,EAAAgC,gBAAA3d,KAAAsU,kBAEAmI,EA3EA,GA6EAld,EAAAkd,qBAAAA,GT+nEE,CAACmB,2BAA2B,EAAEC,mBAAmB,EAAEC,kBAAkB,EAAExU,YAAY,GAAGyU,oBAAoB,GAAGC,YAAY,GAAG9a,UAAU,KAAK+a,GAAG,CAAC,SAAShf,EAAQU,EAAOJ,GUxvEzK,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAGA,SAAAwV,GAEAA,EAAAA,EAAA,WAAA,GAAA,aAEAA,EAAAA,EAAA,WAAA,GAAA,aAEAA,EAAAA,EAAA,WAAA,GAAA,aAEAA,EAAAA,EAAA,iBAAA,GAAA,mBAEAA,EAAAA,EAAA,iBAAA,GAAA,mBAEAA,EAAAA,EAAA,KAAA,GAAA,OAEAA,EAAAA,EAAA,MAAA,GAAA,QAdA,CAeA/V,EAAA+V,cAAA/V,EAAA+V,YAAA,MV2vEE,IAAI4I,GAAG,CAAC,SAASjf,EAAQU,EAAOJ,GWhxElC,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAOA,SAAAgI,GAEAA,EAAAA,EAAA,MAAA,GAAA,QAEAA,EAAAA,EAAA,MAAA,GAAA,QAEAA,EAAAA,EAAA,YAAA,GAAA,cAEAA,EAAAA,EAAA,QAAA,GAAA,UAEAA,EAAAA,EAAA,MAAA,GAAA,QAEAA,EAAAA,EAAA,SAAA,GAAA,WAEAA,EAAAA,EAAA,KAAA,GAAA,OAdA,CAeAvI,EAAAuI,WAAAvI,EAAAuI,SAAA,MXmxEE,IAAIqW,GAAG,CAAC,SAASlf,EAAQU,EAAOJ,GY5yElC,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAIA,SAAA+O,GAEAA,EAAAA,EAAA,KAAA,GAAA,OAEAA,EAAAA,EAAA,WAAA,GAAA,aAEAA,EAAAA,EAAA,iBAAA,GAAA,mBAEAA,EAAAA,EAAA,YAAA,GAAA,cARA,CASAtP,EAAAsP,oBAAAtP,EAAAsP,kBAAA,KAGA,SAAAvB,GAEAA,EAAAA,EAAA,KAAA,GAAA,OAEAA,EAAAA,EAAA,OAAA,GAAA,SAJA,CAKA/N,EAAA+N,iBAAA/N,EAAA+N,eAAA,MZ+yEE,IAAI8Q,GAAG,CAAC,SAASnf,EAAQU,EAAOJ,Gav0ElC,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAAmU,EAAAhV,EAAA,kBACAwH,EAAAxH,EAAA,aACA6M,EAAA7M,EAAA,gBACA2c,EAAA3c,EAAA,aACAwK,EAAAxK,EAAA,uBAGA0e,EAAA,WACA,SAAAA,IAEA3d,KAAAyP,KALA,OAOAzP,KAAAiW,QAAA,EAEAjW,KAAAoN,eAAAtB,EAAAwB,eAAA+Q,KAsFA,OA/EAV,EAAAxd,UAAAyY,cAAA,SAAA0F,EAAA3c,GAEA,GAAA,iBAAA2c,EACA,MAAA,IAAAlf,MAAA,2DAEA,IAAAkf,EACA,MAAA,GAEA,OAAA3c,IACAA,EAAAia,EAAA6B,WAAAC,UAKA,IAFA,IACAa,EAAA,GACA/N,EAAA,EAAAmI,EAFAlP,EAAAI,kBAAAwB,MAAAiT,GAEA9N,EAAAmI,EAAAlZ,OAAA+Q,IAAA,CACA,IAAAnD,EAAAsL,EAAAnI,GACAgO,EAAAzU,KAAAsB,MAAAgC,GACA,GAAA,iBAAAmR,EAAAlT,KACA,MAAA,IAAAlM,MAAA,oBAEA,OAAAof,EAAAlT,MACA,KAAA2I,EAAAqB,YAAAuD,WACA7Y,KAAAye,oBAAAD,GACA,MACA,KAAAvK,EAAAqB,YAAAyD,WACA/Y,KAAA0e,oBAAAF,GACA,MACA,KAAAvK,EAAAqB,YAAAoC,WACA1X,KAAA2e,oBAAAH,GACA,MACA,KAAAvK,EAAAqB,YAAAC,KAGA,KAAAtB,EAAAqB,YAAA0D,MAEA,MACA,QAEArX,EAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,yBAAA6M,EAAAlT,KAAA,cACA,SAEAiT,EAAA/X,KAAAgY,GAEA,OAAAD,GAOAZ,EAAAxd,UAAAkV,aAAA,SAAAhI,GACA,OAAA5D,EAAAI,kBAAAC,MAAAC,KAAAC,UAAAqD,KAEAsQ,EAAAxd,UAAAse,oBAAA,SAAApR,GACArN,KAAA4e,qBAAAvR,EAAAkM,OAAA,gDACA/V,IAAA6J,EAAA4H,cACAjV,KAAA4e,qBAAAvR,EAAA4H,aAAA,4CAGA0I,EAAAxd,UAAAue,oBAAA,SAAArR,GAEA,GADArN,KAAA4e,qBAAAvR,EAAA4H,aAAA,gDACAzR,IAAA6J,EAAA+F,KACA,MAAA,IAAAhU,MAAA,4CAGAue,EAAAxd,UAAAwe,oBAAA,SAAAtR,GACA,GAAAA,EAAAnI,QAAAmI,EAAAjG,MACA,MAAA,IAAAhI,MAAA,4CAEAiO,EAAAnI,QAAAmI,EAAAjG,OACApH,KAAA4e,qBAAAvR,EAAAjG,MAAA,2CAEApH,KAAA4e,qBAAAvR,EAAA4H,aAAA,4CAEA0I,EAAAxd,UAAAye,qBAAA,SAAA9e,EAAAiE,GACA,GAAA,iBAAAjE,GAAA,KAAAA,EACA,MAAA,IAAAV,MAAA2E,IAGA4Z,EA7FA,GA+FApe,EAAAoe,gBAAAA,Gb00EE,CAACtC,iBAAiB,GAAG/R,YAAY,GAAGoK,eAAe,GAAGsK,YAAY,GAAGzS,sBAAsB,KAAKsT,GAAG,CAAC,SAAS5f,EAAQU,EAAOJ,Gcp7E9H,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAEA,IAAA2d,EAAA,WACA,SAAAA,KAQA,OAJAA,EAAAtd,UAAA0H,IAAA,SAAAiX,EAAAC,KAGAtB,EAAAC,SAAA,IAAAD,EACAA,EATA,GAWAle,EAAAke,WAAAA,Gdu7EE,IAAIuB,GAAG,CAAC,SAAS/f,EAAQU,EAAOJ,Gev8ElC,aAGA,IAAA6E,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEA4F,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAAAA,EAAAC,KAAAN,EAAAK,EAAApF,OAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAAK,EAAApF,UAAAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAAmf,EAAAhgB,EAAA,qBACAmC,EAAAnC,EAAA,YACAwH,EAAAxH,EAAA,aACA6M,EAAA7M,EAAA,gBACAsC,EAAAtC,EAAA,WAGAqQ,EAAA,WACA,SAAAA,EAAAtN,EAAA2M,EAAAhN,EAAA+K,EAAAvE,EAAAC,GACApI,KAAAgC,WAAAA,EACAhC,KAAA2O,mBAAAA,EACA3O,KAAA2B,OAAAA,EACA3B,KAAAkf,UAAA,IAAAD,EAAAlf,gBACAC,KAAA0M,kBAAAA,EACA1M,KAAAmI,gBAAAA,EACAnI,KAAAoI,QAAAA,EACApI,KAAAmf,SAAA,EACAnf,KAAAiN,UAAA,KACAjN,KAAAkN,QAAA,KAyOA,OAvOAtN,OAAAC,eAAAyP,EAAAnP,UAAA,cAAA,CAEAE,IAAA,WACA,OAAAL,KAAAkf,UAAA3c,SAEAjC,YAAA,EACAC,cAAA,IAEA+O,EAAAnP,UAAAkR,QAAA,SAAAzO,EAAAwK,GACA,OAAA5I,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAA0H,EAAAkI,EAAAH,EAAA3P,EAAAsI,EAAAgX,EAAA5P,EAAA6P,EAAA9X,EACA,OAAAjC,EAAAtF,MAAA,SAAAsf,GACA,OAAAA,EAAA3Z,OACA,KAAA,EAOA,GANApE,EAAA8K,IAAAC,WAAA1J,EAAA,OACArB,EAAA8K,IAAAC,WAAAc,EAAA,kBACA7L,EAAA8K,IAAAmB,KAAAJ,EAAAtB,EAAAwB,eAAA,kBACAtN,KAAA4C,IAAAA,EACA5C,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,uCAEA3O,IAAAtB,EAAAwB,eAAAC,QACA,oBAAArL,gBAAA,iBAAA,IAAAA,gBAAA4G,aACA,MAAA,IAAA1J,MAAA,8FAaA,OAXAwQ,EAAArO,EAAAsO,qBAAAJ,EAAAG,EAAA,GAAA9P,EAAA8P,EAAA,GACAxH,EAAAhE,IAAAsD,EAAA,IAAA+H,GAAA3P,EAAA4H,GAAA1H,KAAAoI,SACAgX,EAAA,CACA9c,YAAAtC,KAAAkf,UAAAzW,OACAL,QAAAA,EACAT,QAAA,IACAQ,gBAAAnI,KAAAmI,iBAEAiF,IAAAtB,EAAAwB,eAAAC,SACA6R,EAAAtW,aAAA,eAEA,CAAA,EAAA9I,KAAAuf,kBACA,KAAA,EAKA,OAJA/P,EAAA8P,EAAA1Z,OACA5F,KAAAwf,kBAAAJ,EAAA5P,GACA6P,EAAAzc,EAAA,MAAAoX,KAAAC,MACAja,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,oCAAAsD,EAAA,KACA,CAAA,EAAArf,KAAAgC,WAAA3B,IAAAgf,EAAAD,IACA,KAAA,EAYA,OAVA,OADA7X,EAAA+X,EAAA1Z,QACA5B,YACAhE,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,qDAAAmI,EAAAvD,WAAA,KAEAhE,KAAAyf,WAAA,IAAAre,EAAA0C,UAAAyD,EAAAqB,YAAA,GAAArB,EAAAvD,YACAhE,KAAAmf,SAAA,GAGAnf,KAAAmf,SAAA,EAEAnf,KAAA0f,UAAA1f,KAAA2f,KAAA3f,KAAA4C,IAAAwc,GACA,CAAA,WAKA9P,EAAAnP,UAAAof,eAAA,WACA,OAAA/a,EAAAxE,UAAA,OAAA,GAAA,WACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EACA,OAAA3F,KAAA2O,mBACA,CAAA,EAAA3O,KAAA2O,sBADA,CAAA,EAAA,GAEA,KAAA,EAAA,MAAA,CAAA,EAAAjH,EAAA9B,QACA,KAAA,EAAA,MAAA,CAAA,EAAA,cAKA0J,EAAAnP,UAAAqf,kBAAA,SAAAnd,EAAAmN,GACAnN,EAAA+F,UACA/F,EAAA+F,QAAA,IAEAoH,EAEAnN,EAAA+F,QAAA,cAAA,UAAAoH,EAIAnN,EAAA+F,QAAA,sBAEA/F,EAAA+F,QAAA,eAGAkH,EAAAnP,UAAAwf,KAAA,SAAA/c,EAAAwc,GACA,OAAA5a,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAwP,EAAA6P,EAAA9X,EAAAC,EACA,OAAAlC,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EACA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,CAAA,EAAA,IACAkB,EAAA/B,MAAA,EACA,KAAA,EACA,OAAA3F,KAAAmf,QACA,CAAA,EAAAnf,KAAAuf,kBADA,CAAA,EAAA,GAEA,KAAA,EACA/P,EAAA9H,EAAA9B,OACA5F,KAAAwf,kBAAAJ,EAAA5P,GACA9H,EAAA/B,MAAA,EACA,KAAA,EAIA,OAHA+B,EAAA7B,KAAAW,KAAA,CAAA,EAAA,EAAA,CAAA,IACA6Y,EAAAzc,EAAA,MAAAoX,KAAAC,MACAja,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,oCAAAsD,EAAA,KACA,CAAA,EAAArf,KAAAgC,WAAA3B,IAAAgf,EAAAD,IACA,KAAA,EAyBA,OAvBA,OADA7X,EAAAG,EAAA9B,QACA5B,YACAhE,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,sDACA3R,KAAAmf,SAAA,GAEA,MAAA5X,EAAAvD,YACAhE,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAA1I,MAAA,qDAAAmI,EAAAvD,WAAA,KAEAhE,KAAAyf,WAAA,IAAAre,EAAA0C,UAAAyD,EAAAqB,YAAA,GAAArB,EAAAvD,YACAhE,KAAAmf,SAAA,GAIA5X,EAAAS,SACAhI,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,0CAAAxa,EAAAqe,cAAArY,EAAAS,QAAAhI,KAAA0M,mBAAA,KACA1M,KAAAiN,WACAjN,KAAAiN,UAAA1F,EAAAS,UAKAhI,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,sDAGA,CAAA,EAAA,GACA,KAAA,EAiBA,OAhBAvU,EAAAE,EAAA9B,OACA5F,KAAAmf,QAKA3X,aAAApG,EAAA8C,aAEAlE,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,uDAIA/b,KAAAyf,WAAAjY,EACAxH,KAAAmf,SAAA,GAVAnf,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,wDAAAvU,EAAA6F,SAaA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,CAAA,EAAA,GACA,KAAA,EAOA,OANArN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,6CAGA/b,KAAA6f,aACA7f,KAAA8f,eAEA,CAAA,GACA,KAAA,EAAA,MAAA,CAAA,WAKAxQ,EAAAnP,UAAAiC,KAAA,SAAA8H,GACA,OAAA1F,EAAAxE,UAAA,OAAA,GAAA,WACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAA1H,KAAAmf,QAGA,CAAA,EAAA5d,EAAA2U,YAAAlW,KAAA2B,OAAA,cAAA3B,KAAAgC,WAAAhC,KAAA4C,IAAA5C,KAAA2O,mBAAAzE,EAAAlK,KAAA0M,kBAAA1M,KAAAmI,gBAAAnI,KAAAoI,UAFA,CAAA,EAAA5F,QAAAC,OAAA,IAAArD,MAAA,yDAMAkQ,EAAAnP,UAAA6N,KAAA,WACA,OAAAxJ,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAoI,EAAAV,EAAAqY,EAAAjgB,EAAAkgB,EAAAxQ,EACA,OAAAlK,EAAAtF,MAAA,SAAA4P,GACA,OAAAA,EAAAjK,OACA,KAAA,EACA3F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,6CAEA/b,KAAAmf,SAAA,EACAnf,KAAAkf,UAAA9e,QACAwP,EAAAjK,MAAA,EACA,KAAA,EAEA,OADAiK,EAAA/J,KAAAW,KAAA,CAAA,EAAA,CAAA,EAAA,IACA,CAAA,EAAAxG,KAAA0f,WACA,KAAA,EAWA,OAVA9P,EAAAhK,OAEA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,qDAAA/b,KAAA4C,IAAA,KACAwF,EAAA,GACAV,EAAAnG,EAAAsO,qBAAAkQ,EAAArY,EAAA,GAAA5H,EAAA4H,EAAA,GACAU,EAAA2X,GAAAjgB,EACAkgB,EAAA,CACA5X,QAAAhE,EAAA,GAAAgE,EAAApI,KAAAoI,SACAD,gBAAAnI,KAAAmI,iBAEA,CAAA,EAAAnI,KAAAuf,kBACA,KAAA,EAGA,OAFA/P,EAAAI,EAAAhK,OACA5F,KAAAwf,kBAAAQ,EAAAxQ,GACA,CAAA,EAAAxP,KAAAgC,WAAA2J,OAAA3L,KAAA4C,IAAAod,IACA,KAAA,EAGA,OAFApQ,EAAAhK,OACA5F,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,gDACA,CAAA,EAAA,GACA,KAAA,EAKA,OAJA/b,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,0CAGA/b,KAAA8f,eACA,CAAA,GACA,KAAA,EAAA,MAAA,CAAA,WAKAxQ,EAAAnP,UAAA2f,aAAA,WACA,GAAA9f,KAAAkN,QAAA,CACA,IAAA+S,EAAA,gDACAjgB,KAAAyf,aACAQ,GAAA,WAAAjgB,KAAAyf,YAEAzf,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAAkE,GACAjgB,KAAAkN,QAAAlN,KAAAyf,cAGAnQ,EApPA,GAsPA/P,EAAA+P,qBAAAA,Gf08EE,CAAC4Q,oBAAoB,EAAEnd,WAAW,EAAEuG,YAAY,GAAGoK,eAAe,GAAGxQ,UAAU,KAAKid,GAAG,CAAC,SAASlhB,EAAQU,EAAOJ,GgBtvFlH,aAGA,IAAA6E,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEA4F,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAAAA,EAAAC,KAAAN,EAAAK,EAAApF,OAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAAK,EAAApF,UAAAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAA2G,EAAAxH,EAAA,aACA6M,EAAA7M,EAAA,gBACAsC,EAAAtC,EAAA,WAEAkS,EAAA,WACA,SAAAA,EAAAnP,EAAA2M,EAAAhN,EAAA+K,EAAA0T,EAAAjY,EAAAC,GACApI,KAAAgC,WAAAA,EACAhC,KAAA2O,mBAAAA,EACA3O,KAAA2B,OAAAA,EACA3B,KAAA0M,kBAAAA,EACA1M,KAAAmI,gBAAAA,EACAnI,KAAAogB,uBAAAA,EACApgB,KAAAoI,QAAAA,EACApI,KAAAiN,UAAA,KACAjN,KAAAkN,QAAA,KAuGA,OArGAiE,EAAAhR,UAAAkR,QAAA,SAAAzO,EAAAwK,GACA,OAAA5I,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAwP,EACA5N,EAAA5B,KACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAOA,OANApE,EAAA8K,IAAAC,WAAA1J,EAAA,OACArB,EAAA8K,IAAAC,WAAAc,EAAA,kBACA7L,EAAA8K,IAAAmB,KAAAJ,EAAAtB,EAAAwB,eAAA,kBACAtN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,+BAEA/b,KAAA4C,IAAAA,EACA5C,KAAA2O,mBACA,CAAA,EAAA3O,KAAA2O,sBADA,CAAA,EAAA,GAEA,KAAA,GACAa,EAAA9H,EAAA9B,UAEAhD,IAAAA,EAAA6H,QAAA,KAAA,EAAA,IAAA,KAAA,gBAAA4V,mBAAA7Q,IAEA9H,EAAA/B,MAAA,EACA,KAAA,EAAA,MAAA,CAAA,EAAA,IAAAnD,SAAA,SAAAqC,EAAApC,GACA,IAAA6d,GAAA,EACA,GAAAlT,IAAAtB,EAAAwB,eAAA+Q,KAAA,CAIA,IAAAkC,EACA,GAAAhf,EAAAO,SAAAgQ,WAAAvQ,EAAAO,SAAA0e,YACAD,EAAA,IAAA3e,EAAAwe,uBAAAxd,EAAA,CAAAuF,gBAAAvG,EAAAuG,sBAEA,CAEA,IAAAgB,EAAAvH,EAAAI,WAAAa,gBAAAD,GACAwF,EAAA,GACAA,EAAAqY,OAAAtX,EACA,IAAAzB,EAAAnG,EAAAsO,qBAAAkQ,EAAArY,EAAA,GAAA5H,EAAA4H,EAAA,GACAU,EAAA2X,GAAAjgB,EACAygB,EAAA,IAAA3e,EAAAwe,uBAAAxd,EAAA,CAAAuF,gBAAAvG,EAAAuG,gBAAAC,QAAAhE,EAAA,GAAAgE,EAAAxG,EAAAwG,WAEA,IACAmY,EAAAG,UAAA,SAAAhiB,GACA,GAAAkD,EAAAqL,UACA,IACArL,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,kCAAAxa,EAAAqe,cAAAlhB,EAAAwL,KAAAtI,EAAA8K,mBAAA,KACA9K,EAAAqL,UAAAvO,EAAAwL,MAEA,MAAA9C,GAEA,YADAxF,EAAA+e,MAAAvZ,KAKAmZ,EAAAK,QAAA,SAAAliB,GACA,IAAA0I,EAAA,IAAAhI,MAAAV,EAAAwL,MAAA,kBACAoW,EACA1e,EAAA+e,MAAAvZ,GAGA3E,EAAA2E,IAGAmZ,EAAAM,OAAA,WACAjf,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,oBAAA/P,EAAAgB,KACAhB,EAAA2e,YAAAA,EACAD,GAAA,EACAzb,KAGA,MAAAnG,GAEA,YADA+D,EAAA/D,SA9CA+D,EAAA,IAAArD,MAAA,0FAsDA+R,EAAAhR,UAAAiC,KAAA,SAAA8H,GACA,OAAA1F,EAAAxE,UAAA,OAAA,GAAA,WACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAA1H,KAAAugB,YAGA,CAAA,EAAAhf,EAAA2U,YAAAlW,KAAA2B,OAAA,MAAA3B,KAAAgC,WAAAhC,KAAA4C,IAAA5C,KAAA2O,mBAAAzE,EAAAlK,KAAA0M,kBAAA1M,KAAAmI,gBAAAnI,KAAAoI,UAFA,CAAA,EAAA5F,QAAAC,OAAA,IAAArD,MAAA,yDAMA+R,EAAAhR,UAAA6N,KAAA,WAEA,OADAhO,KAAA2gB,QACAne,QAAAqC,WAEAsM,EAAAhR,UAAAwgB,MAAA,SAAAjiB,GACAsB,KAAAugB,cACAvgB,KAAAugB,YAAAI,QACA3gB,KAAAugB,iBAAA/c,EACAxD,KAAAkN,SACAlN,KAAAkN,QAAAxO,KAIAyS,EAjHA,GAmHA5R,EAAA4R,0BAAAA,GhByvFE,CAAC7H,YAAY,GAAGoK,eAAe,GAAGxQ,UAAU,KAAK4d,GAAG,CAAC,SAAS7hB,EAAQU,EAAOJ,GiB/5F/E,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAAyB,EAAAtC,EAAA,WAEAmY,EAAA,WACA,SAAAA,IACApX,KAAA+gB,UAAA,GA4BA,OA1BA3J,EAAAjX,UAAA6E,KAAA,SAAAoO,GACA,IAAA,IAAA5C,EAAA,EAAA9I,EAAA1H,KAAA+gB,UAAAvQ,EAAA9I,EAAAjI,OAAA+Q,IAAA,CACA9I,EAAA8I,GACAxL,KAAAoO,KAGAgE,EAAAjX,UAAAiH,MAAA,SAAAwT,GACA,IAAA,IAAApK,EAAA,EAAA9I,EAAA1H,KAAA+gB,UAAAvQ,EAAA9I,EAAAjI,OAAA+Q,IAAA,CACA,IAAAwQ,EAAAtZ,EAAA8I,GACAwQ,EAAA5Z,OACA4Z,EAAA5Z,MAAAwT,KAIAxD,EAAAjX,UAAAwX,SAAA,WACA,IAAA,IAAAnH,EAAA,EAAA9I,EAAA1H,KAAA+gB,UAAAvQ,EAAA9I,EAAAjI,OAAA+Q,IAAA,CACA,IAAAwQ,EAAAtZ,EAAA8I,GACAwQ,EAAArJ,UACAqJ,EAAArJ,aAIAP,EAAAjX,UAAAua,UAAA,SAAAsG,GAEA,OADAhhB,KAAA+gB,UAAAva,KAAAwa,GACA,IAAAzf,EAAA0f,oBAAAjhB,KAAAghB,IAEA5J,EA9BA,GAgCA7X,EAAA6X,QAAAA,GjBk6FE,CAAClU,UAAU,KAAKge,GAAG,CAAC,SAASjiB,EAAQU,EAAOJ,GkBx8F9C,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IAGA,IAAA+J,EAAA,WACA,SAAAA,KAeA,OAbAA,EAAAC,MAAA,SAAAqX,GACA,MAAA,GAAAA,EAAAtX,EAAAqB,iBAEArB,EAAAwB,MAAA,SAAAiT,GACA,GAAAA,EAAAA,EAAA7e,OAAA,KAAAoK,EAAAqB,gBACA,MAAA,IAAA9L,MAAA,0BAEA,IAAAgM,EAAAkT,EAAA8C,MAAAvX,EAAAqB,iBAEA,OADAE,EAAA7E,MACA6E,GAEAvB,EAAAa,oBAAA,GACAb,EAAAqB,gBAAAN,OAAAC,aAAAhB,EAAAa,qBACAb,EAhBA,GAkBAtK,EAAAsK,kBAAAA,GlB28FE,IAAIwX,GAAG,CAAC,SAASpiB,EAAQU,EAAOJ,IAClC,SAAW+hB,IAAS,WmBp+FpB,aAGA,IAAAld,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEA4F,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAAAA,EAAAC,KAAAN,EAAAK,EAAApF,OAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAAK,EAAApF,UAAAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAA2G,EAAAxH,EAAA,aACA2c,EAAA3c,EAAA,aAGAM,EAAAgiB,QAAA,QAEA,IAAAlV,EAAA,WACA,SAAAA,KAkBA,OAhBAA,EAAAC,WAAA,SAAAkV,EAAA/R,GACA,GAAA+R,MAAAA,EACA,MAAA,IAAApiB,MAAA,QAAAqQ,EAAA,4BAGApD,EAAA6Q,WAAA,SAAAsE,EAAA/R,GACA,IAAA+R,GAAAA,EAAAC,MAAA,SACA,MAAA,IAAAriB,MAAA,QAAAqQ,EAAA,oCAGApD,EAAAmB,KAAA,SAAAgU,EAAAE,EAAAjS,GAEA,KAAA+R,KAAAE,GACA,MAAA,IAAAtiB,MAAA,WAAAqQ,EAAA,WAAA+R,EAAA,MAGAnV,EAnBA,GAqBA9M,EAAA8M,IAAAA,EAEA,IAAAvK,EAAA,WACA,SAAAA,KAuBA,OArBAlC,OAAAC,eAAAiC,EAAA,YAAA,CACAzB,IAAA,WACA,MAAA,iBAAA0R,QAEAzR,YAAA,EACAC,cAAA,IAEAX,OAAAC,eAAAiC,EAAA,cAAA,CACAzB,IAAA,WACA,MAAA,iBAAA6G,MAAA,kBAAAA,MAEA5G,YAAA,EACAC,cAAA,IAEAX,OAAAC,eAAAiC,EAAA,SAAA,CACAzB,IAAA,WACA,OAAAL,KAAA8R,YAAA9R,KAAAwgB,aAEAlgB,YAAA,EACAC,cAAA,IAEAuB,EAxBA,GA4BA,SAAA8d,EAAA1V,EAAAyX,GACA,IAAAC,EAAA,GAaA,OAZAvX,EAAAH,IACA0X,EAAA,yBAAA1X,EAAAa,WACA4W,IACAC,GAAA,eAAAC,EAAA3X,GAAA,MAGA,iBAAAA,IACA0X,EAAA,yBAAA1X,EAAAzK,OACAkiB,IACAC,GAAA,eAAA1X,EAAA,MAGA0X,EAIA,SAAAC,EAAA3X,GACA,IAAA4X,EAAA,IAAAvX,WAAAL,GAEA6X,EAAA,GAMA,OALAD,EAAAtI,SAAA,SAAAwI,GAEAD,GAAA,MADAC,EAAA,GAAA,IAAA,IACAA,EAAA7H,SAAA,IAAA,OAGA4H,EAAAE,OAAA,EAAAF,EAAAtiB,OAAA,GAKA,SAAA4K,EAAAmX,GACA,OAAAA,GAAA,oBAAAU,cACAV,aAAAU,aAEAV,EAAAtgB,aAAA,gBAAAsgB,EAAAtgB,YAAAuO,MAtCAlQ,EAAAuC,SAAAA,EAkBAvC,EAAAqgB,cAAAA,EAaArgB,EAAAsiB,kBAAAA,EASAtiB,EAAA8K,cAAAA,EAsCA9K,EAAA2W,YApCA,SAAAvU,EAAAwgB,EAAAngB,EAAAY,EAAA+L,EAAA3G,EAAA0E,EAAAvE,EAAAia,GACA,OAAA5d,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAA0H,EAAAU,EAAAoH,EAAAI,EAAAH,EAAA3P,EAAAgJ,EAAAvB,EACA,OAAAjC,EAAAtF,MAAA,SAAAsf,GACA,OAAAA,EAAA3Z,OACA,KAAA,EAEA,OADAyC,EAAA,GACAuG,EACA,CAAA,EAAAA,KADA,CAAA,EAAA,GAEA,KAAA,GACAa,EAAA8P,EAAA1Z,WAEA8B,EAAA,IACA,cAAA,UAAA8H,EADApH,EAEAV,GAEA4X,EAAA3Z,MAAA,EACA,KAAA,EAKA,OAJAiK,EAAAC,IAAAJ,EAAAG,EAAA,GAAA9P,EAAA8P,EAAA,GACAxH,EAAAqH,GAAA3P,EACA6B,EAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,IAAAoG,EAAA,6BAAAvC,EAAA5X,EAAA0E,GAAA,KACA5D,EAAAuB,EAAArC,GAAA,cAAA,OACA,CAAA,EAAAhG,EAAA0J,KAAA9I,EAAA,CACAoF,QAAAA,EACAI,QAAAhE,EAAA,GAAAgE,EAAAga,GACAtZ,aAAAA,EACAX,gBAAAA,KAEA,KAAA,EAGA,OAFAZ,EAAA+X,EAAA1Z,OACAjE,EAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,IAAAoG,EAAA,kDAAA5a,EAAAvD,WAAA,KACA,CAAA,WAmBAzE,EAAAgN,aAZA,SAAA5K,GACA,YAAA6B,IAAA7B,EACA,IAAAob,EAAAtW,EAAAqB,SAAA6J,aAEA,OAAAhQ,EACAia,EAAA6B,WAAAC,SAEA/b,EAAAkG,IACAlG,EAEA,IAAAob,EAAApb,IAIA,IAAAsf,EAAA,WACA,SAAAA,EAAA9J,EAAA6J,GACAhhB,KAAAmX,QAAAA,EACAnX,KAAAghB,SAAAA,EAWA,OATAC,EAAA9gB,UAAAkiB,QAAA,WACA,IAAAjQ,EAAApS,KAAAmX,QAAA4J,UAAAtW,QAAAzK,KAAAghB,UACA5O,GAAA,GACApS,KAAAmX,QAAA4J,UAAAzI,OAAAlG,EAAA,GAEA,IAAApS,KAAAmX,QAAA4J,UAAAthB,QAAAO,KAAAmX,QAAAE,gBACArX,KAAAmX,QAAAE,iBAAAzF,OAAA,SAAAlM,QAGAub,EAdA,GAgBA1hB,EAAA0hB,oBAAAA,EAEA,IAAAlE,EAAA,WACA,SAAAA,EAAAuF,GACAtiB,KAAAsiB,gBAAAA,EACAtiB,KAAAuiB,cAAAC,QAsBA,OApBAzF,EAAA5c,UAAA0H,IAAA,SAAA+U,EAAAvP,GACA,GAAAuP,GAAA5c,KAAAsiB,gBACA,OAAA1F,GACA,KAAAnW,EAAAqB,SAAAwU,SACA,KAAA7V,EAAAqB,SAAA1I,MACAY,KAAAuiB,cAAAnb,MAAA,KAAA,IAAA4S,MAAAyI,cAAA,KAAAhc,EAAAqB,SAAA8U,GAAA,KAAAvP,GACA,MACA,KAAA5G,EAAAqB,SAAAC,QACA/H,KAAAuiB,cAAApG,KAAA,KAAA,IAAAnC,MAAAyI,cAAA,KAAAhc,EAAAqB,SAAA8U,GAAA,KAAAvP,GACA,MACA,KAAA5G,EAAAqB,SAAA6J,YACA3R,KAAAuiB,cAAAtG,KAAA,KAAA,IAAAjC,MAAAyI,cAAA,KAAAhc,EAAAqB,SAAA8U,GAAA,KAAAvP,GACA,MACA,QAEArN,KAAAuiB,cAAA1a,IAAA,KAAA,IAAAmS,MAAAyI,cAAA,KAAAhc,EAAAqB,SAAA8U,GAAA,KAAAvP,KAKA0P,EAzBA,GA6BA,SAAAlN,IACA,IAAA6S,EAAA,uBAIA,OAHA5gB,EAAAC,SACA2gB,EAAA,cAEA,CAAAA,EAAAC,EAAApjB,EAAAgiB,QAAAqB,IAAAC,IAAAC,MAIA,SAAAH,EAAA1M,EAAA8M,EAAAC,EAAAC,GAEA,IAAAC,EAAA,qBACAC,EAAAlN,EAAAmL,MAAA,KAiBA,OAhBA8B,GAAAC,EAAA,GAAA,IAAAA,EAAA,GACAD,GAAA,KAAAjN,EAAA,KAEAiN,GADAH,GAAA,KAAAA,EACAA,EAAA,KAGA,eAEAG,GAAA,GAAAF,EAEAE,GADAD,EACA,KAAAA,EAGA,4BAEAC,GAAA,IAIA,SAAAN,IACA,IAAA9gB,EAAAC,OAaA,MAAA,GAZA,OAAAuf,EAAA8B,UACA,IAAA,QACA,MAAA,aACA,IAAA,SACA,MAAA,QACA,IAAA,QACA,MAAA,QACA,QACA,OAAA9B,EAAA8B,UAOA,SAAAN,IACA,GAAAhhB,EAAAC,OACA,OAAAuf,EAAA+B,SAAAC,KAIA,SAAAT,IACA,OAAA/gB,EAAAC,OACA,SAGA,UA9DAxC,EAAAwd,cAAAA,EASAxd,EAAAsQ,mBAAAA,EAwBAtQ,EAAAojB,mBAAAA,InBsgGGnjB,KAAKQ,QAAQR,KAAKQ,KAAKf,EAAQ,cAEhC,CAACqK,YAAY,GAAG0U,YAAY,GAAGuF,SAAW,KAAKC,GAAG,CAAC,SAASvkB,EAAQU,EAAOJ,GoB1xG7E,aAGA,IAAA6E,EAAApE,MAAAA,KAAAoE,UAAAxE,OAAAyE,QAAA,SAAAzF,GACA,IAAA,IAAA0F,EAAAxF,EAAA,EAAAH,EAAA4F,UAAA9E,OAAAX,EAAAH,EAAAG,IAEA,IAAA,IAAAQ,KADAgF,EAAAC,UAAAzF,GACAc,OAAAO,UAAAa,eAAAxB,KAAA8E,EAAAhF,KACAV,EAAAU,GAAAgF,EAAAhF,IAEA,OAAAV,GAEA4F,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAAAA,EAAAC,KAAAN,EAAAK,EAAApF,OAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAAK,EAAApF,UAAAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAA2G,EAAAxH,EAAA,aACA6M,EAAA7M,EAAA,gBACAsC,EAAAtC,EAAA,WAEAgS,EAAA,WACA,SAAAA,EAAAjP,EAAA2M,EAAAhN,EAAA+K,EAAA+W,EAAArb,GACApI,KAAA2B,OAAAA,EACA3B,KAAA2O,mBAAAA,EACA3O,KAAA0M,kBAAAA,EACA1M,KAAAyjB,qBAAAA,EACAzjB,KAAAgC,WAAAA,EACAhC,KAAAiN,UAAA,KACAjN,KAAAkN,QAAA,KACAlN,KAAAoI,QAAAA,EA4IA,OA1IA6I,EAAA9Q,UAAAkR,QAAA,SAAAzO,EAAAwK,GACA,OAAA5I,EAAAxE,UAAA,OAAA,GAAA,WACA,IAAAwP,EACA5N,EAAA5B,KACA,OAAAsF,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EAKA,OAJApE,EAAA8K,IAAAC,WAAA1J,EAAA,OACArB,EAAA8K,IAAAC,WAAAc,EAAA,kBACA7L,EAAA8K,IAAAmB,KAAAJ,EAAAtB,EAAAwB,eAAA,kBACAtN,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,sCACA/b,KAAA2O,mBACA,CAAA,EAAA3O,KAAA2O,sBADA,CAAA,EAAA,GAEA,KAAA,GACAa,EAAA9H,EAAA9B,UAEAhD,IAAAA,EAAA6H,QAAA,KAAA,EAAA,IAAA,KAAA,gBAAA4V,mBAAA7Q,IAEA9H,EAAA/B,MAAA,EACA,KAAA,EAAA,MAAA,CAAA,EAAA,IAAAnD,SAAA,SAAAqC,EAAApC,GAEA,IAAAihB,EADA9gB,EAAAA,EAAA+gB,QAAA,QAAA,MAEA,IAAAxa,EAAAvH,EAAAI,WAAAa,gBAAAD,GACA0d,GAAA,EACA,GAAA/e,EAAAO,SAAAC,OAAA,CACA,IAAAqG,EAAA,GACAV,EAAAnG,EAAAsO,qBAAAkQ,EAAArY,EAAA,GAAA5H,EAAA4H,EAAA,GACAU,EAAA2X,GAAAjgB,EACAqJ,IACAf,EAAA,OAAA,GAAAe,GAGAua,EAAA,IAAA9hB,EAAA6hB,qBAAA7gB,OAAAY,EAAA,CACA4E,QAAAhE,EAAA,GAAAgE,EAAAxG,EAAAwG,WAGAsb,IAEAA,EAAA,IAAA9hB,EAAA6hB,qBAAA7gB,IAEAwK,IAAAtB,EAAAwB,eAAAC,SACAmW,EAAAE,WAAA,eAGAF,EAAA7C,OAAA,SAAAgD,GACAjiB,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAA6J,YAAA,0BAAA/O,EAAA,KACAhB,EAAA8hB,UAAAA,EACApD,GAAA,EACAzb,KAEA6e,EAAA9C,QAAA,SAAAkD,GACA,IAAA1c,EAAA,KAGAA,EADA,oBAAA2c,YAAAD,aAAAC,WACAD,EAAA1c,MAGA,IAAAhI,MAAA,0CAEAqD,EAAA2E,IAEAsc,EAAAhD,UAAA,SAAArT,GAEA,GADAzL,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,yCAAAxa,EAAAqe,cAAAvS,EAAAnD,KAAAtI,EAAA8K,mBAAA,KACA9K,EAAAqL,UACA,IACArL,EAAAqL,UAAAI,EAAAnD,MAEA,MAAA9C,GAEA,YADAxF,EAAA+e,MAAAvZ,KAKAsc,EAAAxW,QAAA,SAAA4W,GAGA,GAAAxD,EACA1e,EAAA+e,MAAAmD,OAEA,CACA,IAAA1c,EAAA,KAGAA,EADA,oBAAA2c,YAAAD,aAAAC,WACAD,EAAA1c,MAGA,IAAAhI,MAAA,0CAEAqD,EAAA2E,iBAQA6J,EAAA9Q,UAAAiC,KAAA,SAAA8H,GACA,OAAAlK,KAAA0jB,WAAA1jB,KAAA0jB,UAAAM,aAAAhkB,KAAAyjB,qBAAAQ,MACAjkB,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,wCAAAxa,EAAAqe,cAAA1V,EAAAlK,KAAA0M,mBAAA,KACA1M,KAAA0jB,UAAAthB,KAAA8H,GACA1H,QAAAqC,WAEArC,QAAAC,OAAA,uCAEAwO,EAAA9Q,UAAA6N,KAAA,WAMA,OALAhO,KAAA0jB,WAGA1jB,KAAA2gB,WAAAnd,GAEAhB,QAAAqC,WAEAoM,EAAA9Q,UAAAwgB,MAAA,SAAAmD,GAEA9jB,KAAA0jB,YAEA1jB,KAAA0jB,UAAAxW,QAAA,aACAlN,KAAA0jB,UAAAhD,UAAA,aACA1gB,KAAA0jB,UAAA9C,QAAA,aACA5gB,KAAA0jB,UAAA/C,QACA3gB,KAAA0jB,eAAAlgB,GAEAxD,KAAA2B,OAAAkG,IAAApB,EAAAqB,SAAAiU,MAAA,yCACA/b,KAAAkN,WACAlN,KAAAkkB,aAAAJ,KAAA,IAAAA,EAAAK,UAAA,MAAAL,EAAAzkB,KAGAykB,aAAA1kB,MACAY,KAAAkN,QAAA4W,GAGA9jB,KAAAkN,UANAlN,KAAAkN,QAAA,IAAA9N,MAAA,sCAAA0kB,EAAAzkB,KAAA,KAAAykB,EAAAtQ,OAAA,SAUAvC,EAAA9Q,UAAA+jB,aAAA,SAAAJ,GACA,OAAAA,GAAA,kBAAAA,EAAAK,UAAA,iBAAAL,EAAAzkB,MAEA4R,EArJA,GAuJA1R,EAAA0R,mBAAAA,GpB6xGE,CAAC3H,YAAY,GAAGoK,eAAe,GAAGxQ,UAAU,KAAKkhB,GAAG,CAAC,SAASnlB,EAAQU,EAAOJ,GqBv+G/E,aAGA,IACAkB,EADAC,EAAAV,MAAAA,KAAAU,YACAD,EAAAb,OAAAe,gBACA,CAAAC,UAAA,cAAAC,OAAA,SAAAC,EAAAC,GAAAD,EAAAF,UAAAG,IACA,SAAAD,EAAAC,GAAA,IAAA,IAAAzB,KAAAyB,EAAAA,EAAAC,eAAA1B,KAAAwB,EAAAxB,GAAAyB,EAAAzB,KACA,SAAAwB,EAAAC,GAEA,SAAAE,IAAAjB,KAAAkB,YAAAJ,EADAL,EAAAK,EAAAC,GAEAD,EAAAX,UAAA,OAAAY,EAAAnB,OAAAuB,OAAAJ,IAAAE,EAAAd,UAAAY,EAAAZ,UAAA,IAAAc,KAGArB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAAsB,EAAAnC,EAAA,YACAqC,EAAArC,EAAA,gBACAwH,EAAAxH,EAAA,aACAkD,EAAA,SAAAT,GAEA,SAAAS,EAAAR,GACA,IAAAC,EAAAF,EAAAlC,KAAAQ,OAAAA,KAEA,OADA4B,EAAAD,OAAAA,EACAC,EA+DA,OAnEAlB,EAAAyB,EAAAT,GAOAS,EAAAhC,UAAAiC,KAAA,SAAAC,GACA,IAAAT,EAAA5B,KAEA,OAAAqC,EAAAC,aAAAD,EAAAC,YAAAC,QACAC,QAAAC,OAAA,IAAArB,EAAAsB,YAEAL,EAAAM,OAGAN,EAAAO,IAGA,IAAAJ,SAAA,SAAAqC,EAAApC,GACA,IAAA4hB,EAAA,IAAAniB,eACAmiB,EAAAC,KAAAjiB,EAAAM,OAAAN,EAAAO,KAAA,GACAyhB,EAAAlc,qBAAA3E,IAAAnB,EAAA8F,iBAAA9F,EAAA8F,gBACAkc,EAAAE,iBAAA,mBAAA,kBAEAF,EAAAE,iBAAA,eAAA,4BACA,IAAAnc,EAAA/F,EAAA+F,QACAA,GACAxI,OAAA0a,KAAAlS,GACAoR,SAAA,SAAAgL,GACAH,EAAAE,iBAAAC,EAAApc,EAAAoc,OAGAniB,EAAAyG,eACAub,EAAAvb,aAAAzG,EAAAyG,cAEAzG,EAAAC,cACAD,EAAAC,YAAApC,QAAA,WACAmkB,EAAAjkB,QACAqC,EAAA,IAAArB,EAAAsB,cAGAL,EAAAsF,UACA0c,EAAA1c,QAAAtF,EAAAsF,SAEA0c,EAAAI,OAAA,WACApiB,EAAAC,cACAD,EAAAC,YAAApC,QAAA,MAEAmkB,EAAAxb,QAAA,KAAAwb,EAAAxb,OAAA,IACAhE,EAAA,IAAAvD,EAAA4H,aAAAmb,EAAAxb,OAAAwb,EAAAzb,WAAAyb,EAAA9c,UAAA8c,EAAAK,eAGAjiB,EAAA,IAAArB,EAAA0C,UAAAugB,EAAAzb,WAAAyb,EAAAxb,UAGAwb,EAAAzD,QAAA,WACAhf,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAAC,QAAA,4BAAAsc,EAAAxb,OAAA,KAAAwb,EAAAzb,WAAA,KACAnG,EAAA,IAAArB,EAAA0C,UAAAugB,EAAAzb,WAAAyb,EAAAxb,UAEAwb,EAAAM,UAAA,WACA/iB,EAAAD,OAAAkG,IAAApB,EAAAqB,SAAAC,QAAA,8BACAtF,EAAA,IAAArB,EAAA8C,eAEAmgB,EAAAjiB,KAAAC,EAAA2F,SAAA,OA/CAxF,QAAAC,OAAA,IAAArD,MAAA,oBAHAoD,QAAAC,OAAA,IAAArD,MAAA,wBAqDA+C,EApEA,CAqEAb,EAAAwB,YACAvD,EAAA4C,cAAAA,GrB0+GE,CAACY,WAAW,EAAEE,eAAe,EAAEqG,YAAY,KAAKsb,GAAG,CAAC,SAAS3lB,EAAQU,EAAOJ,GsBjkH9E,aAGAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACA,IAAAsB,EAAAnC,EAAA,YACAM,EAAAmD,WAAAtB,EAAAsB,WACAnD,EAAAuE,UAAA1C,EAAA0C,UACAvE,EAAA2E,aAAA9C,EAAA8C,aACA,IAAA5C,EAAArC,EAAA,gBACAM,EAAAuD,WAAAxB,EAAAwB,WACAvD,EAAA2J,aAAA5H,EAAA4H,aACA,IAAA2C,EAAA5M,EAAA,uBACAM,EAAAkC,kBAAAoK,EAAApK,kBACA,IAAAia,EAAAzc,EAAA,mBACAM,EAAA4U,cAAAuH,EAAAvH,cACA5U,EAAAwU,mBAAA2H,EAAA3H,mBACA,IAAA8Q,EAAA5lB,EAAA,0BACAM,EAAAkd,qBAAAoI,EAAApI,qBACA,IAAAxI,EAAAhV,EAAA,kBACAM,EAAA+V,YAAArB,EAAAqB,YACA,IAAA7O,EAAAxH,EAAA,aACAM,EAAAuI,SAAArB,EAAAqB,SACA,IAAAgE,EAAA7M,EAAA,gBACAM,EAAAsP,kBAAA/C,EAAA+C,kBACAtP,EAAA+N,eAAAxB,EAAAwB,eACA,IAAAsO,EAAA3c,EAAA,aACAM,EAAAke,WAAA7B,EAAA6B,WACA,IAAA9B,EAAA1c,EAAA,qBACAM,EAAAoe,gBAAAhC,EAAAgC,gBACA,IAAAzJ,EAAAjV,EAAA,aACAM,EAAA6X,QAAAlD,EAAAkD,QACA,IAAA7V,EAAAtC,EAAA,WACAM,EAAAgiB,QAAAhgB,EAAAggB,StBokHE,CAAC9N,sBAAsB,EAAE1Q,WAAW,EAAEE,eAAe,EAAE6a,kBAAkB,EAAEgH,yBAAyB,GAAGzJ,iBAAiB,GAAG/R,YAAY,GAAGoK,eAAe,GAAGqK,oBAAoB,GAAGC,YAAY,GAAG1C,YAAY,GAAGpY,UAAU,KAAK6hB,GAAG,CAAC,SAAS9lB,EAAQU,EAAOJ,GuBpmH9P,aACAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAAylB,SAAA,EACA,IAAAC,EAAAhmB,EAAA,eACAimB,EAAAjmB,EAAA,sBACA+lB,EAAA,WACA,SAAAA,EAAApQ,GACA,IAAAhT,EAAA5B,KACAA,KAAA6H,IAAA,IAAAod,EAAAE,IACAnlB,KAAAoU,YAAA,IAAA8Q,EAAAzI,sBACAO,QAAA,gBACAN,iBAAAwI,EAAApd,SAAA1I,OACAoe,QACAxd,KAAAoU,WAAA4D,GAAA,YAAA,SAAAoN,GACAxQ,EAAAyQ,SAAAD,MAEAplB,KAAAoU,WAAA4D,GAAA,SAAA,SAAAsN,GACA1Q,EAAA0Q,MAAAA,MAEAtlB,KAAAoU,WAAA4D,GAAA,aAAA,SAAA3K,GACAuH,EAAA2Q,UAAAlY,MAEArN,KAAAwlB,OAAA,CACAC,SAAA,WAAA,OAAA7jB,EAAAwS,WAAA2D,OAAA,aACA2N,OAAA,WAAA,OAAA9jB,EAAAwS,WAAA2D,OAAA,WACAuM,KAAA,SAAAqB,GAAA,OAAA/jB,EAAAwS,WAAA2D,OAAA,OAAA4N,IACAC,WAAA,SAAAR,GAAA,OAAAxjB,EAAAwS,WAAA2D,OAAA,aAAAqN,IACAtb,MAAA,SAAAsb,GAAA,OAAAxjB,EAAAwS,WAAA2D,OAAA,QAAAqN,IACAS,UAAA,WAAA,OAAAjkB,EAAAwS,WAAA2D,OAAA,cACA+N,KAAA,WAAA,OAAAlkB,EAAAwS,WAAA2D,OAAA,SACA4I,MAAA,WAAA,OAAA/e,EAAAwS,WAAA2D,OAAA,WAsBA,OAnBAiN,EAAA7kB,UAAA4lB,QAAA,WACA,IAAAnkB,EAAA5B,KACA,OAAA,IAAAwC,SAAA,SAAAqC,EAAApC,GACAb,EAAAwS,WAAA4R,OAAAd,EAAAnR,mBAAAoB,aACAvT,EAAAwS,WAAAjH,QACA/H,MAAA,WACAxD,EAAAiG,IAAAoe,QAAA,oBACAphB,OAEA+M,OAAA,SAAAxK,GACAxF,EAAAiG,IAAAoe,QAAA,YAAA7e,GACA3E,EAAA2E,MAIAvC,QAIAmgB,EA/CA,GAiDAzlB,EAAAylB,IAAAA,GvBumHE,CAACkB,cAAc,GAAGC,qBAAqB,KAAKC,GAAG,CAAC,SAASnnB,EAAQU,EAAOJ,GwB7pH1E,aACAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAA4lB,SAAA,EACA,IAAAA,EAAA,WACA,SAAAA,KA8BA,OA5BAA,EAAAhlB,UAAA8lB,QAAA,WAEA,IADA,IAAArP,EAAA,GACApG,EAAA,EAAAA,EAAAjM,UAAA9E,OAAA+Q,IACAoG,EAAApG,GAAAjM,UAAAiM,GAEAoG,EAAA4C,SAAA,SAAA6M,GAAA,OAAA7D,QAAA3a,IAAA,qBAAAwe,OAEAlB,EAAAhlB,UAAAmmB,KAAA,WAEA,IADA,IAAA1P,EAAA,GACApG,EAAA,EAAAA,EAAAjM,UAAA9E,OAAA+Q,IACAoG,EAAApG,GAAAjM,UAAAiM,GAEAoG,EAAA4C,SAAA,SAAA6M,GAAA,OAAA7D,QAAA3a,IAAA,mBAAAwe,OAEAlB,EAAAhlB,UAAAf,MAAA,WAEA,IADA,IAAAwX,EAAA,GACApG,EAAA,EAAAA,EAAAjM,UAAA9E,OAAA+Q,IACAoG,EAAApG,GAAAjM,UAAAiM,GAEAoG,EAAA4C,SAAA,SAAA6M,GAAA,OAAA7D,QAAA3a,IAAA,mBAAAwe,OAEAlB,EAAAhlB,UAAA4H,QAAA,WAEA,IADA,IAAA6O,EAAA,GACApG,EAAA,EAAAA,EAAAjM,UAAA9E,OAAA+Q,IACAoG,EAAApG,GAAAjM,UAAAiM,GAEAoG,EAAA4C,SAAA,SAAA6M,GAAA,OAAA7D,QAAA3a,IAAA,qBAAAwe,OAEAlB,EA/BA,GAiCA5lB,EAAA4lB,IAAAA,GxBgqHE,IAAIoB,GAAG,CAAC,SAAStnB,EAAQU,EAAOJ,GAClC,aACAK,OAAOC,eAAeN,EAAS,aAAc,CAAEO,OAAO,IyBtsHrD,IAAA0mB,EAAAvnB,EAAA,cAEA8S,OAAe0U,OAAS,CACrBC,KAAM,WACF,IAAIC,EAAK,IAAIH,EAAMI,KACnBC,GAAGC,cAAcH,MzBysHvB,CAACI,aAAa,KAAKC,GAAG,CAAC,SAAS/nB,EAAQU,EAAOJ,G0B9sHjD,aACA,IAAA0nB,EAAAjnB,MAAAA,KAAAinB,QAAA,SAAApoB,EAAAF,GACA,IAAA8a,EAAA,mBAAAvT,QAAArH,EAAAqH,OAAAC,UACA,IAAAsT,EAAA,OAAA5a,EACA,IAAAJ,EAAAC,EAAAI,EAAA2a,EAAAja,KAAAX,GAAAqoB,EAAA,GACA,IACA,WAAA,IAAAvoB,GAAAA,KAAA,MAAAF,EAAAK,EAAAkG,QAAAG,MAAA+hB,EAAA1gB,KAAA/H,EAAAqB,OAEA,MAAAsH,GAAA1I,EAAA,CAAA0I,MAAAA,GACA,QACA,IACA3I,IAAAA,EAAA0G,OAAAsU,EAAA3a,EAAA,SAAA2a,EAAAja,KAAAV,GAEA,QAAA,GAAAJ,EAAA,MAAAA,EAAA0I,OAEA,OAAA8f,GAEAC,EAAAnnB,MAAAA,KAAAmnB,UAAA,WACA,IAAA,IAAAD,EAAA,GAAApoB,EAAA,EAAAA,EAAAyF,UAAA9E,OAAAX,IAAAooB,EAAAA,EAAAzjB,OAAAwjB,EAAA1iB,UAAAzF,KACA,OAAAooB,GAUA,SAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GA0DA,IAAApoB,EAzDA,WACA,GAAAgoB,EAAA,GAAAA,EAAA,IAAAC,EAAA,GAAAA,EAAA,EAEA,OAAA,GAEA,GAAA,GAAAA,GAAAC,EACA,OAAAF,GACA,KAAA,EAAA,OAAA,IACA,QAAA,OAAA,GAAAA,MAGA,CAAA,GAAA,GAAAC,GAAAE,EACA,OAAAC,EAAA,MAAA,OAAAJ,EAEA,GAAA,GAAAC,GAAAC,EACA,OAAA,GAAAF,EAEA,GAAA,GAAAC,GAAAE,EACA,OAAAC,EAAA,MAAA,OAAAJ,EAEA,GAAA,GAAAC,EACA,OAAA,GAAAD,EAEA,GAAA,GAAAC,EACA,OAAAD,GACA,KAAA,GAAA,OAAA,KACA,KAAA,GAAA,OAAA,IACA,KAAA,GAAA,OAAA,KACA,KAAA,GAAA,OAAA,KACA,KAAA,GAAA,OAAA,GACA,QAAA,OAAA,GAAAA,OAGA,GAAA,GAAAC,GAAAC,EACA,OAAAF,GACA,KAAA,EAAA,OAAA,KACA,QAAA,OAAA,GAAAA,MAGA,CAAA,GAAA,GAAAC,GAAAE,EACA,OAAAC,EAAA,MAAA,OAAAJ,EAEA,GAAA,GAAAC,GAAAC,EACA,OAAAF,GACA,KAAA,GAAA,OAAA,IACA,KAAA,GAAA,OAAA,KACA,KAAA,GAAA,OAAA,IACA,KAAA,GAAA,OAAA,IACA,KAAA,GAAA,OAAA,KACA,QAAA,OAAA,IAAAA,OAGA,GAAA,GAAAC,GAAAE,EACA,OAAAC,EAAA,MAAA,OAAAJ,GAEA,OAAA,GAEA5V,GACA,MAAA,CACApS,KAAAA,EACAqoB,KAAA9c,OAAAC,aAAAxL,GACAsoB,WAAAC,EAAAP,EAAAC,IAOA,SAAAO,EAAAH,GAEA,IAAAroB,GADAqoB,EAAAA,GAAAnoB,EAAAuoB,OACAC,WAAA,GACAV,EAAA,EACAC,EAAA,EACA,OAAAjoB,GAEA,KAAA,IACAioB,EAAA,EACAD,EAAA,EACA,MACA,KAAA,KACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,IACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,KACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,KACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,GACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,KACAC,EAAA,EACAD,EAAA,EACA,MACA,KAAA,IACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,KACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,IACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,IACAC,EAAA,EACAD,EAAA,GACA,MACA,KAAA,KACAC,EAAA,EACAD,EAAA,GACA,MACA,QACAhoB,GAAA,IAAAA,EAAA,IACAioB,EAAA,EACAD,EAAAhoB,EAAA,IAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,OAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,OAEAA,GAAA,IAAAA,EAAA,IACAioB,EAAA,EACAD,EAAAhoB,EAAA,IAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,OAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,OAEAA,GAAA,IAAAA,EAAA,IACAioB,EAAA,EACAD,EAAAhoB,EAAA,IAEAA,GAAA,IAAAA,EAAA,IACAioB,EAAA,EACAD,EAAAhoB,EAAA,IAEAA,GAAA,IAAAA,EAAA,KACAioB,EAAA,EACAD,EAAAhoB,EAAA,IAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,OAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,OAEAA,GAAA,KAAAA,EAAA,KACAioB,EAAA,EACAD,EAAAhoB,EAAA,KAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,OAEAA,GAAA,OAAAA,EAAA,OACAioB,EAAA,EACAD,EAAAhoB,EAAA,QAIAioB,EAAA,EACAD,EAAA,GAIA,MAAA,CACAC,QAAAA,EACAD,QAAAA,EACAhoB,KAAAuoB,EAAAP,EAAAC,GACAI,KAAAN,EAAAC,EAAAC,GAAA,GAAA,GAAA,GAAAI,MAIA,SAAAE,EAAAP,EAAAC,GACA,OAAAA,GAAA,GAAAD,EAAA,IA7MAznB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAAyoB,SAAAzoB,EAAA0oB,mBAAA1oB,EAAAsoB,aAAAtoB,EAAA6nB,UAAA7nB,EAAAuoB,WAAA,EACAvoB,EAAAuoB,MAAA,IAuEAvoB,EAAA6nB,UAAAA,EAkIA7nB,EAAAsoB,aAAAA,EAmBAtoB,EAAA0oB,mBAZA,SAAAjf,GAUA,OATAme,EAAAvc,OAAA5B,GAAA,KAAAyI,KAAA,SAAAiW,GAEA,OADAA,EAAAK,WAAA,GACA,GACAL,EAGA9c,OAAAC,aAAAgd,EAAAH,GAAAroB,SAGAgK,KAAA,KAiBA9J,EAAAyoB,SAXA,SAAAN,GAEA,OADAG,EAAAH,GACAJ,SACA,KAAA,EACA,KAAA,EACA,KAAA,EACA,KAAA,EACA,OAAA,EAEA,OAAA,I1BmtHE,IAAIY,GAAG,CAAC,SAASjpB,EAAQU,EAAOJ,G2Bn9HlC,aACA,IAAA0nB,EAAAjnB,MAAAA,KAAAinB,QAAA,SAAApoB,EAAAF,GACA,IAAA8a,EAAA,mBAAAvT,QAAArH,EAAAqH,OAAAC,UACA,IAAAsT,EAAA,OAAA5a,EACA,IAAAJ,EAAAC,EAAAI,EAAA2a,EAAAja,KAAAX,GAAAqoB,EAAA,GACA,IACA,WAAA,IAAAvoB,GAAAA,KAAA,MAAAF,EAAAK,EAAAkG,QAAAG,MAAA+hB,EAAA1gB,KAAA/H,EAAAqB,OAEA,MAAAsH,GAAA1I,EAAA,CAAA0I,MAAAA,GACA,QACA,IACA3I,IAAAA,EAAA0G,OAAAsU,EAAA3a,EAAA,SAAA2a,EAAAja,KAAAV,GAEA,QAAA,GAAAJ,EAAA,MAAAA,EAAA0I,OAEA,OAAA8f,GAEAC,EAAAnnB,MAAAA,KAAAmnB,UAAA,WACA,IAAA,IAAAD,EAAA,GAAApoB,EAAA,EAAAA,EAAAyF,UAAA9E,OAAAX,IAAAooB,EAAAA,EAAAzjB,OAAAwjB,EAAA1iB,UAAAzF,KACA,OAAAooB,GAEAtnB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAA4oB,aAAA,EACA,IAAAC,EAAAnpB,EAAA,iBACAopB,EAAAppB,EAAA,cAKAkpB,EAAA,WACA,SAAAA,EAAAG,GACA,IAAA1mB,EAAA5B,KACAA,KAAAsoB,cAAAA,EACAtoB,KAAAuoB,MAAA,IAAAC,EACAxoB,KAAAyoB,WAAA,IAAAC,EACA1oB,KAAA2oB,aAAA,EACA3oB,KAAA4oB,aAAA,EAEA5oB,KAAA6oB,yBAAA,EACA7oB,KAAA8oB,cAAA,KACA9oB,KAAA+oB,eAAA,IACA/oB,KAAAgpB,YAAA,IAAAze,WAAAvK,KAAA+oB,gBACA/oB,KAAAipB,kBAAA,EAEAjpB,KAAAkpB,UAAAroB,MAAAunB,EAAAe,UAAAC,SAEAppB,KAAAwoB,MAAA,CACAa,UAAAxC,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAc,eACAE,aAAA1C,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAgB,kBACAC,WAAA3C,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAiB,gBACAC,eAAA5C,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAkB,oBACAC,YAAA7C,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAmB,iBACAC,WAAA9C,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAoB,gBACAC,QAAA/C,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAqB,aACAC,WAAAhD,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAqB,aACAE,cAAAjD,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAuB,mBACAC,eAAAlD,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAwB,oBACAC,SAAAnD,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAAyB,cACAC,aAAApD,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAA0B,kBACAC,WAAArD,GAAAyC,UAAA,WAAA,OAAA1nB,EAAA2mB,MAAA0B,eAAAroB,EAAA2mB,MAAA2B,aAAA,UAEA,IAAArpB,OACAspB,KAAA,GACAnqB,KAAAkpB,UAAAiB,KAAA9B,EAAAP,OAyPA,OAvPAK,EAAAhoB,UAAAiqB,aAAA,SAAAhF,GACA,IAAApa,EAAAT,WAAA8f,KAAAC,KAAAlF,IAAA,SAAApmB,GAAA,OAAAA,EAAA+oB,WAAA,MACA,OAAA/nB,KAAAuqB,YAAAvf,IAEAmd,EAAAhoB,UAAAoqB,YAAA,SAAAvf,GAEA,IAAA,IAAAwf,EAAA,EAAAA,EAAAxf,EAAAvL,QAAAO,KAAA2oB,aAAAP,EAAAe,UAAAsB,UAAAD,EAAA,CACA,IAAAzpB,EAAAiK,EAAAwf,GAMA,OALAxqB,KAAAipB,kBAAAjpB,KAAA+oB,gBACA/oB,KAAAgpB,YAAA3V,IAAA,CAAAtS,GAAAf,KAAAipB,qBAIAloB,GACA,KAAA,EACA,SACA,KAAA,IACAf,KAAA4oB,aACA5oB,KAAA4oB,aAAA,IACA5oB,KAAA4oB,aAAAR,EAAAe,UAAAC,QAAA,IACAppB,KAAA2oB,aACA3oB,KAAA2oB,aAAA,IACA3oB,KAAA2oB,aAAAP,EAAAe,UAAAsB,QAAA,IAGA,SACA,KAAA,IACAzqB,KAAA4oB,aACA5oB,KAAA4oB,cAAAR,EAAAe,UAAAC,UACAppB,KAAA4oB,aAAA,IACA5oB,KAAA2oB,aACA3oB,KAAA2oB,cAAAP,EAAAe,UAAAsB,UACAzqB,KAAA2oB,aAAA,IAGA,SACA,KAAA,GACA3oB,KAAA0qB,UACA,SACA,KAAA,KACA1qB,KAAA2oB,aACA3oB,KAAA2oB,aAAA,IACA3oB,KAAA2oB,aAAAP,EAAAe,UAAAsB,QAAA,GAEA,SACA,KAAA,GAEAzqB,KAAA2qB,WACA,SACA,KAAA,GACA3qB,KAAA4qB,UACA5qB,KAAA4oB,aAAA,EACA,SACA,KAAA,GACA5oB,KAAAuoB,MAAAiB,YAAA,GACA,SACA,KAAA,GACAxpB,KAAAuoB,MAAAiB,YAAA,GACAxpB,KAAAsoB,cAAAuC,YACA,SACA,KAAA,GACA7qB,KAAA4qB,UACA5qB,KAAA4oB,aAAA,EACA5oB,KAAA2oB,aAAA,EACA,SAEA,IAAAtB,EAAA,GAAAtmB,EACAumB,GAAA,IAAAvmB,IAAA,EAMA,GALAf,KAAAuoB,MAAAc,cAEA/B,GAAA,EACAtnB,KAAAuoB,MAAAc,WAAA,IAEA,GAAA/B,EACA,OAAAD,GACA,KAAA,EACA,MACA,KAAA,EACArnB,KAAAyoB,WAAAqC,YAAA,EACA,MACA,KAAA,EACA9qB,KAAAuoB,MAAAoB,YAAA,GACA,MACA,KAAA,GACA3pB,KAAAyoB,WAAAsC,UAAA,EACA,MACA,KAAA,GACA/qB,KAAAyoB,WAAAsC,UAAA,EACA,MACA,KAAA,GACA/qB,KAAAuoB,MAAAkB,gBAAA,GACAzpB,KAAAuoB,MAAA2B,WAAA7B,EAAAP,OACA,MACA,KAAA,GACA9nB,KAAA2oB,aAAAP,EAAAe,UAAAsB,QAAA,IACAzqB,KAAAyoB,WAAAuC,gBAAA,GAEA,MACA,KAAA,GAEA,KAAA,GACA,MACA,QACAhrB,KAAAyoB,WAAAwC,cAAA5D,OAGA,GAAA,GAAAC,EACA,OAAAD,GACA,KAAA,EACA,MACA,KAAA,EACArnB,KAAAuoB,MAAAmB,aAAA,GACA,MACA,KAAA,EACA1pB,KAAAuoB,MAAAgB,cAAA,GACA,MACA,KAAA,GACAvpB,KAAAuoB,MAAAgB,cAAA,GACA,MACA,KAAA,GACAvpB,KAAAuoB,MAAAc,WAAA,GACA,SACA,KAAA,GACArpB,KAAAuoB,MAAAyB,SAAA,GACA,MACA,KAAA,GACAhqB,KAAAuoB,MAAAyB,SAAAhqB,KAAAuoB,MAAAqB,UAAA5pB,KAAAuoB,MAAAuB,gBAAA9pB,KAAAuoB,MAAAwB,kBACA,MACA,KAAA,GACA/pB,KAAAuoB,MAAA0B,cAAA,GACA,MACA,KAAA,GACAjqB,KAAAyoB,WAAAyC,cAAA,EACA,MACA,QACAlrB,KAAAyoB,WAAA0C,eAAA9D,EAGA,GAAArnB,KAAA2oB,cAAA3oB,KAAA6oB,wBAAA,CACA,IAAAuC,EAAAprB,KAAAsoB,cAAA+C,KAAArrB,KAAA2oB,aAAA3oB,KAAA4oB,cAMA,GALAwC,EAAAE,GAAAtrB,KAAAuoB,MAAAqB,UAAA5pB,KAAAuoB,MAAAuB,gBAAA9pB,KAAAuoB,MAAAwB,iBACAqB,EAAAG,GAAAvrB,KAAAuoB,MAAAyB,YACAoB,EAAAzB,WAAA3pB,KAAAuoB,MAAAoB,cACAyB,EAAA1B,YAAA1pB,KAAAuoB,MAAAmB,eACA0B,EAAA3B,eAAAzpB,KAAAuoB,MAAAkB,kBACAzpB,KAAAuoB,MAAAkB,iBAAA,CAGA,IAAA+B,EAAAxrB,KAAAsoB,cAAA+C,KAAArrB,KAAA6oB,wBAAA7oB,KAAA4oB,cACA4C,EAAAD,GAAAvrB,KAAAuoB,MAAAyB,YACAwB,EAAA7B,WAAA3pB,KAAAuoB,MAAAoB,cACA6B,EAAA9B,YAAA1pB,KAAAuoB,MAAAmB,eAEA,GAAApC,GAAA,GAAAA,GACA8D,EAAAK,aAAAzrB,KAAAuoB,MAAA0B,eAAAjqB,KAAAuoB,MAAA2B,aAAA7B,EAAAP,MAAA9nB,KAAAuoB,MAAA0B,gBAAAjqB,KAAAuoB,MAAAmD,0BACA,GAAA1rB,KAAA2oB,eACA3oB,KAAAkpB,UAAAlpB,KAAA4oB,cAAAP,EAAAP,SAIA9nB,KAAA8oB,cAAA9oB,KAAA2rB,QAAAtE,EAAAC,GACA8D,EAAAK,aAAAzrB,KAAA8oB,eAAA9oB,KAAAuoB,MAAAqB,WAAA5pB,KAAAuoB,MAAAgB,gBACAvpB,KAAAuoB,MAAAqB,YACA5pB,KAAAuoB,MAAA2B,WAAAlqB,KAAA8oB,eACA9oB,KAAAuoB,MAAAmD,uBAAA1rB,KAAAuoB,MAAAgB,iBAEA,GAAAvpB,KAAA2oB,eACA3oB,KAAAkpB,UAAAlpB,KAAA4oB,cAAA5oB,KAAA8oB,gBAIA9oB,KAAAuoB,MAAAG,cAAA1oB,KAAAyoB,YACAzoB,KAAAyoB,WAAAuC,iBACAhrB,KAAA6oB,wBAAA7oB,KAAA2oB,aAAA,EACA3oB,KAAAsoB,cAAAsD,KAAA5rB,KAAA6oB,yBAAAgD,6BAEA7rB,KAAAyoB,WAAAqD,UACA9rB,KAAA4oB,aAEA5oB,KAAA4oB,cAAAR,EAAAe,UAAAC,SACAppB,KAAA0qB,UAQA,OAJA1qB,KAAAsoB,cAAAuC,YACA7qB,KAAAuoB,MAAAiB,cACAxpB,KAAAsoB,cAAAyD,SAAA/rB,KAAA2oB,aAAA3oB,KAAA4oB,cAEA5d,EAAAvL,QAEA0oB,EAAAhoB,UAAA2rB,MAAA,WACA9rB,KAAA2qB,WACA3qB,KAAAuoB,MAAAiB,YAAA,GACAxpB,KAAAsoB,cAAA0D,eAEA7D,EAAAhoB,UAAA8rB,KAAA,SAAA7G,GACAplB,KAAA8rB,QACA9rB,KAAAoqB,aAAAhF,IAEA+C,EAAAhoB,UAAA+rB,iBAAA,WACA,OAAAC,KAAAvhB,OAAAC,aAAAxF,MAAAuF,OAAAuc,EAAAnnB,KAAAgpB,YAAAle,MAAA,EAAA9K,KAAAipB,uBAEAd,EAAAhoB,UAAAisB,YAAA,WACA,IACAC,EADArsB,KAAAkpB,UAAA7f,KAAA,IACAoY,MAAA,wBACA,OAAA4K,GAAAA,EAAA5sB,OAAA,EACA4sB,EAAA,GAEA,KAEAlE,EAAAhoB,UAAAwqB,SAAA,WACA3qB,KAAA2oB,aAAA3oB,KAAA4oB,aAAA,EACA5oB,KAAAuoB,MAAAuD,QACA9rB,KAAAyoB,WAAAqD,QACA9rB,KAAAsoB,cAAAwD,QACA9rB,KAAAipB,kBAAA,EACAjpB,KAAA6oB,yBAAA,EACA7oB,KAAAkpB,UAAAiB,KAAA9B,EAAAP,QAEAK,EAAAhoB,UAAAuqB,QAAA,WACA1qB,KAAA2oB,aAAA,EAAAP,EAAAe,UAAAsB,UACAzqB,KAAA2oB,aAIA3oB,KAAA2oB,aAAA,EAEA3oB,KAAA4oB,aAAA,EACA5oB,KAAAuoB,MAAAuD,QACA9rB,KAAAyoB,WAAAqD,SAEA3D,EAAAhoB,UAAAyqB,QAAA,WACA,GAAA5qB,KAAA4oB,aAAA,EAEA,IADA,IAAA0D,EAAAtsB,KAAAsoB,cAAA+C,KAAArrB,KAAA2oB,aAAA3oB,KAAA4oB,aAAA,GACA2D,EAAAvsB,KAAA4oB,aAAA2D,EAAAnE,EAAAe,UAAAC,UAAAmD,EAAA,CACA,IAAAnB,EAAAprB,KAAAsoB,cAAA+C,KAAArrB,KAAA2oB,aAAA4D,GACAnB,EAAAE,GAAAgB,EAAAhB,GACAF,EAAAG,GAAAe,EAAAf,MACAH,EAAAzB,WAAA2C,EAAA3C,cACAyB,EAAA1B,YAAA4C,EAAA5C,eACA0B,EAAA3B,eAAA6C,EAAA7C,oBAIAtB,EAAAhoB,UAAAwrB,QAAA,SAAAtE,EAAAC,GACA,OAAAe,EAAAjB,UAAAC,EAAAC,EAAAtnB,KAAAuoB,MAAAqB,WAAA5pB,KAAAuoB,MAAAqB,UAAA5pB,KAAAuoB,MAAAgB,gBAAA7B,MAEAS,EA3RA,GA6RA5oB,EAAA4oB,QAAAA,EACA,IAAAK,EAAA,WACA,SAAAA,IAEAxoB,KAAAgqB,SAAAnD,GAAA2F,WAAApE,EAAAqE,QAAAC,OAEA1sB,KAAA8pB,cAAAjD,GAAA2F,WAAApE,EAAAqE,QAAAE,OAEA3sB,KAAA+pB,eAAAlD,GAAA2F,WAAApE,EAAAqE,QAAAE,OAEA3sB,KAAA4pB,QAAA/C,GAAA2F,YAAA,GAEAxsB,KAAAupB,aAAA1C,GAAA2F,YAAA,GAEAxsB,KAAA2pB,WAAA9C,GAAA2F,YAAA,GAEAxsB,KAAAqpB,UAAAxC,GAAA2F,YAAA,GAEAxsB,KAAA4sB,SAAA/F,GAAA2F,YAAA,GAEAxsB,KAAA0pB,YAAA7C,GAAA2F,YAAA,GAgBAxsB,KAAAiqB,aAAApD,GAAA2F,YAAA,GACAxsB,KAAAkqB,WAAArD,GAAA2F,WAAAnE,EAAAP,OACA9nB,KAAA0rB,uBAAA7E,GAAA2F,YAAA,GACAxsB,KAAAypB,eAAA5C,GAAA2F,YAAA,GAEAxsB,KAAAwpB,WAAA3C,GAAA2F,YAAA,GAgDA,OA7CAhE,EAAAroB,UAAA2rB,MAAA,WACA9rB,KAAAgqB,SAAA5B,EAAAqE,QAAAC,OACA1sB,KAAA8pB,cAAA1B,EAAAqE,QAAAE,OACA3sB,KAAA4pB,SAAA,GACA5pB,KAAA2pB,YAAA,GACA3pB,KAAAqpB,WAAA,GACArpB,KAAA4sB,UAAA,GACA5sB,KAAA0pB,aAAA,GACA1pB,KAAAupB,cAAA,GACAvpB,KAAAiqB,cAAA,GACAjqB,KAAAkqB,WAAA7B,EAAAP,OACA9nB,KAAA0rB,wBAAA,GACA1rB,KAAAypB,gBAAA,IAGAjB,EAAAroB,UAAAuoB,cAAA,SAAAmE,GACA,IAAAC,EAAA9sB,KAAA4pB,UACA,MAAAiD,EAAA5B,eACAjrB,KAAA8pB,cAAA+C,EAAA5B,eACAjrB,KAAA4pB,SAAA,GACA5pB,KAAA0pB,aAAA,IAEA,MAAAmD,EAAA1B,iBACAnrB,KAAA+pB,eAAA8C,EAAA1B,gBACAnrB,KAAA4pB,SAAA,GACA5pB,KAAA0pB,aAAA,IAEA1pB,KAAA4pB,WAAAkD,IACA9sB,KAAAkqB,WAAA7B,EAAAP,OACA9nB,KAAA0rB,wBAAA,KAEA,IAAAmB,EAAA/B,YACA9qB,KAAA2pB,YAAA,GAEA,MAAAkD,EAAA9B,UACA/qB,KAAA4sB,WAAAC,EAAA9B,WAEA,IAAA8B,EAAA3B,eACAlrB,KAAAiqB,cAAA,GACAjqB,KAAA0rB,wBAAA,KAEA,IAAAmB,EAAA7B,gBACAhrB,KAAAypB,gBAAA,IAGAjB,EAxFA,GA0FAE,EAAA,WACA,SAAAA,IACA1oB,KAAAirB,cAAA,KACAjrB,KAAAmrB,eAAA,KACAnrB,KAAA8qB,WAAA,KACA9qB,KAAA+qB,SAAA,KACA/qB,KAAAkrB,aAAA,KACAlrB,KAAAgrB,eAAA,KAUA,OARAtC,EAAAvoB,UAAA2rB,MAAA,WACA9rB,KAAAirB,cAAA,KACAjrB,KAAAmrB,eAAA,KACAnrB,KAAA8qB,WAAA,KACA9qB,KAAA+qB,SAAA,KACA/qB,KAAAkrB,aAAA,KACAlrB,KAAAgrB,eAAA,MAEAtC,EAjBA,I3Bw+HE,CAACqE,aAAa,GAAGC,gBAAgB,KAAKC,GAAG,CAAC,SAAShuB,EAAQU,EAAOJ,G4B73IpE,aACA,IAAA+F,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBA6gB,EAAAjnB,MAAAA,KAAAinB,QAAA,SAAApoB,EAAAF,GACA,IAAA8a,EAAA,mBAAAvT,QAAArH,EAAAqH,OAAAC,UACA,IAAAsT,EAAA,OAAA5a,EACA,IAAAJ,EAAAC,EAAAI,EAAA2a,EAAAja,KAAAX,GAAAqoB,EAAA,GACA,IACA,WAAA,IAAAvoB,GAAAA,KAAA,MAAAF,EAAAK,EAAAkG,QAAAG,MAAA+hB,EAAA1gB,KAAA/H,EAAAqB,OAEA,MAAAsH,GAAA1I,EAAA,CAAA0I,MAAAA,GACA,QACA,IACA3I,IAAAA,EAAA0G,OAAAsU,EAAA3a,EAAA,SAAA2a,EAAAja,KAAAV,GAEA,QAAA,GAAAJ,EAAA,MAAAA,EAAA0I,OAEA,OAAA8f,GAEAC,EAAAnnB,MAAAA,KAAAmnB,UAAA,WACA,IAAA,IAAAD,EAAA,GAAApoB,EAAA,EAAAA,EAAAyF,UAAA9E,OAAAX,IAAAooB,EAAAA,EAAAzjB,OAAAwjB,EAAA1iB,UAAAzF,KACA,OAAAooB,GAEAtnB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAA2tB,QAAA3tB,EAAA4tB,SAAA5tB,EAAA6tB,WAAA,EACA,IAAAhF,EAAAnpB,EAAA,iBACAunB,EAAAvnB,EAAA,cACAmuB,EACA,SAAAljB,GACAlK,KAAAolB,IAAAlb,EAAAkb,IACAplB,KAAAqtB,UAAAnjB,EAAAmjB,UACArtB,KAAAstB,IAAA,QAAApjB,EAAAmjB,UAAAE,KAAA,WAAArjB,EAAAmjB,UAAAjI,KAIA7lB,EAAA6tB,MAAAA,EACA,IAAAD,EACA,SAAAjjB,GACAlK,KAAAwtB,SAAAtjB,EAAAsjB,SACAxtB,KAAAytB,KAAAvjB,EAAAujB,KACAztB,KAAAolB,IAAAlb,EAAAkb,IACAplB,KAAAutB,KAAArjB,EAAAqjB,KACAvtB,KAAAstB,IAAA,QAAApjB,EAAAqjB,KAAA,WAAArjB,EAAAkb,KAIA7lB,EAAA4tB,SAAAA,EACA,IAAAD,EAAA,WACA,SAAAA,IACAltB,KAAA0tB,UAAA,CACAngB,OAAA,2BACAogB,SAAA,aAEA3tB,KAAA4tB,eAAA,gBACA5tB,KAAA6tB,kBAAA,YACA7tB,KAAA8tB,QAAA/b,OAAAgc,aACA/tB,KAAAguB,UAAA7G,EAAAnnB,KAAAiuB,QAAAjuB,KAAA4tB,iBACA5tB,KAAAkuB,aAAA/G,EAAAnnB,KAAAiuB,QAAAjuB,KAAA6tB,oBACA7tB,KAAAguB,UAAAG,OACAnuB,KAAAkuB,aAAAC,OAmJA,OAjJAvuB,OAAAC,eAAAqtB,EAAA/sB,UAAA,iBAAA,CACAE,IAAA,WACA,MAAA,QAAAL,KAAA8tB,QAAAM,QAAA,mBAEA/a,IAAA,SAAAtS,GACAf,KAAA8tB,QAAAO,QAAA,iBAAAzjB,QAAA,IAAA7J,KAEAT,YAAA,EACAC,cAAA,IAEAX,OAAAC,eAAAqtB,EAAA/sB,UAAA,wBAAA,CACAE,IAAA,WACA,OAAAiuB,OAAAtuB,KAAA8tB,QAAAM,QAAA,2BAAA,GAEA/a,IAAA,SAAAkb,GACAvuB,KAAA8tB,QAAAO,QAAA,wBAAAzjB,OAAA2jB,KAEAjuB,YAAA,EACAC,cAAA,IAEAX,OAAAC,eAAAqtB,EAAA/sB,UAAA,UAAA,CACAE,IAAA,WACA,OAAAiuB,OAAAtuB,KAAA8tB,QAAAM,QAAA,aAAA,GAEA/a,IAAA,SAAA1U,GACAqB,KAAA8tB,QAAAO,QAAA,UAAAzjB,OAAAjM,KAEA2B,YAAA,EACAC,cAAA,IAEA2sB,EAAA/sB,UAAAquB,OAAA,WACA,IAAA5sB,EAAA5B,KACA,OAAAA,KAAAguB,UACAvc,KAAA,SAAA8I,GACA,IACA,OAAA,IAAA6S,EAAArjB,KAAAsB,MAAAzJ,EAAAksB,QAAAM,QAAA7T,KAEA,MAAA7I,GACA9P,EAAAksB,QAAAW,WAAAlU,GAEA,OAAA,QAEAmU,QAAA,SAAArI,GAAA,OAAA,MAAAA,MAEA6G,EAAA/sB,UAAAwuB,WAAA,SAAAC,GACA,OAAA,IAAAxB,EAAArjB,KAAAsB,MAAArL,KAAA8tB,QAAAM,QAAApuB,KAAAguB,UAAAY,OAGA1B,EAAA/sB,UAAA0uB,cAAA,SAAAD,GACA5uB,KAAA8tB,QAAAW,WAAAzuB,KAAAguB,UAAAY,IACA5uB,KAAAguB,UAAA1V,OAAAsW,EAAA,IAGA1B,EAAA/sB,UAAA2uB,SAAA,SAAA1J,EAAAiI,GACA,IAAA9S,EAAA,MAAAva,KAAA+uB,WACA7kB,EAAA,CAAAkb,IAAAA,EAAAiI,UAAAA,GAGA,OAFArtB,KAAA8tB,QAAAO,QAAA9T,EAAAxQ,KAAAC,UAAAE,IACAlK,KAAAguB,UAAAxnB,KAAA+T,GACA,IAAA6S,EAAAljB,IAEAgjB,EAAA/sB,UAAA6uB,UAAA,WACA,IAAAptB,EAAA5B,KACA,OAAAA,KAAAkuB,aAAAzc,KAAA,SAAA8I,GACA,IACA,OAAA,IAAA4S,EAAApjB,KAAAsB,MAAAzJ,EAAAksB,QAAAM,QAAA7T,KAEA,MAAA7I,GACA9P,EAAAksB,QAAAW,WAAAlU,GAEA,OAAA,QACAmU,QAAA,SAAArI,GAAA,OAAA,MAAAA,MAEA6G,EAAA/sB,UAAA8uB,iBAAA,SAAAL,GACA5uB,KAAA8tB,QAAAW,WAAAzuB,KAAAkuB,aAAAU,IACA5uB,KAAAkuB,aAAA5V,OAAAsW,EAAA,IAEA1B,EAAA/sB,UAAA+uB,YAAA,SAAA1B,EAAAC,EAAArI,EAAAmI,QACA,IAAAA,IAAAA,EAAAvtB,KAAA0tB,UAAAngB,QACA,IAAAgN,EAAA,MAAAiT,EAAA,IAAAxtB,KAAA+uB,WACA7kB,EAAA,CAAAsjB,SAAAA,EAAAC,KAAAA,EAAArI,IAAAA,EAAAmI,KAAAA,GAGA,OAFAvtB,KAAA8tB,QAAAO,QAAA9T,EAAAxQ,KAAAC,UAAAE,IACAlK,KAAAkuB,aAAA1nB,KAAA+T,GACA,IAAA4S,EAAAjjB,IAGAgjB,EAAA/sB,UAAAgvB,QAAA,WACA,IAAAvtB,EAAA5B,KAkBA,GAjBA,GAAAA,KAAAovB,UACA,QAAApvB,KAAA8tB,QAAAM,QAAA,mBACApuB,KAAAqvB,sBAAA,GAEArvB,KAAA8tB,QAAAW,WAAA,iBACAzuB,KAAAovB,QAAA,GAEA,GAAApvB,KAAAovB,UACApvB,KAAAkuB,aAAA1U,SAAA,SAAAe,GACA,IAAArQ,EAAAH,KAAAsB,MAAAzJ,EAAAksB,QAAAM,QAAA7T,IACArQ,EAAAlJ,eAAA,UACAkJ,EAAAqjB,KAAA3rB,EAAA8rB,UAAAngB,QAEA3L,EAAAksB,QAAAO,QAAA9T,EAAAxQ,KAAAC,UAAAE,OAEAlK,KAAAovB,QAAA,GAEA,GAAApvB,KAAAovB,QAAA,CACA,IAAAE,EAAAtd,SAAAud,eAAA,UACAC,EAAA,IAAAhJ,EAAAiJ,aACAzvB,KAAAguB,UAAAxU,SAAA,SAAAe,GACA,IAAA6K,EAAAxjB,EAAAksB,QAAAM,QAAA7T,GACAiV,EAAAE,QAAAzD,KAAA7G,GACA,IAAAiI,EAAAjF,EAAAuH,YAAAH,EAAAhmB,OAAA8lB,EAAA,IAAA,KACA1tB,EAAAksB,QAAAO,QAAA9T,EAAAxQ,KAAAC,UAAA,CAAAob,IAAAA,EAAAiI,UAAAA,QAEArtB,KAAAovB,QAAA,EAEA,GAAApvB,KAAAovB,UACApvB,KAAA8tB,QAAAW,WAAA,yBACAzuB,KAAAovB,QAAA,IAGAlC,EAAA/sB,UAAA8tB,QAAA,SAAA2B,GACA,IAAAhB,EAAArU,EACA,OAAAjV,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EACAipB,EAAA,EACAlnB,EAAA/B,MAAA,EACA,KAAA,EACA,OAAAipB,EAAA5uB,KAAA8tB,QAAAruB,QACA8a,EAAAva,KAAA8tB,QAAAvT,IAAAqU,GACAgB,EAAAC,KAAAtV,GACA,CAAA,EAAAA,GADA,CAAA,EAAA,IAFA,CAAA,EAAA,GAIA,KAAA,EACA7S,EAAA9B,OACA8B,EAAA/B,MAAA,EACA,KAAA,EAEA,QADAipB,EACA,CAAA,EAAA,GACA,KAAA,EAAA,MAAA,CAAA,QAIA1B,EAAA/sB,UAAA4uB,SAAA,WACA,OAAA/U,KAAAC,MAAA6V,KAAAC,MAAA,GAAAD,KAAAE,WAEA9C,EA/JA,GAiKA3tB,EAAA2tB,QAAAA,G5Bg4IE,CAACF,gBAAgB,GAAGjG,aAAa,KAAKkJ,GAAG,CAAC,SAAShxB,EAAQU,EAAOJ,G6BzmJpE,aACA,IAAA0nB,EAAAjnB,MAAAA,KAAAinB,QAAA,SAAApoB,EAAAF,GACA,IAAA8a,EAAA,mBAAAvT,QAAArH,EAAAqH,OAAAC,UACA,IAAAsT,EAAA,OAAA5a,EACA,IAAAJ,EAAAC,EAAAI,EAAA2a,EAAAja,KAAAX,GAAAqoB,EAAA,GACA,IACA,WAAA,IAAAvoB,GAAAA,KAAA,MAAAF,EAAAK,EAAAkG,QAAAG,MAAA+hB,EAAA1gB,KAAA/H,EAAAqB,OAEA,MAAAsH,GAAA1I,EAAA,CAAA0I,MAAAA,GACA,QACA,IACA3I,IAAAA,EAAA0G,OAAAsU,EAAA3a,EAAA,SAAA2a,EAAAja,KAAAV,GAEA,QAAA,GAAAJ,EAAA,MAAAA,EAAA0I,OAEA,OAAA8f,GAEAC,EAAAnnB,MAAAA,KAAAmnB,UAAA,WACA,IAAA,IAAAD,EAAA,GAAApoB,EAAA,EAAAA,EAAAyF,UAAA9E,OAAAX,IAAAooB,EAAAA,EAAAzjB,OAAAwjB,EAAA1iB,UAAAzF,KACA,OAAAooB,GAEAtnB,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAA2wB,cAAA3wB,EAAA4wB,aAAA5wB,EAAA6wB,wBAAA,EACA,IAAAhI,EAAAnpB,EAAA,iBACAopB,EAAAppB,EAAA,cACAkqB,EAAA,WACA,SAAAA,KAUA,OAPAA,EAAAkH,WAAA,GACAlH,EAAAmH,iBAAA,GAEAnH,EAAAoH,UAAA,GAEApH,EAAAqH,cAAA,EACArH,EAAAsH,oBAAA,EACAtH,EAXA,GAaAiH,EAAA,WACA,SAAAA,EAAAplB,EAAA0lB,GACA1wB,KAAAgL,OAAAA,EACAhL,KAAA0wB,SAAAA,EACA1wB,KAAA4rB,KAAAzE,EAAAnc,EAAA4gB,KAAA,CAAA5gB,EAAA2lB,YAAAlf,KAAA,SAAAmf,EAAAC,EAAAC,GAAA,OAAA,IAAAX,EAAAW,EAAAD,MACA7wB,KAAA+wB,QAAAlK,GAAAyC,UAAA,WAGA,MAAA,OAFAlB,EAAAe,UAAAC,QAAAD,EAAAoH,UAEA,KADAnI,EAAAe,UAAAsB,QAAA,GAAAtB,EAAAkH,cAGArwB,KAAAgxB,KAAAhxB,KAAAixB,eA8BA,OA5BAb,EAAAjwB,UAAA8wB,aAAA,WAIA,IAHA,IAAAC,EAAA9I,EAAAe,UAAAC,QAAAD,EAAAoH,UACAY,EAAA/I,EAAAe,UAAAsB,QAAAtB,EAAAkH,WACAe,EAAA,IAAAvwB,MACAwwB,EAAA,EAAAA,GAAAjJ,EAAAe,UAAAC,UAAAiI,EAAA,CACA,IAAAhL,EAAAgL,EAAAlI,EAAAoH,UACAe,EAAAD,EAAA,GAAAA,EAAAjJ,EAAAe,UAAAC,SAAAiI,EAAA,IAAA,EACAD,EAAA5qB,KAAA,CACA+qB,GAAAlL,EACAmL,GAAA,EACAC,GAAApL,EACAqL,GAAAP,EAAA,EACAQ,IAAA,SAAAL,EAAA,UAAA,MAGA,IAAA,IAAAT,EAAA,EAAAA,GAAAzI,EAAAe,UAAAsB,UAAAoG,EAAA,CACA,IAAArrB,EAAAqrB,EAAA1H,EAAAkH,WACAiB,EAAAT,EAAA,GAAAA,EAAAzI,EAAAe,UAAAsB,SAAAoG,EAAA,IAAA,EACAO,EAAA5qB,KAAA,CACA+qB,GAAA,EACAC,GAAAhsB,EACAisB,GAAAP,EAAA,EACAQ,GAAAlsB,EACAmsB,IAAA,SAAAL,EAAA,UAAA,MAGA,OAAAF,GAEAhB,EAxCA,GA0CA7wB,EAAA6wB,mBAAAA,EACA,IAAAD,EACA,SAAAyB,EAAAC,GACA,IAAAjwB,EAAA5B,KACAA,KAAA4xB,WAAAA,EACA5xB,KAAA6xB,OAAAA,EACA7xB,KAAA8xB,YAAA9xB,KAAA4xB,WAAA5xB,KAAA6xB,QACA7xB,KAAA+xB,SAAA/xB,KAAA8xB,YAAAC,SACA/xB,KAAAgyB,EAAAnL,GAAAyC,UAAA,WACA,OAAA1nB,EAAAiwB,OAAA1I,EAAAkH,cAEArwB,KAAAiyB,kBAAApL,GAAAyC,UAAA,WACA,OAAA1nB,EAAAkwB,YAAAI,MAAAC,MAAA,SAAA9L,GAAA,OAAAA,EAAAoD,uBAEAzpB,KAAAoyB,UAAAvL,GAAAyC,UAAA,WACA,OAAA1nB,EAAAmwB,WACA,EAEAnwB,EAAAqwB,oBAAA9I,EAAAmH,iBAAAnH,EAAAkH,cAEArwB,KAAAkyB,MAAAlyB,KAAA8xB,YAAAI,MAAAzgB,KAAA,SAAA2Z,EAAAiG,GAAA,OAAA,IAAAnB,EAAAtuB,EAAAwpB,EAAAiG,OAIA9xB,EAAA4wB,aAAAA,EACA,IAAAD,EACA,SAAAU,EAAAyB,EAAAhB,GACA,IAAAzvB,EAAA5B,KACAA,KAAA4wB,IAAAA,EACA5wB,KAAAqyB,WAAAA,EACAryB,KAAAqxB,OAAAA,EACArxB,KAAAsyB,UAAAtyB,KAAAqyB,WAAAC,UACAtyB,KAAAwwB,cAAA3J,GAAAyC,UAAA,WACA,OAAA1nB,EAAAywB,WAAA5I,iBAAAN,EAAAsH,oBAAAtH,EAAAqH,iBAEAxwB,KAAAuyB,SAAA1L,GAAAyC,UAAA,WACA,MAAA,IAAA1nB,EAAAywB,WAAA5I,iBAAAN,EAAAmH,iBAAAnH,EAAAkH,eAEArwB,KAAAwyB,MAAA3L,GAAA2F,WAAArD,EAAAoH,WACAvwB,KAAAqwB,WAAAxJ,GAAAyC,UAAA,WACA,OAAA1nB,EAAAgvB,IAAAmB,WACA,EAEAnwB,EAAAywB,WAAA5I,iBAAAN,EAAAmH,iBAAAnH,EAAAkH,cAEArwB,KAAAyyB,EAAA5L,GAAA2F,WAAAxsB,KAAAqxB,OAAAlI,EAAAoH,WACAvwB,KAAA0yB,MAAA7L,GAAAyC,UAAA,WACA,OAAA1nB,EAAA6wB,IAAA,KAEAzyB,KAAAgyB,EAAAhyB,KAAA4wB,IAAAoB,EACAhyB,KAAA2yB,MAAA9L,GAAAyC,UAAA,WACA,OAAA1nB,EAAAgvB,IAAAmB,WAGA,EAFAnwB,EAAAowB,IAAApwB,EAAAyuB,aAAAzuB,EAAA4uB,mBAIAxwB,KAAA4yB,QAAA/L,GAAAyC,UAAA,WAEA,IAAAuJ,EAAAjxB,EAAAywB,WAAAS,sBAAAzK,EAAAL,SAAApmB,EAAA0wB,aACA,MAAA,2BAAA1wB,EAAAywB,WAAA1I,aAAA,QAAA,IAAA,KAAA/nB,EAAAywB,WAAA5I,iBAAA,gBAAA,IAAA,KAAA7nB,EAAAywB,WAAA3I,cAAA,YAAA,IAAA,KAAAmJ,EAAA,SAAA,OAEA7yB,KAAA+yB,MAAAlM,GAAAyC,UAAA,WAEA,MAAA,OADA1nB,EAAAywB,WAAAW,WAAA5K,EAAAqE,QAAArE,EAAAqE,QAAAE,OAAAvE,EAAAqE,QAAA7qB,EAAAywB,WAAA9G,UAGAvrB,KAAAizB,MAAApM,GAAAyC,UAAA,WAEA,MAAA,OADA1nB,EAAAywB,WAAAW,WAAA5K,EAAAqE,QAAArE,EAAAqE,QAAAC,OAAAtE,EAAAqE,QAAA7qB,EAAAywB,WAAA/G,QAGAtrB,KAAAkzB,GAAArM,GAAAyC,UAAA,WACA,MAAA,OAAA1nB,EAAAgvB,IAAAiB,OAAA,QAAAjwB,EAAAyvB,UAEArxB,KAAAmzB,MAAAtM,GAAAyC,UAAA,WACA,IAAA8J,EAAA,IAAAvyB,MAIA,OAHAe,EAAAywB,WAAAS,sBAAAzK,EAAAL,SAAApmB,EAAA0wB,cACAc,EAAA5sB,KAAA,CAAAisB,EAAA7wB,EAAA8wB,QAAAV,EAAApwB,EAAA+wB,QAAA,IAEAS,MAKA7zB,EAAA2wB,cAAAA,G7B4mJE,CAACnD,aAAa,GAAGC,gBAAgB,KAAKqG,GAAG,CAAC,SAASp0B,EAAQU,EAAOJ,G8B9wJpE,aACAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAAyvB,eAAA,EACA,IAAAsE,EAAA,WACA,SAAAA,IACAtzB,KAAAgL,OAAA,IAAAnK,MAcA,OAZAyyB,EAAAnzB,UAAA2rB,MAAA,WACA9rB,KAAAgL,OAAAvL,OAAA,GAEA6zB,EAAAnzB,UAAAozB,MAAA,SAAAxyB,GACAf,KAAAgL,OAAAxE,KAAAoE,OAAAC,aAAA9J,KAEAuyB,EAAAnzB,UAAAqzB,OAAA,WACA,OAAAxzB,KAAAgL,OAAAvL,QAEA6zB,EAAAnzB,UAAAszB,UAAA,WACA,OAAAtH,KAAAnsB,KAAAgL,OAAA3B,KAAA,MAEAiqB,EAhBA,GAkBAtE,EAAA,WACA,SAAAA,EAAA0E,EAAAC,EAAAC,GACA5zB,KAAA0zB,QAAAA,EACA1zB,KAAA2zB,aAAAA,EACA3zB,KAAA4zB,YAAAA,EACA5zB,KAAA6zB,cAAA,IACA7zB,KAAA8zB,MAAA,GACA9zB,KAAA+zB,IAAA,IACA/zB,KAAAg0B,aAAA,IAAAV,EACAtzB,KAAAgmB,MAAA,EACAhmB,KAAAi0B,YAAA,EAEAj0B,KAAAk0B,gBAAA,EAEAl0B,KAAAm0B,SAAA,EAEAn0B,KAAAo0B,YAAA,KAEAp0B,KAAAq0B,YAAA,EAEAr0B,KAAAs0B,YAAA,KAGAt0B,KAAAu0B,QAAA,EAEAv0B,KAAAw0B,SAAA,EACAx0B,KAAAwtB,SAAA,GAiMA,OA/LAwB,EAAA7uB,UAAA2rB,MAAA,WACA9rB,KAAAg0B,aAAAlI,QACA9rB,KAAAgmB,MAAA,EACAhmB,KAAAi0B,YAAA,EACAj0B,KAAAk0B,gBAAA,EACAl0B,KAAAm0B,SAAA,EACAn0B,KAAAo0B,YAAA,KACAp0B,KAAAq0B,YAAA,EACAr0B,KAAAs0B,YAAA,KACAt0B,KAAAu0B,QAAA,EACAv0B,KAAAw0B,SAAA,EACAx0B,KAAAwtB,SAAA,IAEAwB,EAAA7uB,UAAAs0B,qBAAA,SAAArP,GAKA,OAJAplB,KAAA00B,OAAAtP,GAAA,GAIA,IAAAplB,KAAAi0B,eAAAj0B,KAAAwtB,UAEAwB,EAAA7uB,UAAAu0B,OAAA,SAAAtP,EAAAuP,EAAAC,QACA,IAAAD,IAAAA,GAAA,QACA,IAAAC,IAAAA,GAAA,GAEA,IADA,IAAA5pB,EAAAT,WAAA8f,KAAAC,KAAAlF,IAAA,SAAApmB,GAAA,OAAAA,EAAA+oB,WAAA,MACAyC,EAAA,EAAAA,EAAAxf,EAAAvL,SAAA+qB,EAAA,CACA,IAAAzpB,EAAAiK,EAAAwf,GAMA,GALAoK,GAAA50B,KAAAw0B,SAAAx0B,KAAA60B,OAAA9zB,KAAAA,GAAA,GACAf,KAAA0zB,QAAA,yBAAA1zB,KAAAi0B,cAGAlzB,GAAA,MACAf,KAAA+zB,IAAA,CAMA,IAAAe,EAAAlqB,OAAAC,aAAA9J,GACA,GAAAf,KAAAw0B,SAAA,IAAAx0B,KAAAgmB,MACAhmB,KAAAk0B,iBAAAnzB,EACAf,KAAAu0B,SAEA,IAAAv0B,KAAAi0B,YACA,MAAAj0B,KAAAs0B,cACAt0B,KAAAwtB,UAAAsH,GAIA/zB,GAAAf,KAAA6zB,cACA7zB,KAAAg0B,aAAAT,MAAAvzB,KAAA8zB,MAAA9zB,KAAAq0B,aAGAr0B,KAAAg0B,aAAAT,MAAAxyB,EAAAf,KAAAq0B,mBAKA,GAAAr0B,KAAAgmB,OAAA,EAQA,OAPA,IAAAhmB,KAAAgmB,QACAhmB,KAAAs0B,YAAAQ,EACA,MAAA90B,KAAAs0B,aAAA,MAAAt0B,KAAAs0B,cACAt0B,KAAAk0B,iBAAA,IACAl0B,KAAAk0B,iBAAAnzB,IAGAf,KAAAs0B,aACA,IAAA,IACAt0B,KAAAq0B,YAAA,EACAr0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACAhmB,KAAAq0B,aAAA,GACAr0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACAhmB,KAAAq0B,YAAA,GACAr0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACAhmB,KAAAq0B,YAAA,GACAr0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACAhmB,KAAAq0B,YAAA,IACAr0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACAhmB,KAAAq0B,YAAA,IACAr0B,KAAAgmB,MAAA,EACA,SACA,KAAApb,OAAAC,aAAA7K,KAAA6zB,eACA7zB,KAAAg0B,aAAAT,MAAAvzB,KAAA6zB,cAAA7zB,KAAAq0B,aACAr0B,KAAAgmB,MAAA,EACA,SACA,IAAA,MACAhmB,KAAAi0B,YACAj0B,KAAAk0B,gBAAA,EACAl0B,KAAAgmB,MAAA,EACAhmB,KAAAw0B,SAAA,EACA,SACA,IAAA,IACAx0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACAhmB,KAAAg0B,aAAAT,MAAAvzB,KAAA+zB,IAAA/zB,KAAAq0B,aACAr0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACA2O,GAAA30B,KAAA4zB,aACA5zB,KAAA4zB,YAAA5zB,KAAAwtB,SAAAxtB,KAAAg0B,aAAAR,UAEAxzB,KAAAgmB,MAAA,EACAhmB,KAAAw0B,SAAA,EACA,SACA,IAAA,IACA,OAAAx0B,KAAAgmB,OACA,KAAA,IACAhmB,KAAAgmB,MACA,MACA,KAAA,EACAhmB,KAAAk0B,iBAAAnzB,EACAf,KAAAo0B,YAAAxpB,OAAAC,aAAA9J,GACAf,KAAAgmB,MAAA,EAEAhmB,KAAAu0B,QAAA,EAGA,SACA,IAAA,IACAv0B,KAAAu0B,QAAA,EACAv0B,KAAAgmB,MAAA,EACA,SACA,IAAA,IACAhmB,KAAAgmB,MAAA,EAEA,IAAAhmB,KAAAi0B,YACAj0B,KAAAu0B,QAAA,EAGAv0B,KAAAg0B,aAAAT,MAAA,IAEA,SACA,IAAA,IACAvzB,KAAAgmB,MAAA,EACA,SACA,IAAA,IAEA,OAAAhmB,KAAAgmB,OACA,KAAA,EACAhmB,KAAAm0B,SAAA,IACAn0B,KAAAgmB,MACAhmB,KAAAw0B,SAAA,EACA,MACA,KAAA,EACAx0B,KAAAm0B,UAAA,KAAApzB,EAAA,MACAf,KAAAgmB,MACA,MACA,KAAA,EACAhmB,KAAAm0B,UAAA,IAAApzB,EAAA,MACAf,KAAAgmB,MACA,MACA,KAAA,EACAhmB,KAAAm0B,UAAApzB,EAAA,GACAf,KAAAm0B,WAAAn0B,KAAAk0B,iBACAl0B,KAAA0zB,QAAA,mCAAA1zB,KAAAi0B,YAAA,cAAAj0B,KAAAm0B,SAAA,SAAAn0B,KAAAk0B,gBAAA,KAEAl0B,KAAAgmB,MAAA,EACA2O,GAAA30B,KAAA2zB,cAEA3zB,KAAA2zB,aAAA3zB,KAAAo0B,aAAA,IAIA,SACA,QAEAp0B,KAAAu0B,QAAA,EACAv0B,KAAAgmB,MAAA,EACA,eAjJAhmB,KAAAgmB,MAAA,EAqJA,OAAAhb,EAAAvL,QAEAuvB,EAAA7uB,UAAAszB,UAAA,WACA,OAAAzzB,KAAAg0B,aAAAP,aAEAzE,EAAA7uB,UAAA00B,OAAA,SAAAzuB,GAEA,QADA,EAAAA,IAAAA,GAAA,EAAA,IAAAA,GAAA,EAAA,IAAAA,GAAA,EAAA,IAAAA,GAAA,EAAA,IAAAA,GAAA,EAAA,IAAAA,GAAA,EAAA,IACA,GAEA4oB,EA3NA,GA6NAzvB,EAAAyvB,UAAAA,G9BixJE,IAAI+F,GAAG,CAAC,SAAS91B,EAAQU,EAAOJ,G+BngKlC,aACAK,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAAowB,YAAApwB,EAAAy1B,SAAAz1B,EAAA01B,MAAA11B,EAAA21B,MAAA31B,EAAA8rB,KAAA9rB,EAAA41B,IAAA51B,EAAAiK,OAAAjK,EAAA4pB,UAAA5pB,EAAA61B,YAAA71B,EAAAktB,aAAA,EACA,IAKAA,EAWA2I,EAhBA/M,EAAAppB,EAAA,eAMA,SAAAwtB,GACAA,EAAAA,EAAA,MAAA,GAAA,QACAA,EAAAA,EAAA,IAAA,GAAA,MACAA,EAAAA,EAAA,MAAA,GAAA,QACAA,EAAAA,EAAA,OAAA,GAAA,SACAA,EAAAA,EAAA,KAAA,GAAA,OACAA,EAAAA,EAAA,QAAA,GAAA,UACAA,EAAAA,EAAA,KAAA,GAAA,OACAA,EAAAA,EAAA,MAAA,GAAA,QARA,CASAA,EAAAltB,EAAAktB,UAAAltB,EAAAktB,QAAA,KAEA,SAAA2I,GACAA,EAAA,OAAA,SACAA,EAAA,QAAA,UACAA,EAAA,KAAA,OACAA,EAAA,SAAA,WAJA,CAKAA,EAAA71B,EAAA61B,cAAA71B,EAAA61B,YAAA,KACA,IAAAjM,EAAA,WACA,SAAAA,KAIA,OAFAA,EAAAC,QAAA,GACAD,EAAAsB,QAAA,GACAtB,EALA,GAOA5pB,EAAA4pB,UAAAA,EACA,IAAA3f,EAAA,WACA,SAAAA,IACAxJ,KAAA4rB,KAAA,IAAA/qB,MAAAsoB,EAAAsB,SACAzqB,KAAA2wB,UAAA,IAAAwE,EACAn1B,KAAAq1B,OAAA,IAAAL,EAAA,CAAApE,IAAA,EAAArE,IAAA,IACA,IAAA,IAAA+I,EAAA,EAAAA,EAAAnM,EAAAsB,UAAA6K,EACAt1B,KAAA4rB,KAAA0J,GAAA,IAAAH,EAEAn1B,KAAA6qB,YAyDA,OAvDArhB,EAAArJ,UAAA2rB,MAAA,WACA9rB,KAAA4rB,KAAApS,SAAA,SAAA6M,GAAA,OAAAA,EAAAyF,WACA9rB,KAAA6qB,aAEArhB,EAAArJ,UAAAg1B,IAAA,SAAAtE,GACA,OAAA7wB,KAAA4rB,KAAAiF,IAGArnB,EAAArJ,UAAAkrB,KAAA,SAAAwF,EAAAQ,GACA,OAAArxB,KAAA4rB,KAAAiF,GAAAqB,MAAAb,IAGA7nB,EAAArJ,UAAAo1B,eAAA,SAAAC,GACA,OAAAx1B,KAAA4rB,KAAA4J,EAAAL,OAAAjD,MAAAsD,EAAAC,WAGAjsB,EAAArJ,UAAA0qB,UAAA,WACA7qB,KAAAu1B,eAAAv1B,KAAAq1B,QAAArC,UAAA,IAGAxpB,EAAArJ,UAAA4rB,SAAA,SAAA6E,EAAArE,GACAvsB,KAAAq1B,OAAAF,IAAAvE,GACA5wB,KAAAq1B,OAAAI,OAAAlJ,GACAvsB,KAAAu1B,eAAAv1B,KAAAq1B,QAAArC,UAAA,IAGAxpB,EAAArJ,UAAA6rB,YAAA,WACAhsB,KAAA6qB,YACA7qB,KAAAq1B,OAAAF,IAAA,GACAn1B,KAAAq1B,OAAAI,OAAA,IAEAjsB,EAAArJ,UAAAu1B,aAAA,SAAA1sB,EAAA2sB,EAAAC,QACA,IAAAD,IAAAA,EAAAlJ,EAAAE,YACA,IAAAiJ,IAAAA,EAAAnJ,EAAAC,OACA,IAAAkC,EAAA,EACA,GAAA,OAAA5lB,EAIA,IAHAA,EAAAvJ,OAAA0pB,EAAAC,UACApgB,EAAAA,EAAAmC,UAAA,EAAAge,EAAAC,UAEAwF,EAAA5lB,EAAAvJ,SAAAmvB,EAAA,CACA,IAAAxD,EAAAprB,KAAA2wB,UAAAuB,MAAAtD,GACAkG,EAAAzM,EAAAR,aAAA7e,EAAA4lB,IAAAlH,KACA0D,EAAAE,GAAAqK,EACAvK,EAAAG,GAAAqK,GACAxK,EAAAkH,UAAAwC,GAGA,KAAAlG,EAAAzF,EAAAC,SAAA,EACAgC,EAAAprB,KAAA2wB,UAAAuB,MAAAtD,IACAtD,GAAAqK,EACAvK,EAAAG,GAAAqK,GACAxK,EAAAkH,UAAAjK,EAAAP,SACA8G,IAGAplB,EAjEA,GAmEAjK,EAAAiK,OAAAA,EACA,IAAA2rB,EAAA,WACA,SAAAA,IACAn1B,KAAAkyB,MAAA,IAAArxB,MAAAsoB,EAAAsB,SAEAzqB,KAAA+xB,SAAAlL,GAAA2F,YAAA,GACA,IAAA,IAAAqJ,EAAA,EAAAA,EAAA1M,EAAAC,UAAAyM,EACA71B,KAAAkyB,MAAA2D,GAAA,IAAAxK,EAUA,OAPA8J,EAAAh1B,UAAA2rB,MAAA,WACA9rB,KAAAkyB,MAAA1Y,SAAA,SAAA6M,GAAA,OAAAA,EAAAyF,WACA9rB,KAAA+xB,UAAA,IAEAoD,EAAAh1B,UAAA0rB,0BAAA,WACA7rB,KAAA+xB,UAAA,IAEAoD,EAhBA,GAkBA51B,EAAA41B,IAAAA,EACA,IAAA9J,EAAA,WACA,SAAAA,IACA,IAAAzpB,EAAA5B,KAEAA,KAAA81B,IAAAjP,GAAA2F,WAAAC,EAAAE,OACA3sB,KAAA+1B,UAAAtJ,EAAAE,MAEA3sB,KAAAsyB,UAAAzL,GAAA2F,WAAAnE,EAAAP,OAEA9nB,KAAAurB,GAAA1E,GAAA2F,WAAAC,EAAAC,OAEA1sB,KAAA2pB,WAAA9C,GAAA2F,YAAA,GAEAxsB,KAAA0pB,YAAA7C,GAAA2F,YAAA,GAEAxsB,KAAAypB,eAAA5C,GAAA2F,YAAA,GAEAxsB,KAAAgzB,SAAAnM,GAAA2F,YAAA,GAEAxsB,KAAA8yB,mBAAAjM,GAAA2F,YAAA,GACAxsB,KAAA2xB,IAAA9K,GAAAyC,UAAA,WAGA,MAAA,MAFAmD,EAAA7qB,EAAA2pB,MAEA,OADAkB,EAAA7qB,EAAAk0B,OACA,KAAAl0B,EAAA+nB,aAAA,QAAA,IAAA,KAAA/nB,EAAA6nB,iBAAA,gBAAA,IAAA,KAAA7nB,EAAA8nB,cAAA,YAAA,IAAA,KAAA9nB,EAAAoxB,WAAA,SAAA,IAAA,KAAApxB,EAAAkxB,qBAAA,SAAA,OAEAoC,EAAAc,QAAA,SAAAC,GACAr0B,EAAA+nB,eAGAsM,EACAr0B,EAAAk0B,IAAAl0B,EAAAm0B,WAGAn0B,EAAAk0B,IAAAl0B,EAAA2pB,UA+BA,OA3BA3rB,OAAAC,eAAAwrB,EAAAlrB,UAAA,KAAA,CACAE,IAAA,WACA,OAAAL,KAAA81B,OAEAziB,IAAA,SAAAsiB,GACA31B,KAAA81B,IAAAH,GACA31B,KAAA+1B,UAAAJ,GAEAr1B,YAAA,EACAC,cAAA,IAGA8qB,EAAAlrB,UAAA2rB,MAAA,WACA9rB,KAAAsyB,UAAAjK,EAAAP,OACA9nB,KAAAurB,GAAA,GACAvrB,KAAAsrB,GAAAmB,EAAAE,MACA3sB,KAAA2pB,YAAA,GACA3pB,KAAA0pB,aAAA,GACA1pB,KAAAypB,gBAAA,GACAzpB,KAAAgzB,UAAA,GACAhzB,KAAA8yB,oBAAA,IAEAzH,EAAAlrB,UAAAsrB,aAAA,SAAAqJ,EAAAoB,QACA,IAAAA,IAAAA,GAAA,GACAl2B,KAAAsyB,UAAAwC,GACA90B,KAAA8yB,mBAAAoD,IAEA7K,EAhEA,GAkEA9rB,EAAA8rB,KAAAA,EACA,IAAA6J,EAAA,WACA,SAAAA,KA0BA,OAxBAA,EAAAc,OAAA,SAAAzd,GACA2c,EAAAtgB,UAAApO,KAAA+R,IAEA2c,EAAAiB,MAAA,WACAjB,EAAAe,MAAA,EACAf,EAAAkB,MAAArkB,OAAAskB,aAAA,WACAnB,EAAAtgB,UAAA4E,SAAA,SAAA8c,GACAA,EAAApB,EAAAe,SAEAf,EAAAe,MAAAf,EAAAe,OACA,MAEAf,EAAAqB,KAAA,WACA,GAAArB,EAAAkB,QACArkB,OAAAykB,cAAAtB,EAAAkB,OACAlB,EAAAkB,MAAA,GAEAlB,EAAAtgB,UAAA4E,SAAA,SAAA8c,GACAA,GAAA,OAGApB,EAAAtgB,UAAA,IAAA/T,MACAq0B,EAAAe,MAAA,EACAf,EAAAkB,MAAA,EACAlB,EA3BA,GA6BA31B,EAAA21B,MAAAA,EACA,IAAAD,EACA,SAAAwB,EAAAC,GACA,IAAA90B,EAAA5B,KACAA,KAAAy2B,MAAAA,EACAz2B,KAAA02B,OAAAA,EACA12B,KAAA22B,UAAA,SAAAC,EAAA9S,GACA,IAAA+S,EAAA/S,EAAAgT,cACA,GAAAD,EAAAE,OACA,OAAAF,EAAAtc,KACA,IAAA,IACA,IAAA,IACA3Y,EAAA60B,MAAArB,EAAA4B,QACA,MACA,IAAA,IACA,IAAA,IACAp1B,EAAA60B,MAAArB,EAAA6B,SACA,MACA,IAAA,IACA,IAAA,IACAr1B,EAAA60B,MAAArB,EAAA8B,MACA,MACA,IAAA,IACA,IAAA,IACAt1B,EAAA60B,MAAArB,EAAAjI,eAKA,OAAA0J,EAAAtc,KACA,IAAA,YACA,IAAA,OACA,IAAA,YACA3Y,EAAA80B,OAAA,MACA,MACA,IAAA,aACA,IAAA,QACA90B,EAAA80B,OAAA,MACA,MACA,IAAA,UACA,IAAA,KACA90B,EAAA80B,OAAA,MACA,MACA,IAAA,YACA,IAAA,OACA90B,EAAA80B,OAAA,MACA,MACA,IAAA,SACA90B,EAAA80B,OAAA9rB,OAAAC,aAAA,MACA,MACA,IAAA,QACAjJ,EAAA80B,OAAA,KACA,MACA,IAAA,SACA90B,EAAA80B,OAAA9rB,OAAAC,aAAA,KACA,MACA,QACA,GAAAgsB,EAAAtc,IAAA9a,SACA,KAAAo3B,EAAAtc,IACA3Y,EAAA80B,OAAA,KAGA90B,EAAA80B,OAAAG,EAAAtc,SASAhb,EAAA01B,MAAAA,EACA,IAAAD,EACA,SAAA9qB,GACAlK,KAAAm1B,IAAAtO,GAAA2F,WAAAtiB,EAAA0mB,KACA5wB,KAAAy1B,OAAA5O,GAAA2F,WAAAtiB,EAAAqiB,MAIAhtB,EAAAy1B,SAAAA,EAuDAz1B,EAAAowB,YAtDA,SAAA3kB,EAAAmsB,EAAAC,EAAAC,QACA,IAAAD,IAAAA,EAAA,UACA,IAAAC,IAAAA,EAAA,KACA,IAAAC,EAAA,CAAA,QAAA,iBAAA,iBAAA,mBAAA,iBAAA,mBAAA,mBAAA,SACAC,EAAAzH,KAAAC,MAAAqH,EAAAjO,EAAAC,SACAoO,EAAA1H,KAAAC,MAAAsH,EAAAlO,EAAAsB,SACAgN,EAAA,EAAAD,EACAL,EAAAhG,OAAAkG,EACAF,EAAAjG,MAAAkG,EACA,IAAAM,EAAAP,EAAAQ,WAAA,MACAD,EAAAE,aAAA,SAGA,IAFA,IAAAC,EAAA,EACAC,EAAA,EACAlH,EAAA,EAAAA,EAAAzH,EAAAsB,UAAAmG,EACA,IAAA5lB,EAAAmqB,IAAAvE,GAAAmB,WAAA,CAGA,IAAA/G,EAAAhgB,EAAAmqB,IAAAvE,GAAAsB,MAAAC,MAAA,SAAA9L,GAAA,OAAAA,EAAAoD,oBACAuB,GACA8M,GAAAL,EACAC,EAAAK,KAAAN,EAAA,8BAGAK,GAAAN,EACAE,EAAAK,KAAAP,EAAA,eAEA,IAAA,IAAAjL,EAAA,EAAAA,EAAApD,EAAAC,UAAAmD,EAAA,CACA,IAAAnB,EAAApgB,EAAAqgB,KAAAuF,EAAArE,GACAlG,EAAAkG,EAAAgL,EAEAG,EAAAM,UAAAV,EAAAlM,EAAAG,MACAmM,EAAAO,SAAA5R,EAAAwR,EAAAN,EAAAvM,EAAAyM,EAAAD,GAEAE,EAAAM,UAAAV,EAAAlM,EAAAE,IACAoM,EAAAQ,SAAA9M,EAAAkH,YAAAjM,EAAAyR,EAAAP,GAEAnM,EAAA0H,sBACA4E,EAAAQ,SAAA9M,EAAAkH,YAAAjM,EAAA,EAAAyR,EAAAP,GAGAM,GAAA7M,EAAAyM,EAAAD,EAEA,IAAAW,EAAA,yBACAjuB,EAAAitB,EAAAiB,YAIA,OAHA,GAAAluB,EAAAO,QAAA0tB,KACAjuB,EAAAA,EAAAiB,UAAAgtB,EAAA14B,SAEA,CACA8tB,KAAA,YACAnI,IAAAlb,EACAujB,KAAA,EAAAqC,KAAAuI,KAAAnuB,EAAAzK,OAAA,GACA64B,UAAA,U/BygKE,CAACvL,aAAa,KAAKwL,GAAG,CAAC,SAASt5B,EAAQU,EAAOJ,GgCr2KjD,aACA,IAAAiF,EAAAxE,MAAAA,KAAAwE,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GAEA,OAAA,IAAAD,IAAAA,EAAAnC,WAAA,SAAAqC,EAAApC,GACA,SAAAqC,EAAAhF,GAAA,IAAAiF,EAAAH,EAAAI,KAAAlF,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAuG,EAAAnF,GAAA,IAAAiF,EAAAH,EAAA,MAAA9E,IAAA,MAAApB,GAAA+D,EAAA/D,IACA,SAAAqG,EAAAG,GAJA,IAAApF,EAIAoF,EAAAC,KAAAN,EAAAK,EAAApF,QAJAA,EAIAoF,EAAApF,MAJAA,aAAA6E,EAAA7E,EAAA,IAAA6E,GAAA,SAAAE,GAAAA,EAAA/E,OAIAsF,KAAAN,EAAAG,GACAF,GAAAH,EAAAA,EAAAS,MAAAZ,EAAAC,GAAA,KAAAM,YAGAM,EAAAtF,MAAAA,KAAAsF,aAAA,SAAAb,EAAAc,GACA,IAAAxG,EAAAyG,EAAA5G,EAAA6G,EAAAC,EAAA,CAAAC,MAAA,EAAAC,KAAA,WAAA,GAAA,EAAAhH,EAAA,GAAA,MAAAA,EAAA,GAAA,OAAAA,EAAA,IAAAiH,KAAA,GAAAC,IAAA,IACA,OAAAL,EAAA,CAAAT,KAAAe,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAA,mBAAAG,SAAAT,EAAAS,OAAAC,UAAA,WAAA,OAAAnG,OAAAyF,EACA,SAAAM,EAAApH,GAAA,OAAA,SAAAyH,GAAA,OACA,SAAAC,GACA,GAAAtH,EAAA,MAAA,IAAAuH,UAAA,mCACA,KAAAZ,OACA,GAAA3G,EAAA,EAAAyG,IAAA5G,EAAA,EAAAyH,EAAA,GAAAb,EAAA,OAAAa,EAAA,GAAAb,EAAA,SAAA5G,EAAA4G,EAAA,SAAA5G,EAAAY,KAAAgG,GAAA,GAAAA,EAAAR,SAAApG,EAAAA,EAAAY,KAAAgG,EAAAa,EAAA,KAAAlB,KAAA,OAAAvG,EAEA,OADA4G,EAAA,EAAA5G,IAAAyH,EAAA,CAAA,EAAAA,EAAA,GAAAzH,EAAAkB,QACAuG,EAAA,IACA,KAAA,EAAA,KAAA,EAAAzH,EAAAyH,EAAA,MACA,KAAA,EAAA,OAAAX,EAAAC,QAAA,CAAA7F,MAAAuG,EAAA,GAAAlB,MAAA,GACA,KAAA,EAAAO,EAAAC,QAAAH,EAAAa,EAAA,GAAAA,EAAA,CAAA,GAAA,SACA,KAAA,EAAAA,EAAAX,EAAAI,IAAAS,MAAAb,EAAAG,KAAAU,MAAA,SACA,QACA,KAAA3H,EAAA8G,EAAAG,MAAAjH,EAAAA,EAAAa,OAAA,GAAAb,EAAAA,EAAAa,OAAA,KAAA,IAAA4G,EAAA,IAAA,IAAAA,EAAA,IAAA,CAAAX,EAAA,EAAA,SACA,GAAA,IAAAW,EAAA,MAAAzH,GAAAyH,EAAA,GAAAzH,EAAA,IAAAyH,EAAA,GAAAzH,EAAA,IAAA,CAAA8G,EAAAC,MAAAU,EAAA,GAAA,MACA,GAAA,IAAAA,EAAA,IAAAX,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAAA,EAAAyH,EAAA,MACA,GAAAzH,GAAA8G,EAAAC,MAAA/G,EAAA,GAAA,CAAA8G,EAAAC,MAAA/G,EAAA,GAAA8G,EAAAI,IAAAU,KAAAH,GAAA,MACAzH,EAAA,IAAA8G,EAAAI,IAAAS,MACAb,EAAAG,KAAAU,MAAA,SAEAF,EAAAd,EAAA/F,KAAAiF,EAAAiB,GACA,MAAAhH,GAAA2H,EAAA,CAAA,EAAA3H,GAAA8G,EAAA,EAAA,QAAAzG,EAAAH,EAAA,EACA,GAAA,EAAAyH,EAAA,GAAA,MAAAA,EAAA,GAAA,MAAA,CAAAvG,MAAAuG,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAJ,CAAA,CAAApG,EAAAyH,OAwBAxG,OAAAC,eAAAN,EAAA,aAAA,CAAAO,OAAA,IACAP,EAAAqnB,KAAArnB,EAAAkwB,kBAAA,EACA,IAAA+I,EAAAv5B,EAAA,gBACAmpB,EAAAnpB,EAAA,iBACAiuB,EAAAjuB,EAAA,gBACAw5B,EAAAx5B,EAAA,iBACAopB,EAAAppB,EAAA,cACAy5B,EAAAz5B,EAAA,YACAgmB,EAAAhmB,EAAA,eACA05B,EAAA15B,EAAA,oBACAwwB,EACA,WACAzvB,KAAAwJ,OAAA,IAAA4e,EAAA5e,OACAxJ,KAAA44B,WAAA/R,GAAA2F,YAAA,GACAxsB,KAAA0wB,SAAA7J,GAAA2F,YAAA,GACAxsB,KAAA64B,YAAAhS,GAAA2F,YAAA,GACAxsB,KAAA0vB,QAAA,IAAA8I,EAAArQ,QAAAnoB,KAAAwJ,QACAxJ,KAAAmpB,UAAAf,EAAAe,UACAnpB,KAAA24B,IAAA,IAAAA,EAAAvI,mBAAApwB,KAAAwJ,OAAAxJ,KAAA0wB,WAIAnxB,EAAAkwB,aAAAA,EACA,IAAA7I,EAAA,WACA,SAAAA,IACA,IAAAhlB,EAAA5B,KACAA,KAAA84B,cAAA,kBACA94B,KAAA+4B,gBAAA/mB,SAAAud,eAAA,YACAvvB,KAAAg5B,iBAAAhnB,SAAAud,eAAA,aACAvvB,KAAAi5B,iBAAA,CACAC,KAAA,IACAC,QAAA,KAEAn5B,KAAAo5B,iBAAA,CACAC,KAAA,IACAC,SAAA,MAEAt5B,KAAAu5B,OAAA1S,GAAA2F,WAAAxsB,KAAA84B,eACA94B,KAAAw5B,UAAA3S,GAAA2F,WAAA,MACAxsB,KAAAy5B,SAAA5S,GAAA6S,kBACA15B,KAAA25B,gBAAA9S,GAAA2F,aACAxsB,KAAA45B,cAAA/S,GAAA2F,YAAA,GACAxsB,KAAA65B,YAAAhT,GAAA2F,YAAA,GACAxsB,KAAA85B,WAAAjT,GAAA2F,YAAA,GACAxsB,KAAA+5B,WAAAlT,GAAA2F,YAAA,GACAxsB,KAAAg6B,UAAAnT,GAAA2F,WAAA,MACAxsB,KAAAi6B,YAAApT,GAAA2F,YAAA,GACAxsB,KAAAi1B,MAAApO,GAAA2F,aACAxsB,KAAAgvB,UAAAnI,GAAA6S,kBACA15B,KAAAk6B,YAAArT,GAAA6S,kBACA15B,KAAAm6B,aAAAtT,GAAAyC,UAAA,WACA,OAAA1nB,EAAAi4B,eAAA,MAAAj4B,EAAAo4B,eAEAh6B,KAAAo6B,eAAAvT,GAAAyC,UAAA,WACA,OAAA1nB,EAAAi4B,gBAAAj4B,EAAAq4B,iBAEAj6B,KAAAq6B,eAAAxT,GAAA2F,YAAA,GACAxsB,KAAAmlB,IAAA,IAAAF,EAAAE,IACAnlB,KAAAs6B,KAAA,IAAA7K,EACAzvB,KAAAktB,QAAA,IAAAA,EAAAA,QACAltB,KAAAu6B,SAAA,IAAAnS,EAAA6M,OAAA,SAAA51B,GACA,OAAAA,GACA,KAAA+oB,EAAAgN,YAAA8B,KACAt1B,EAAA44B,QAAA54B,EAAAq3B,iBAAAC,MACA,MACA,KAAA9Q,EAAAgN,YAAA6B,QACAr1B,EAAA44B,QAAA54B,EAAAq3B,iBAAAE,SACA,MACA,KAAA/Q,EAAAgN,YAAA4B,OACAp1B,EAAA64B,eACA,MACA,KAAArS,EAAAgN,YAAAjI,SACAvrB,EAAAurB,eAGA,SAAAnkB,GACApH,EAAA44B,QAAAxxB,MAEAhJ,KAAA06B,WAAA,IAAAjC,EAAAzJ,WAAA,SAAA5nB,GACAxF,EAAA+4B,OAAAC,aACAh5B,EAAAujB,IAAA/lB,MAAAgI,MACA,SAAAyzB,GACAj5B,EAAAQ,KAAA,KAAAy4B,EAAA,IAAA,QACA,SAAArN,EAAAC,GACA7rB,EAAAq4B,aAAA,GACAr4B,EAAAy4B,gBAAA,GACA,IAAAjV,EAAAxjB,EAAA84B,WAAAjH,YACA7xB,EAAAotB,UAAAxoB,KAAA5E,EAAAsrB,QAAAgC,YAAA1B,EAAAC,EAAArI,EAAAxjB,EAAAsrB,QAAAQ,UAAAngB,SACA3L,EAAAujB,IAAAmB,KAAA,IAAAkH,EAAA,gBACA5rB,EAAAQ,KAAA,KACAR,EAAAk5B,uBAEA96B,KAAAglB,IAAA,IAAA0T,EAAA1T,IAAA,CACAK,SAAA,SAAAD,GACA,GAAA,MAAAA,EAIA,GADAxjB,EAAA04B,KAAA5K,QAAAtF,aAAAhF,GACAxjB,EAAAq4B,cACA,IACAr4B,EAAA84B,WAAAhG,OAAAtP,GAEA,MAAA1T,GACA9P,EAAAujB,IAAA/lB,MAAAsS,GACA9P,EAAA+4B,OAAAC,kBAIA,IACAh5B,EAAAy4B,eAAAz4B,EAAA84B,WAAAjG,qBAAArP,IAEA,MAAA1T,MAKA4T,MAAA,SAAAA,GACAA,EAAAyV,OAGA,GAAAzV,EAAAyV,OACAn5B,EAAA43B,UAAA,iBAGA53B,EAAA43B,UAAAlU,EAAAyV,OAAA,iBANAn5B,EAAA43B,UAAA,mBASAjU,UAAA,SAAAlY,GACAzL,EAAA+4B,OAAAvzB,MAAAiG,GACAzL,EAAAujB,IAAA/lB,MAAAiO,MAGArN,KAAA26B,OAAA,CACAK,QAAA,SAAAhyB,GACApH,EAAA04B,KAAA9wB,OAAAksB,aAAA1sB,EAAA,EAAA,IAEAiT,KAAA,SAAAjT,GACApH,EAAA04B,KAAA9wB,OAAAksB,aAAA1sB,EAAA,EAAA,IAEA5B,MAAA,SAAA4B,GACApH,EAAA04B,KAAA9wB,OAAAksB,aAAA1sB,EAAA,EAAA,IAEA4xB,WAAA,WACAh5B,EAAA04B,KAAA9wB,OAAAksB,aAAA,oBAAA,EAAA,IAEAtZ,QAAA,SAAApT,GACApH,EAAA04B,KAAA9wB,OAAAksB,aAAA1sB,EAAA,EAAA,IAEAiyB,MAAA,WACAr5B,EAAA04B,KAAA9wB,OAAAksB,aAAA,KAAA,EAAA,KAGA11B,KAAA22B,UAAA,SAAAC,EAAA9S,GAEA,MAAA,SADAA,EAAAgT,cACAvc,MACA3Y,EAAAs5B,QACA,IAIAl7B,KAAAm7B,cAAAz1B,EAAA01B,UAAA,WACAx5B,EAAAg4B,eAAA,GACAh4B,EAAA+4B,OAAAM,QACAr5B,EAAAojB,IAAAe,UACA3gB,MAAA,WACA,OAAAxD,EAAAi4B,cAAAj4B,EAAAy5B,aAAAz5B,EAAAyP,aAEAO,OAAA,SAAAgJ,GACAhZ,EAAAujB,IAAA/lB,MAAAwb,QAEA,KACA5a,KAAAy6B,aAAA/0B,EAAA01B,UAAA,WACAx5B,EAAAg4B,eAAA,GACAh4B,EAAA04B,KAAA1B,YAAAh3B,EAAA04B,KAAA1B,gBACA,KACA54B,KAAAk7B,KAAAx1B,EAAA01B,UAAA,WACA,GAAAx5B,EAAAi4B,cAAA,CAGAj4B,EAAAg4B,eAAA,GACA,IAAA5wB,EAAApH,EAAAqzB,SAAA,GACAjsB,EAAAsyB,SAAA,OACAtyB,GAAA,KAEApH,EAAA44B,QAAAxxB,MACA,KACAhJ,KAAAw6B,QAAA,SAAAxxB,GACA,MAAAA,GAAApH,EAAAi4B,gBAGAj4B,EAAAg4B,eAAA,GACAh4B,EAAA84B,WAAA5O,QACAlqB,EAAA+4B,OAAAM,QACAr5B,EAAAojB,IAAAe,UACA3gB,MAAA,WACAxD,EAAAQ,KAAA4G,MAEA4I,OAAA,SAAAgJ,GACAhZ,EAAAujB,IAAA/lB,MAAAwb,QAGA5a,KAAAu7B,OAAA,WACA35B,EAAAi4B,gBAGAj4B,EAAAg4B,eAAA,GACAh4B,EAAA84B,WAAA5O,QACAlqB,EAAA+4B,OAAAM,QACAr5B,EAAAojB,IAAAe,UACA3gB,MAAA,WACA,MAAAxD,EAAAo4B,aACAp4B,EAAAQ,KAAAR,EAAAo4B,gBAGApoB,OAAA,SAAAgJ,GACAhZ,EAAAujB,IAAA/lB,MAAAwb,QAGA5a,KAAAmtB,SAAA,WACAvrB,EAAAy4B,kBAAAz4B,EAAAi4B,gBAGAj4B,EAAAg4B,eAAA,GACAh4B,EAAA+4B,OAAAM,QACAr5B,EAAAojB,IAAAe,UACA3gB,MAAA,WACAxD,EAAAq4B,aAAA,GACAr4B,EAAAQ,KAAA,QAEAwP,OAAA,SAAAgJ,GACAhZ,EAAAujB,IAAA/lB,MAAAwb,QAGA5a,KAAAw7B,eAAA91B,EAAA01B,UAAA,SAAAxM,GACAhtB,EAAAg4B,eAAA,GACAh4B,EAAAsrB,QAAA+B,iBAAAL,GACA,IAAA6M,EAAA75B,EAAAotB,YACAyM,EAAAnjB,OAAAsW,EAAA,GACAhtB,EAAAotB,UAAAyM,KACA,KACAz7B,KAAA07B,UAAAh2B,EAAA01B,UAAA,WACAx5B,EAAAg4B,eAAA,GACA,IAAAxU,EAAAxjB,EAAA04B,KAAA5K,QAAAxD,mBACA,GAAA,MAAA9G,EAAA,CAGA,IAAA+R,EAAAnlB,SAAAud,eAAA,UACAlC,EAAAjF,EAAAuH,YAAA/tB,EAAA04B,KAAA9wB,OAAA2tB,EAAA,IAAA,KACAjtB,EAAAtI,EAAAsrB,QAAA4B,SAAA1J,EAAAiI,GACAzrB,EAAAs4B,YAAA1zB,KAAA0D,GACAtI,EAAA+5B,YAAAC,aACA,KACA57B,KAAA67B,eAAAn2B,EAAA01B,UAAA,SAAAxM,GACAhtB,EAAAg4B,eAAA,GACA,IAAA1vB,EAAAtI,EAAAsrB,QAAAyB,WAAAC,GACAhtB,EAAA04B,KAAA5K,QAAAzD,KAAA/hB,EAAAkb,OACA,KACAplB,KAAA87B,UAAAjV,GAAA2F,aACAxsB,KAAA+7B,eAAAr2B,EAAA01B,UAAA,SAAAxM,GACAhtB,EAAAg4B,eAAA,GACA,IAAA1vB,EAAAtI,EAAAsrB,QAAAyB,WAAAC,GACAhtB,EAAAk6B,UAAA5xB,EAAAkb,KACApT,SAAAud,eAAA,aAAAyM,SACAhqB,SAAAiqB,YAAA,UACA,KACAj8B,KAAAk8B,iBAAAx2B,EAAA01B,UAAA,SAAAxM,GACAhtB,EAAAg4B,eAAA,GACAh4B,EAAAsrB,QAAA2B,cAAAD,GACA,IAAAuN,EAAAv6B,EAAAs4B,cACAiC,EAAA7jB,OAAAsW,EAAA,GACAhtB,EAAAs4B,YAAAiC,GACAv6B,EAAA+5B,YAAAC,YACA,KACA57B,KAAA2vB,YAAAjqB,EAAA01B,UAAA,WACAx5B,EAAAg4B,eAAA,GACA,IAAAzC,EAAAnlB,SAAAud,eAAA,UACArlB,EAAAke,EAAAuH,YAAA/tB,EAAA04B,KAAA9wB,OAAA2tB,GACA3J,EAAA,GAAA5rB,EAAA04B,KAAA5K,QAAAtD,cAAAliB,EAAAouB,UACA8D,EAAAx6B,EAAAsrB,QAAAgC,YAAA1B,EAAAtjB,EAAAujB,KAAAvjB,EAAAkb,IAAAlb,EAAAqjB,MACA3rB,EAAAotB,UAAAxoB,KAAA41B,GACAx6B,EAAAk5B,sBACA,KACA96B,KAAAq8B,WAAA32B,EAAA01B,UAAA,WAAA,OAAA52B,EAAA5C,OAAA,OAAA,GAAA,WACA,OAAA0D,EAAAtF,MAAA,SAAA0H,GACA,OAAAA,EAAA/B,OACA,KAAA,EACA,OAAA3F,KAAA+4B,gBAAAuD,mBACAt8B,KAAAs6B,KAAA5J,UAAA,GACA,CAAA,EAAA1wB,KAAA+4B,gBAAAuD,sBAFA,CAAA,EAAA,GAGA,KAAA,EACA50B,EAAA9B,OACA5F,KAAA45B,eAAA,GACAlyB,EAAA/B,MAAA,EACA,KAAA,EAAA,MAAA,CAAA,YAGA,KACA3F,KAAAktB,QAAAiC,UACAnvB,KAAAgvB,UAAAhvB,KAAAktB,QAAA8B,aACAhvB,KAAAs6B,KAAAzB,YAAA74B,KAAAktB,QAAAqP,gBACAv8B,KAAAs6B,KAAAzB,YAAAne,WAAA,SAAA8hB,GACA56B,EAAAsrB,QAAAqP,eAAAC,EACAA,EACApU,EAAA8M,MAAAiB,QAGA/N,EAAA8M,MAAAqB,UAGAv2B,KAAAy8B,eACAz8B,KAAAs6B,KAAAzB,eACAzQ,EAAA8M,MAAAiB,QAEAn2B,KAAA27B,YAAAe,EAAA,iBAAAC,YAAA,CACAvpB,KAAA,EACAwpB,WAAA,IAEA58B,KAAAk6B,YAAAl6B,KAAAktB,QAAAsB,UACA5mB,YAAA,WACAhG,EAAA+5B,YAAAC,YACA,GACA57B,KAAAglB,IAAAe,UACA3gB,MAAA,WACA,OAAAxD,EAAAojB,IAAAQ,OAAAC,cAEArgB,MAAA,SAAAqgB,GAEA,OADA7jB,EAAA63B,SAAAhU,GACA7jB,EAAAi7B,iBAAA,MAEAjrB,OAAA,WACAhQ,EAAAujB,IAAAmB,KAAA,6BAEA,CAAAtmB,KAAAs6B,KAAA1B,WAAA54B,KAAAs6B,KAAA5J,SAAA1wB,KAAAs6B,KAAAzB,aAAArf,SAAA,SAAA6M,GAAA,OAAAA,EAAA3L,WAAA,WACA9Y,EAAAg4B,eAAA,SAuIA,OApIAhT,EAAAzmB,UAAA08B,gBAAA,SAAAC,GACA,IAAAl7B,EAAA5B,KACA,OAAA,IAAAwC,SAAA,SAAAqC,EAAApC,GACAb,EAAAojB,IAAAQ,OAAAE,SACAtgB,MAAA,SAAAF,GACAA,EAAAwgB,QACA9jB,EAAA+3B,gBAAAz0B,EAAAygB,SACA/jB,EAAAm7B,YAAA73B,GACAtD,EAAAujB,IAAAmB,KAAA,qBACAwW,IACAl7B,EAAAujB,IAAAmB,KAAA,mCACA1kB,EAAAQ,KAAA,SAEAyC,MAGAjD,EAAAi4B,gBACAj4B,EAAAujB,IAAApd,QAAA,8FACAnG,EAAA+4B,OAAAve,QAAA,0CAEAxa,EAAAo7B,iBACAv6B,QAGAmP,OAAA,SAAAxK,GACAxF,EAAAujB,IAAA/lB,MAAAgI,GACAxF,EAAA+4B,OAAAC,aACAh5B,EAAAo7B,iBACAv6B,EAAA2E,UAIAwf,EAAAzmB,UAAAiC,KAAA,SAAA4G,GACA,IAAApH,EAAA5B,KACAi9B,EAAA5U,EAAAJ,mBAAAjf,GACAhJ,KAAAmlB,IAAAmB,KAAA,YAAAtd,EAAA,iBAAAi0B,EAAA,KACA,IAAA7X,EAAA+G,KAAA8Q,GACAj9B,KAAAglB,IAAAQ,OAAAI,WAAAR,GACAxT,OAAA,WAEA,OADAhQ,EAAAujB,IAAA/lB,MAAA,oCACAwC,EAAAi7B,iBAAA,MAEAjrB,OAAA,WACAhQ,EAAAujB,IAAAmB,KAAA,8BAGAM,EAAAzmB,UAAAkR,QAAA,WACA,IAAAzP,EAAA5B,KACA2lB,EAAA3lB,KAAA25B,kBAEA,OADA35B,KAAAmlB,IAAAmB,KAAA,iBAAAX,GACA3lB,KAAA68B,iBAAA,GAAAjrB,OAAA,WACA,OAAAhQ,EAAAojB,IAAAQ,OAAAlB,KAAAqB,GACAvgB,MAAA,SAAAF,GACAtD,EAAAujB,IAAAc,QAAA,gBAAA/gB,EAAAg4B,KAAA,YAAAh4B,EAAAi4B,MACAv7B,EAAAm7B,YAAA73B,MAEA0M,OAAA,SAAAxK,GACAxF,EAAAujB,IAAA/lB,MAAAgI,GACAxF,EAAA+4B,OAAAC,oBAIAhU,EAAAzmB,UAAAk7B,WAAA,WACA,IAAAz5B,EAAA5B,KAEA,OADAA,KAAAmlB,IAAAmB,KAAA,oBACAtmB,KAAAglB,IAAAQ,OAAA7E,QACAvb,MAAA,WACAxD,EAAAujB,IAAAc,QAAA,gBACArkB,EAAAo7B,oBAEAprB,OAAA,SAAAxK,GACAxF,EAAAujB,IAAA/lB,MAAAgI,GACAxF,EAAAo7B,qBAGApW,EAAAzmB,UAAAs8B,aAAA,WACA,IAAA76B,EAAA5B,KACAo9B,EAAA,IAAAC,OAAAC,QAAAt9B,KAAA+4B,iBACAqE,EAAAG,IAAA,IAAAF,OAAAG,IAAA,CAAA1Z,MAAA,YAAA2Z,KAAA,KACAL,EAAAG,IAAA,IAAAF,OAAAK,IAAA,CAAA5Z,MAAA,UAAA6Z,UAAAN,OAAAO,kBACAR,EAAAG,IAAA,IAAAF,OAAAK,IAAA,CAAA5Z,MAAA,WAAA6Z,UAAAN,OAAAQ,mBACAT,EAAAG,IAAA,IAAAF,OAAAK,IAAA,CAAA5Z,MAAA,UAAA6Z,UAAAN,OAAAS,kBACAV,EAAAplB,GAAA,UAAAtS,EAAAq4B,UAAA,WACAn8B,EAAAi4B,gBAGAj4B,EAAAm4B,aACAn4B,EAAA44B,QAAA54B,EAAAq3B,iBAAAE,SAGAv3B,EAAA44B,QAAA54B,EAAAw3B,iBAAAC,SAEA,MACA+D,EAAAplB,GAAA,WAAAtS,EAAAq4B,UAAA,WACAn8B,EAAAi4B,gBAGAj4B,EAAAm4B,cACAn4B,EAAA44B,QAAA54B,EAAAw3B,iBAAAE,aAEA,MACA8D,EAAAplB,GAAA,UAAAtS,EAAAq4B,UAAA,WACA/rB,SAAAgsB,mBACAhsB,SAAAisB,mBAEA,MACAb,EAAAplB,GAAA,aAAA,SAAAtZ,GACAkD,EAAAi4B,eACAj4B,EAAAm4B,cACAn4B,EAAA44B,QAAA54B,EAAAq3B,iBAAAC,UAKAtS,EAAAzmB,UAAA48B,YAAA,SAAA73B,GACAlF,KAAAu5B,OAAAr0B,EAAAg4B,KAAA,IAAAh4B,EAAAi4B,MACAn9B,KAAA65B,aAAA,GACA75B,KAAAg6B,UAAA90B,EAAAg5B,WACAl+B,KAAA85B,WAAA,YAAA50B,EAAAqD,MACAvI,KAAA+5B,WAAA,YAAA70B,EAAAqD,MACAvI,KAAAglB,IAAAQ,OAAAK,aAEAe,EAAAzmB,UAAA68B,eAAA,WACAh9B,KAAAu5B,OAAAv5B,KAAA84B,eACA94B,KAAA65B,aAAA,GACA75B,KAAAq6B,gBAAA,GACAr6B,KAAAg6B,UAAA,OAEApT,EAAAzmB,UAAA26B,kBAAA,WACA,IAAAt1B,EAAAxF,KAAAg5B,iBAAAmF,wBAAAC,IAAArsB,OAAAssB,QACAtsB,OAAAusB,OAAA,CAAAF,IAAA54B,EAAA+4B,SAAA,YAEA3X,EA7bA,GA+bArnB,EAAAqnB,KAAAA,GhCw2KE,CAAC4X,WAAW,GAAGtY,cAAc,GAAG6G,aAAa,GAAG0R,eAAe,GAAGC,eAAe,GAAGC,mBAAmB,GAAGC,gBAAgB,GAAG5R,gBAAgB,KAAK6R,GAAG,CAAC,SAAS5/B,EAAQU,EAAOJ,GiCn2LhL,aAEAA,EAAAwL,WAuCA,SAAAqa,GACA,IAAA0Z,EAAAC,EAAA3Z,GACA4Z,EAAAF,EAAA,GACAG,EAAAH,EAAA,GACA,OAAA,GAAAE,EAAAC,GAAA,EAAAA,GA1CA1/B,EAAA2/B,YAiDA,SAAA9Z,GACA,IAAA+Z,EAcArgC,EAbAggC,EAAAC,EAAA3Z,GACA4Z,EAAAF,EAAA,GACAG,EAAAH,EAAA,GAEAM,EAAA,IAAAC,EAVA,SAAAja,EAAA4Z,EAAAC,GACA,OAAA,GAAAD,EAAAC,GAAA,EAAAA,EASAK,CAAAla,EAAA4Z,EAAAC,IAEAM,EAAA,EAGAC,EAAAP,EAAA,EACAD,EAAA,EACAA,EAGA,IAAAlgC,EAAA,EAAAA,EAAA0gC,EAAA1gC,GAAA,EACAqgC,EACAM,EAAAra,EAAA2C,WAAAjpB,KAAA,GACA2gC,EAAAra,EAAA2C,WAAAjpB,EAAA,KAAA,GACA2gC,EAAAra,EAAA2C,WAAAjpB,EAAA,KAAA,EACA2gC,EAAAra,EAAA2C,WAAAjpB,EAAA,IACAsgC,EAAAG,KAAAJ,GAAA,GAAA,IACAC,EAAAG,KAAAJ,GAAA,EAAA,IACAC,EAAAG,KAAA,IAAAJ,EAGA,IAAAF,IACAE,EACAM,EAAAra,EAAA2C,WAAAjpB,KAAA,EACA2gC,EAAAra,EAAA2C,WAAAjpB,EAAA,KAAA,EACAsgC,EAAAG,KAAA,IAAAJ,GAGA,IAAAF,IACAE,EACAM,EAAAra,EAAA2C,WAAAjpB,KAAA,GACA2gC,EAAAra,EAAA2C,WAAAjpB,EAAA,KAAA,EACA2gC,EAAAra,EAAA2C,WAAAjpB,EAAA,KAAA,EACAsgC,EAAAG,KAAAJ,GAAA,EAAA,IACAC,EAAAG,KAAA,IAAAJ,GAGA,OAAAC,GA3FA7/B,EAAAmgC,cAkHA,SAAAC,GAQA,IAPA,IAAAR,EACAK,EAAAG,EAAAlgC,OACAmgC,EAAAJ,EAAA,EACAK,EAAA,GACAC,EAAA,MAGAhhC,EAAA,EAAAihC,EAAAP,EAAAI,EAAA9gC,EAAAihC,EAAAjhC,GAAAghC,EACAD,EAAAr5B,KAAAw5B,EACAL,EAAA7gC,EAAAA,EAAAghC,EAAAC,EAAAA,EAAAjhC,EAAAghC,IAKA,IAAAF,GACAT,EAAAQ,EAAAH,EAAA,GACAK,EAAAr5B,KACAy5B,EAAAd,GAAA,GACAc,EAAAd,GAAA,EAAA,IACA,OAEA,IAAAS,IACAT,GAAAQ,EAAAH,EAAA,IAAA,GAAAG,EAAAH,EAAA,GACAK,EAAAr5B,KACAy5B,EAAAd,GAAA,IACAc,EAAAd,GAAA,EAAA,IACAc,EAAAd,GAAA,EAAA,IACA,MAIA,OAAAU,EAAAx2B,KAAA,KA3IA,IALA,IAAA42B,EAAA,GACAR,EAAA,GACAJ,EAAA,oBAAA90B,WAAAA,WAAA1J,MAEAxB,EAAA,mEACAP,EAAA,EAAA0gC,EAAAngC,EAAAI,OAAAX,EAAA0gC,IAAA1gC,EACAmhC,EAAAnhC,GAAAO,EAAAP,GACA2gC,EAAApgC,EAAA0oB,WAAAjpB,IAAAA,EAQA,SAAAigC,EAAA3Z,GACA,IAAAoa,EAAApa,EAAA3lB,OAEA,GAAA+/B,EAAA,EAAA,EACA,MAAA,IAAApgC,MAAA,kDAKA,IAAA4/B,EAAA5Z,EAAA3a,QAAA,KAOA,OANA,IAAAu0B,IAAAA,EAAAQ,GAMA,CAAAR,EAJAA,IAAAQ,EACA,EACA,EAAAR,EAAA,GAsEA,SAAAgB,EAAAL,EAAAxyB,EAAA+yB,GAGA,IAFA,IAAAf,EARAnd,EASAb,EAAA,GACAriB,EAAAqO,EAAArO,EAAAohC,EAAAphC,GAAA,EACAqgC,GACAQ,EAAA7gC,IAAA,GAAA,WACA6gC,EAAA7gC,EAAA,IAAA,EAAA,QACA,IAAA6gC,EAAA7gC,EAAA,IACAqiB,EAAA3a,KAdAy5B,GADAje,EAeAmd,IAdA,GAAA,IACAc,EAAAje,GAAA,GAAA,IACAie,EAAAje,GAAA,EAAA,IACAie,EAAA,GAAAje,IAaA,OAAAb,EAAA9X,KAAA,IAjGAo2B,EAAA,IAAA1X,WAAA,IAAA,GACA0X,EAAA,IAAA1X,WAAA,IAAA,IjC0+LE,IAAIoY,GAAG,CAAC,SAASlhC,EAAQU,EAAOJ,IAClC,SAAWiK,IAAQ;;;;;;;AkCt/LnB,aAEA,IAAA42B,EAAAnhC,EAAA,aACAohC,EAAAphC,EAAA,WAEAM,EAAAiK,OAAAA,EACAjK,EAAA+gC,WAqTA,SAAA7gC,IACAA,GAAAA,IACAA,EAAA,GAEA,OAAA+J,EAAA+2B,OAAA9gC,IAxTAF,EAAAihC,kBAAA,GAEA,IAAAC,EAAA,WAsDA,SAAAC,EAAAjhC,GACA,GAAAA,EAAAghC,EACA,MAAA,IAAAE,WAAA,cAAAlhC,EAAA,kCAGA,IAAAmhC,EAAA,IAAAr2B,WAAA9K,GAEA,OADAmhC,EAAAhgC,UAAA4I,EAAArJ,UACAygC,EAaA,SAAAp3B,EAAAwR,EAAA6lB,EAAAphC,GAEA,GAAA,iBAAAub,EAAA,CACA,GAAA,iBAAA6lB,EACA,MAAA,IAAAv6B,UACA,sEAGA,OAAAw6B,EAAA9lB,GAEA,OAAAqP,EAAArP,EAAA6lB,EAAAphC,GAgBA,SAAA4qB,EAAAvqB,EAAA+gC,EAAAphC,GACA,GAAA,iBAAAK,EACA,OAiHA,SAAAihC,EAAAC,GACA,iBAAAA,GAAA,KAAAA,IACAA,EAAA,QAGA,IAAAx3B,EAAAy3B,WAAAD,GACA,MAAA,IAAA16B,UAAA,qBAAA06B,GAGA,IAAAvhC,EAAA,EAAAsL,EAAAg2B,EAAAC,GACAJ,EAAAF,EAAAjhC,GAEAyhC,EAAAN,EAAA92B,MAAAi3B,EAAAC,GAEAE,IAAAzhC,IAIAmhC,EAAAA,EAAA91B,MAAA,EAAAo2B,IAGA,OAAAN,EAtIAO,CAAArhC,EAAA+gC,GAGA,GAAA3e,YAAAkf,OAAAthC,GACA,OAAAuhC,EAAAvhC,GAGA,GAAA,MAAAA,EACA,MAAAwG,UACA,yHACAxG,GAIA,GAAAwhC,EAAAxhC,EAAAoiB,cACApiB,GAAAwhC,EAAAxhC,EAAAkL,OAAAkX,aACA,OAkIA,SAAA4O,EAAAyQ,EAAA9hC,GACA,GAAA8hC,EAAA,GAAAzQ,EAAA/lB,WAAAw2B,EACA,MAAA,IAAAZ,WAAA,wCAGA,GAAA7P,EAAA/lB,WAAAw2B,GAAA9hC,GAAA,GACA,MAAA,IAAAkhC,WAAA,wCAGA,IAAAC,EAEAA,OADAp9B,IAAA+9B,QAAA/9B,IAAA/D,EACA,IAAA8K,WAAAumB,QACAttB,IAAA/D,EACA,IAAA8K,WAAAumB,EAAAyQ,GAEA,IAAAh3B,WAAAumB,EAAAyQ,EAAA9hC,GAKA,OADAmhC,EAAAhgC,UAAA4I,EAAArJ,UACAygC,EAtJAY,CAAA1hC,EAAA+gC,EAAAphC,GAGA,GAAA,iBAAAK,EACA,MAAA,IAAAwG,UACA,yEAIA,IAAAm7B,EAAA3hC,EAAA2hC,SAAA3hC,EAAA2hC,UACA,GAAA,MAAAA,GAAAA,IAAA3hC,EACA,OAAA0J,EAAA6gB,KAAAoX,EAAAZ,EAAAphC,GAGA,IAAAsB,EA2IA,SAAA2gC,GACA,GAAAl4B,EAAAm4B,SAAAD,GAAA,CACA,IAAAlC,EAAA,EAAAoC,EAAAF,EAAAjiC,QACAmhC,EAAAF,EAAAlB,GAEA,OAAA,IAAAoB,EAAAnhC,QAIAiiC,EAAAG,KAAAjB,EAAA,EAAA,EAAApB,GAHAoB,EAOA,QAAAp9B,IAAAk+B,EAAAjiC,OACA,MAAA,iBAAAiiC,EAAAjiC,QAAAqiC,EAAAJ,EAAAjiC,QACAihC,EAAA,GAEAW,EAAAK,GAGA,GAAA,WAAAA,EAAAp2B,MAAAzK,MAAA0c,QAAAmkB,EAAAx3B,MACA,OAAAm3B,EAAAK,EAAAx3B,MAhKA63B,CAAAjiC,GACA,GAAAiB,EAAA,OAAAA,EAEA,GAAA,oBAAAmF,QAAA,MAAAA,OAAA87B,aACA,mBAAAliC,EAAAoG,OAAA87B,aACA,OAAAx4B,EAAA6gB,KACAvqB,EAAAoG,OAAA87B,aAAA,UAAAnB,EAAAphC,GAIA,MAAA,IAAA6G,UACA,yHACAxG,GAqBA,SAAAmiC,EAAAxU,GACA,GAAA,iBAAAA,EACA,MAAA,IAAAnnB,UAAA,0CACA,GAAAmnB,EAAA,EACA,MAAA,IAAAkT,WAAA,cAAAlT,EAAA,kCA4BA,SAAAqT,EAAArT,GAEA,OADAwU,EAAAxU,GACAiT,EAAAjT,EAAA,EAAA,EAAA,EAAAmU,EAAAnU,IAwCA,SAAA4T,EAAAvQ,GAGA,IAFA,IAAArxB,EAAAqxB,EAAArxB,OAAA,EAAA,EAAA,EAAAmiC,EAAA9Q,EAAArxB,QACAmhC,EAAAF,EAAAjhC,GACAX,EAAA,EAAAA,EAAAW,EAAAX,GAAA,EACA8hC,EAAA9hC,GAAA,IAAAgyB,EAAAhyB,GAEA,OAAA8hC,EAmDA,SAAAgB,EAAAniC,GAGA,GAAAA,GAAAghC,EACA,MAAA,IAAAE,WAAA,0DACAF,EAAAtmB,SAAA,IAAA,UAEA,OAAA,EAAA1a,EA8FA,SAAAsL,EAAAg2B,EAAAC,GACA,GAAAx3B,EAAAm4B,SAAAZ,GACA,OAAAA,EAAAthC,OAEA,GAAAyiB,YAAAkf,OAAAL,IAAAO,EAAAP,EAAA7e,aACA,OAAA6e,EAAAh2B,WAEA,GAAA,iBAAAg2B,EACA,MAAA,IAAAz6B,UACA,kGACAy6B,GAIA,IAAAvB,EAAAuB,EAAAthC,OACAyiC,EAAA39B,UAAA9E,OAAA,IAAA,IAAA8E,UAAA,GACA,IAAA29B,GAAA,IAAA1C,EAAA,OAAA,EAIA,IADA,IAAA2C,GAAA,IAEA,OAAAnB,GACA,IAAA,QACA,IAAA,SACA,IAAA,SACA,OAAAxB,EACA,IAAA,OACA,IAAA,QACA,OAAA4C,EAAArB,GAAAthC,OACA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA,EAAA+/B,EACA,IAAA,MACA,OAAAA,IAAA,EACA,IAAA,SACA,OAAA6C,EAAAtB,GAAAthC,OACA,QACA,GAAA0iC,EACA,OAAAD,GAAA,EAAAE,EAAArB,GAAAthC,OAEAuhC,GAAA,GAAAA,GAAA9oB,cACAiqB,GAAA,GAMA,SAAAG,EAAAtB,EAAA7zB,EAAA+yB,GACA,IAAAiC,GAAA,EAcA,SALA3+B,IAAA2J,GAAAA,EAAA,KACAA,EAAA,GAIAA,EAAAnN,KAAAP,OACA,MAAA,GAOA,SAJA+D,IAAA08B,GAAAA,EAAAlgC,KAAAP,UACAygC,EAAAlgC,KAAAP,QAGAygC,GAAA,EACA,MAAA,GAOA,IAHAA,KAAA,KACA/yB,KAAA,GAGA,MAAA,GAKA,IAFA6zB,IAAAA,EAAA,UAGA,OAAAA,GACA,IAAA,MACA,OAAAuB,EAAAviC,KAAAmN,EAAA+yB,GAEA,IAAA,OACA,IAAA,QACA,OAAAsC,EAAAxiC,KAAAmN,EAAA+yB,GAEA,IAAA,QACA,OAAAuC,EAAAziC,KAAAmN,EAAA+yB,GAEA,IAAA,SACA,IAAA,SACA,OAAAwC,EAAA1iC,KAAAmN,EAAA+yB,GAEA,IAAA,SACA,OAAAyC,EAAA3iC,KAAAmN,EAAA+yB,GAEA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA0C,EAAA5iC,KAAAmN,EAAA+yB,GAEA,QACA,GAAAiC,EAAA,MAAA,IAAA77B,UAAA,qBAAA06B,GACAA,GAAAA,EAAA,IAAA9oB,cACAiqB,GAAA,GAaA,SAAAU,EAAA9hC,EAAApC,EAAA8a,GACA,IAAA3a,EAAAiC,EAAApC,GACAoC,EAAApC,GAAAoC,EAAA0Y,GACA1Y,EAAA0Y,GAAA3a,EAyIA,SAAAgkC,EAAA93B,EAAAwW,EAAA+f,EAAAP,EAAA+B,GAEA,GAAA,IAAA/3B,EAAAvL,OAAA,OAAA,EAmBA,GAhBA,iBAAA8hC,GACAP,EAAAO,EACAA,EAAA,GACAA,EAAA,WACAA,EAAA,WACAA,GAAA,aACAA,GAAA,YAGAO,EADAP,GAAAA,KAGAA,EAAAwB,EAAA,EAAA/3B,EAAAvL,OAAA,GAIA8hC,EAAA,IAAAA,EAAAv2B,EAAAvL,OAAA8hC,GACAA,GAAAv2B,EAAAvL,OAAA,CACA,GAAAsjC,EAAA,OAAA,EACAxB,EAAAv2B,EAAAvL,OAAA,OACA,GAAA8hC,EAAA,EAAA,CACA,IAAAwB,EACA,OAAA,EADAxB,EAAA,EAUA,GALA,iBAAA/f,IACAA,EAAAhY,EAAA6gB,KAAA7I,EAAAwf,IAIAx3B,EAAAm4B,SAAAngB,GAEA,OAAA,IAAAA,EAAA/hB,QACA,EAEAujC,EAAAh4B,EAAAwW,EAAA+f,EAAAP,EAAA+B,GACA,GAAA,iBAAAvhB,EAEA,OADAA,GAAA,IACA,mBAAAjX,WAAApK,UAAAsK,QACAs4B,EACAx4B,WAAApK,UAAAsK,QAAAjL,KAAAwL,EAAAwW,EAAA+f,GAEAh3B,WAAApK,UAAA0R,YAAArS,KAAAwL,EAAAwW,EAAA+f,GAGAyB,EAAAh4B,EAAA,CAAAwW,GAAA+f,EAAAP,EAAA+B,GAGA,MAAA,IAAAz8B,UAAA,wCAGA,SAAA08B,EAAA5D,EAAA5d,EAAA+f,EAAAP,EAAA+B,GACA,IA0BAjkC,EA1BAmkC,EAAA,EACAC,EAAA9D,EAAA3/B,OACA0jC,EAAA3hB,EAAA/hB,OAEA,QAAA+D,IAAAw9B,IAEA,UADAA,EAAAp2B,OAAAo2B,GAAA9oB,gBACA,UAAA8oB,GACA,YAAAA,GAAA,aAAAA,GAAA,CACA,GAAA5B,EAAA3/B,OAAA,GAAA+hB,EAAA/hB,OAAA,EACA,OAAA,EAEAwjC,EAAA,EACAC,GAAA,EACAC,GAAA,EACA5B,GAAA,EAIA,SAAAzb,EAAA8a,EAAA9hC,GACA,OAAA,IAAAmkC,EACArC,EAAA9hC,GAEA8hC,EAAAwC,aAAAtkC,EAAAmkC,GAKA,GAAAF,EAAA,CACA,IAAAM,GAAA,EACA,IAAAvkC,EAAAyiC,EAAAziC,EAAAokC,EAAApkC,IACA,GAAAgnB,EAAAsZ,EAAAtgC,KAAAgnB,EAAAtE,GAAA,IAAA6hB,EAAA,EAAAvkC,EAAAukC,IAEA,IADA,IAAAA,IAAAA,EAAAvkC,GACAA,EAAAukC,EAAA,IAAAF,EAAA,OAAAE,EAAAJ,OAEA,IAAAI,IAAAvkC,GAAAA,EAAAukC,GACAA,GAAA,OAKA,IADA9B,EAAA4B,EAAAD,IAAA3B,EAAA2B,EAAAC,GACArkC,EAAAyiC,EAAAziC,GAAA,EAAAA,IAAA,CAEA,IADA,IAAAwkC,GAAA,EACAC,EAAA,EAAAA,EAAAJ,EAAAI,IACA,GAAAzd,EAAAsZ,EAAAtgC,EAAAykC,KAAAzd,EAAAtE,EAAA+hB,GAAA,CACAD,GAAA,EACA,MAGA,GAAAA,EAAA,OAAAxkC,EAIA,OAAA,EAeA,SAAA0kC,EAAA5C,EAAAG,EAAA7tB,EAAAzT,GACAyT,EAAAob,OAAApb,IAAA,EACA,IAAAuwB,EAAA7C,EAAAnhC,OAAAyT,EACAzT,GAGAA,EAAA6uB,OAAA7uB,IACAgkC,IACAhkC,EAAAgkC,GAJAhkC,EAAAgkC,EAQA,IAAAC,EAAA3C,EAAAthC,OAEAA,EAAAikC,EAAA,IACAjkC,EAAAikC,EAAA,GAEA,IAAA,IAAA5kC,EAAA,EAAAA,EAAAW,IAAAX,EAAA,CACA,IAAA6kC,EAAAC,SAAA7C,EAAA9e,OAAA,EAAAnjB,EAAA,GAAA,IACA,GAAAgjC,EAAA6B,GAAA,OAAA7kC,EACA8hC,EAAA1tB,EAAApU,GAAA6kC,EAEA,OAAA7kC,EAGA,SAAA+kC,EAAAjD,EAAAG,EAAA7tB,EAAAzT,GACA,OAAAqkC,EAAA1B,EAAArB,EAAAH,EAAAnhC,OAAAyT,GAAA0tB,EAAA1tB,EAAAzT,GAGA,SAAAskC,EAAAnD,EAAAG,EAAA7tB,EAAAzT,GACA,OAAAqkC,EA63BA,SAAA/hB,GAEA,IADA,IAAAiiB,EAAA,GACAllC,EAAA,EAAAA,EAAAijB,EAAAtiB,SAAAX,EAEAklC,EAAAx9B,KAAA,IAAAub,EAAAgG,WAAAjpB,IAEA,OAAAklC,EAn4BAC,CAAAlD,GAAAH,EAAA1tB,EAAAzT,GAGA,SAAAykC,EAAAtD,EAAAG,EAAA7tB,EAAAzT,GACA,OAAAskC,EAAAnD,EAAAG,EAAA7tB,EAAAzT,GAGA,SAAA0kC,EAAAvD,EAAAG,EAAA7tB,EAAAzT,GACA,OAAAqkC,EAAAzB,EAAAtB,GAAAH,EAAA1tB,EAAAzT,GAGA,SAAA2kC,EAAAxD,EAAAG,EAAA7tB,EAAAzT,GACA,OAAAqkC,EA03BA,SAAA/hB,EAAAsiB,GAGA,IAFA,IAAArlC,EAAAslC,EAAAC,EACAP,EAAA,GACAllC,EAAA,EAAAA,EAAAijB,EAAAtiB,WACA4kC,GAAA,GAAA,KADAvlC,EAIAwlC,GADAtlC,EAAA+iB,EAAAgG,WAAAjpB,KACA,EACAylC,EAAAvlC,EAAA,IACAglC,EAAAx9B,KAAA+9B,GACAP,EAAAx9B,KAAA89B,GAGA,OAAAN,EAv4BAQ,CAAAzD,EAAAH,EAAAnhC,OAAAyT,GAAA0tB,EAAA1tB,EAAAzT,GAiFA,SAAAkjC,EAAA/B,EAAAzzB,EAAA+yB,GACA,OAAA,IAAA/yB,GAAA+yB,IAAAU,EAAAnhC,OACA2gC,EAAAV,cAAAkB,GAEAR,EAAAV,cAAAkB,EAAA91B,MAAAqC,EAAA+yB,IAIA,SAAAsC,EAAA5B,EAAAzzB,EAAA+yB,GACAA,EAAApQ,KAAA2U,IAAA7D,EAAAnhC,OAAAygC,GAIA,IAHA,IAAAwE,EAAA,GAEA5lC,EAAAqO,EACArO,EAAAohC,GAAA,CACA,IAQAyE,EAAAC,EAAAC,EAAAC,EARAC,EAAAnE,EAAA9hC,GACAkmC,EAAA,KACAC,EAAAF,EAAA,IAAA,EACAA,EAAA,IAAA,EACAA,EAAA,IAAA,EACA,EAEA,GAAAjmC,EAAAmmC,GAAA/E,EAGA,OAAA+E,GACA,KAAA,EACAF,EAAA,MACAC,EAAAD,GAEA,MACA,KAAA,EAEA,MAAA,KADAJ,EAAA/D,EAAA9hC,EAAA,OAEAgmC,GAAA,GAAAC,IAAA,EAAA,GAAAJ,GACA,MACAK,EAAAF,GAGA,MACA,KAAA,EACAH,EAAA/D,EAAA9hC,EAAA,GACA8lC,EAAAhE,EAAA9hC,EAAA,GACA,MAAA,IAAA6lC,IAAA,MAAA,IAAAC,KACAE,GAAA,GAAAC,IAAA,IAAA,GAAAJ,IAAA,EAAA,GAAAC,GACA,OAAAE,EAAA,OAAAA,EAAA,SACAE,EAAAF,GAGA,MACA,KAAA,EACAH,EAAA/D,EAAA9hC,EAAA,GACA8lC,EAAAhE,EAAA9hC,EAAA,GACA+lC,EAAAjE,EAAA9hC,EAAA,GACA,MAAA,IAAA6lC,IAAA,MAAA,IAAAC,IAAA,MAAA,IAAAC,KACAC,GAAA,GAAAC,IAAA,IAAA,GAAAJ,IAAA,IAAA,GAAAC,IAAA,EAAA,GAAAC,GACA,OAAAC,EAAA,UACAE,EAAAF,GAMA,OAAAE,GAGAA,EAAA,MACAC,EAAA,GACAD,EAAA,QAEAA,GAAA,MACAN,EAAAl+B,KAAAw+B,IAAA,GAAA,KAAA,OACAA,EAAA,MAAA,KAAAA,GAGAN,EAAAl+B,KAAAw+B,GACAlmC,GAAAmmC,EAGA,OAQA,SAAAC,GACA,IAAA1F,EAAA0F,EAAAzlC,OACA,GAAA+/B,GAAA2F,EACA,OAAAv6B,OAAAC,aAAAxF,MAAAuF,OAAAs6B,GAIA,IAAAR,EAAA,GACA5lC,EAAA,EACA,KAAAA,EAAA0gC,GACAkF,GAAA95B,OAAAC,aAAAxF,MACAuF,OACAs6B,EAAAp6B,MAAAhM,EAAAA,GAAAqmC,IAGA,OAAAT,EAvBAU,CAAAV,GA59BAnlC,EAAA8lC,WAAA5E,EAgBAj3B,EAAA87B,oBAUA,WAEA,IACA,IAAAlG,EAAA,IAAA70B,WAAA,GAEA,OADA60B,EAAAx+B,UAAA,CAAAA,UAAA2J,WAAApK,UAAAolC,IAAA,WAAA,OAAA,KACA,KAAAnG,EAAAmG,MACA,MAAA7mC,GACA,OAAA,GAjBA8mC,GAEAh8B,EAAA87B,qBAAA,oBAAA9iB,SACA,mBAAAA,QAAApb,OACAob,QAAApb,MACA,iJAgBAxH,OAAAC,eAAA2J,EAAArJ,UAAA,SAAA,CACAG,YAAA,EACAD,IAAA,WACA,GAAAmJ,EAAAm4B,SAAA3hC,MACA,OAAAA,KAAAgL,UAIApL,OAAAC,eAAA2J,EAAArJ,UAAA,SAAA,CACAG,YAAA,EACAD,IAAA,WACA,GAAAmJ,EAAAm4B,SAAA3hC,MACA,OAAAA,KAAAuhC,cAsCA,oBAAAr7B,QAAA,MAAAA,OAAAu/B,SACAj8B,EAAAtD,OAAAu/B,WAAAj8B,GACA5J,OAAAC,eAAA2J,EAAAtD,OAAAu/B,QAAA,CACA3lC,MAAA,KACAS,cAAA,EACAD,YAAA,EACAolC,UAAA,IAIAl8B,EAAAm8B,SAAA,KA0DAn8B,EAAA6gB,KAAA,SAAAvqB,EAAA+gC,EAAAphC,GACA,OAAA4qB,EAAAvqB,EAAA+gC,EAAAphC,IAKA+J,EAAArJ,UAAAS,UAAA2J,WAAApK,UACAqJ,EAAA5I,UAAA2J,WA8BAf,EAAA+2B,MAAA,SAAA9S,EAAAtD,EAAA6W,GACA,OArBA,SAAAvT,EAAAtD,EAAA6W,GAEA,OADAiB,EAAAxU,GACAA,GAAA,EACAiT,EAAAjT,QAEAjqB,IAAA2mB,EAIA,iBAAA6W,EACAN,EAAAjT,GAAAtD,KAAAA,EAAA6W,GACAN,EAAAjT,GAAAtD,KAAAA,GAEAuW,EAAAjT,GAQA8S,CAAA9S,EAAAtD,EAAA6W,IAWAx3B,EAAAs3B,YAAA,SAAArT,GACA,OAAAqT,EAAArT,IAKAjkB,EAAAo8B,gBAAA,SAAAnY,GACA,OAAAqT,EAAArT,IAqGAjkB,EAAAm4B,SAAA,SAAA5gC,GACA,OAAA,MAAAA,IAAA,IAAAA,EAAA8kC,WACA9kC,IAAAyI,EAAArJ,WAGAqJ,EAAAs8B,QAAA,SAAA3mC,EAAA4B,GAGA,GAFAugC,EAAAniC,EAAAoL,cAAApL,EAAAqK,EAAA6gB,KAAAlrB,EAAAA,EAAA+T,OAAA/T,EAAA4L,aACAu2B,EAAAvgC,EAAAwJ,cAAAxJ,EAAAyI,EAAA6gB,KAAAtpB,EAAAA,EAAAmS,OAAAnS,EAAAgK,cACAvB,EAAAm4B,SAAAxiC,KAAAqK,EAAAm4B,SAAA5gC,GACA,MAAA,IAAAuF,UACA,yEAIA,GAAAnH,IAAA4B,EAAA,OAAA,EAKA,IAHA,IAAAslB,EAAAlnB,EAAAM,OACA+F,EAAAzE,EAAAtB,OAEAX,EAAA,EAAA0gC,EAAA1P,KAAA2U,IAAApe,EAAA7gB,GAAA1G,EAAA0gC,IAAA1gC,EACA,GAAAK,EAAAL,KAAAiC,EAAAjC,GAAA,CACAunB,EAAAlnB,EAAAL,GACA0G,EAAAzE,EAAAjC,GACA,MAIA,OAAAunB,EAAA7gB,GAAA,EACAA,EAAA6gB,EAAA,EACA,GAGA7c,EAAAy3B,WAAA,SAAAD,GACA,OAAAp2B,OAAAo2B,GAAA9oB,eACA,IAAA,MACA,IAAA,OACA,IAAA,QACA,IAAA,QACA,IAAA,SACA,IAAA,SACA,IAAA,SACA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA,EACA,QACA,OAAA,IAIA1O,EAAA/F,OAAA,SAAAsiC,EAAAtmC,GACA,IAAAoB,MAAA0c,QAAAwoB,GACA,MAAA,IAAAz/B,UAAA,+CAGA,GAAA,IAAAy/B,EAAAtmC,OACA,OAAA+J,EAAA+2B,MAAA,GAGA,IAAAzhC,EACA,QAAA0E,IAAA/D,EAEA,IADAA,EAAA,EACAX,EAAA,EAAAA,EAAAinC,EAAAtmC,SAAAX,EACAW,GAAAsmC,EAAAjnC,GAAAW,OAIA,IAAAuL,EAAAxB,EAAAs3B,YAAArhC,GACAumC,EAAA,EACA,IAAAlnC,EAAA,EAAAA,EAAAinC,EAAAtmC,SAAAX,EAAA,CACA,IAAA8hC,EAAAmF,EAAAjnC,GAIA,GAHAwiC,EAAAV,EAAAr2B,cACAq2B,EAAAp3B,EAAA6gB,KAAAuW,KAEAp3B,EAAAm4B,SAAAf,GACA,MAAA,IAAAt6B,UAAA,+CAEAs6B,EAAAiB,KAAA72B,EAAAg7B,GACAA,GAAApF,EAAAnhC,OAEA,OAAAuL,GAkDAxB,EAAAuB,WAAAA,EA8EAvB,EAAArJ,UAAA0lC,WAAA,EAQAr8B,EAAArJ,UAAA8lC,OAAA,WACA,IAAAzG,EAAAx/B,KAAAP,OACA,GAAA+/B,EAAA,GAAA,EACA,MAAA,IAAAmB,WAAA,6CAEA,IAAA,IAAA7hC,EAAA,EAAAA,EAAA0gC,EAAA1gC,GAAA,EACA+jC,EAAA7iC,KAAAlB,EAAAA,EAAA,GAEA,OAAAkB,MAGAwJ,EAAArJ,UAAA+lC,OAAA,WACA,IAAA1G,EAAAx/B,KAAAP,OACA,GAAA+/B,EAAA,GAAA,EACA,MAAA,IAAAmB,WAAA,6CAEA,IAAA,IAAA7hC,EAAA,EAAAA,EAAA0gC,EAAA1gC,GAAA,EACA+jC,EAAA7iC,KAAAlB,EAAAA,EAAA,GACA+jC,EAAA7iC,KAAAlB,EAAA,EAAAA,EAAA,GAEA,OAAAkB,MAGAwJ,EAAArJ,UAAAgmC,OAAA,WACA,IAAA3G,EAAAx/B,KAAAP,OACA,GAAA+/B,EAAA,GAAA,EACA,MAAA,IAAAmB,WAAA,6CAEA,IAAA,IAAA7hC,EAAA,EAAAA,EAAA0gC,EAAA1gC,GAAA,EACA+jC,EAAA7iC,KAAAlB,EAAAA,EAAA,GACA+jC,EAAA7iC,KAAAlB,EAAA,EAAAA,EAAA,GACA+jC,EAAA7iC,KAAAlB,EAAA,EAAAA,EAAA,GACA+jC,EAAA7iC,KAAAlB,EAAA,EAAAA,EAAA,GAEA,OAAAkB,MAGAwJ,EAAArJ,UAAAga,SAAA,WACA,IAAA1a,EAAAO,KAAAP,OACA,OAAA,IAAAA,EAAA,GACA,IAAA8E,UAAA9E,OAAA+iC,EAAAxiC,KAAA,EAAAP,GACA6iC,EAAAj9B,MAAArF,KAAAuE,YAGAiF,EAAArJ,UAAAimC,eAAA58B,EAAArJ,UAAAga,SAEA3Q,EAAArJ,UAAAkmC,OAAA,SAAAtlC,GACA,IAAAyI,EAAAm4B,SAAA5gC,GAAA,MAAA,IAAAuF,UAAA,6BACA,OAAAtG,OAAAe,GACA,IAAAyI,EAAAs8B,QAAA9lC,KAAAe,IAGAyI,EAAArJ,UAAAmmC,QAAA,WACA,IAAAvkB,EAAA,GACAwkB,EAAAhnC,EAAAihC,kBAGA,OAFAze,EAAA/hB,KAAAma,SAAA,MAAA,EAAAosB,GAAA5iB,QAAA,UAAA,OAAA6iB,OACAxmC,KAAAP,OAAA8mC,IAAAxkB,GAAA,SACA,WAAAA,EAAA,KAGAvY,EAAArJ,UAAA2lC,QAAA,SAAAvsB,EAAApM,EAAA+yB,EAAAuG,EAAAC,GAIA,GAHApF,EAAA/nB,EAAAhP,cACAgP,EAAA/P,EAAA6gB,KAAA9Q,EAAAA,EAAArG,OAAAqG,EAAAxO,cAEAvB,EAAAm4B,SAAApoB,GACA,MAAA,IAAAjT,UACA,wFACAiT,GAiBA,QAbA/V,IAAA2J,IACAA,EAAA,QAEA3J,IAAA08B,IACAA,EAAA3mB,EAAAA,EAAA9Z,OAAA,QAEA+D,IAAAijC,IACAA,EAAA,QAEAjjC,IAAAkjC,IACAA,EAAA1mC,KAAAP,QAGA0N,EAAA,GAAA+yB,EAAA3mB,EAAA9Z,QAAAgnC,EAAA,GAAAC,EAAA1mC,KAAAP,OACA,MAAA,IAAAkhC,WAAA,sBAGA,GAAA8F,GAAAC,GAAAv5B,GAAA+yB,EACA,OAAA,EAEA,GAAAuG,GAAAC,EACA,OAAA,EAEA,GAAAv5B,GAAA+yB,EACA,OAAA,EAQA,GAAAlgC,OAAAuZ,EAAA,OAAA,EASA,IAPA,IAAA8M,GAJAqgB,KAAA,IADAD,KAAA,GAMAjhC,GAPA06B,KAAA,IADA/yB,KAAA,GASAqyB,EAAA1P,KAAA2U,IAAApe,EAAA7gB,GAEAmhC,EAAA3mC,KAAA8K,MAAA27B,EAAAC,GACAE,EAAArtB,EAAAzO,MAAAqC,EAAA+yB,GAEAphC,EAAA,EAAAA,EAAA0gC,IAAA1gC,EACA,GAAA6nC,EAAA7nC,KAAA8nC,EAAA9nC,GAAA,CACAunB,EAAAsgB,EAAA7nC,GACA0G,EAAAohC,EAAA9nC,GACA,MAIA,OAAAunB,EAAA7gB,GAAA,EACAA,EAAA6gB,EAAA,EACA,GA4HA7c,EAAArJ,UAAA0mC,SAAA,SAAArlB,EAAA+f,EAAAP,GACA,OAAA,IAAAhhC,KAAAyK,QAAA+W,EAAA+f,EAAAP,IAGAx3B,EAAArJ,UAAAsK,QAAA,SAAA+W,EAAA+f,EAAAP,GACA,OAAA8B,EAAA9iC,KAAAwhB,EAAA+f,EAAAP,GAAA,IAGAx3B,EAAArJ,UAAA0R,YAAA,SAAA2P,EAAA+f,EAAAP,GACA,OAAA8B,EAAA9iC,KAAAwhB,EAAA+f,EAAAP,GAAA,IAgDAx3B,EAAArJ,UAAA2J,MAAA,SAAAi3B,EAAA7tB,EAAAzT,EAAAuhC,GAEA,QAAAx9B,IAAA0P,EACA8tB,EAAA,OACAvhC,EAAAO,KAAAP,OACAyT,EAAA,OAEA,QAAA1P,IAAA/D,GAAA,iBAAAyT,EACA8tB,EAAA9tB,EACAzT,EAAAO,KAAAP,OACAyT,EAAA,MAEA,CAAA,IAAA4zB,SAAA5zB,GAUA,MAAA,IAAA9T,MACA,2EAVA8T,KAAA,EACA4zB,SAAArnC,IACAA,KAAA,OACA+D,IAAAw9B,IAAAA,EAAA,UAEAA,EAAAvhC,EACAA,OAAA+D,GAQA,IAAAigC,EAAAzjC,KAAAP,OAAAyT,EAGA,SAFA1P,IAAA/D,GAAAA,EAAAgkC,KAAAhkC,EAAAgkC,GAEA1C,EAAAthC,OAAA,IAAAA,EAAA,GAAAyT,EAAA,IAAAA,EAAAlT,KAAAP,OACA,MAAA,IAAAkhC,WAAA,0CAGAK,IAAAA,EAAA,QAGA,IADA,IAAAmB,GAAA,IAEA,OAAAnB,GACA,IAAA,MACA,OAAAwC,EAAAxjC,KAAA+gC,EAAA7tB,EAAAzT,GAEA,IAAA,OACA,IAAA,QACA,OAAAokC,EAAA7jC,KAAA+gC,EAAA7tB,EAAAzT,GAEA,IAAA,QACA,OAAAskC,EAAA/jC,KAAA+gC,EAAA7tB,EAAAzT,GAEA,IAAA,SACA,IAAA,SACA,OAAAykC,EAAAlkC,KAAA+gC,EAAA7tB,EAAAzT,GAEA,IAAA,SAEA,OAAA0kC,EAAAnkC,KAAA+gC,EAAA7tB,EAAAzT,GAEA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA2kC,EAAApkC,KAAA+gC,EAAA7tB,EAAAzT,GAEA,QACA,GAAA0iC,EAAA,MAAA,IAAA77B,UAAA,qBAAA06B,GACAA,GAAA,GAAAA,GAAA9oB,cACAiqB,GAAA,IAKA34B,EAAArJ,UAAA4mC,OAAA,WACA,MAAA,CACAz7B,KAAA,SACApB,KAAArJ,MAAAV,UAAA2K,MAAAtL,KAAAQ,KAAAgnC,MAAAhnC,KAAA,KAwFA,IAAAmlC,EAAA,KAoBA,SAAA1C,EAAA7B,EAAAzzB,EAAA+yB,GACA,IAAA+G,EAAA,GACA/G,EAAApQ,KAAA2U,IAAA7D,EAAAnhC,OAAAygC,GAEA,IAAA,IAAAphC,EAAAqO,EAAArO,EAAAohC,IAAAphC,EACAmoC,GAAAr8B,OAAAC,aAAA,IAAA+1B,EAAA9hC,IAEA,OAAAmoC,EAGA,SAAAvE,EAAA9B,EAAAzzB,EAAA+yB,GACA,IAAA+G,EAAA,GACA/G,EAAApQ,KAAA2U,IAAA7D,EAAAnhC,OAAAygC,GAEA,IAAA,IAAAphC,EAAAqO,EAAArO,EAAAohC,IAAAphC,EACAmoC,GAAAr8B,OAAAC,aAAA+1B,EAAA9hC,IAEA,OAAAmoC,EAGA,SAAA1E,EAAA3B,EAAAzzB,EAAA+yB,GACA,IAAAV,EAAAoB,EAAAnhC,SAEA0N,GAAAA,EAAA,KAAAA,EAAA,KACA+yB,GAAAA,EAAA,GAAAA,EAAAV,KAAAU,EAAAV,GAGA,IADA,IAAA0H,EAAA,GACApoC,EAAAqO,EAAArO,EAAAohC,IAAAphC,EACAooC,GAAAC,EAAAvG,EAAA9hC,IAEA,OAAAooC,EAGA,SAAAtE,EAAAhC,EAAAzzB,EAAA+yB,GAGA,IAFA,IAAAkH,EAAAxG,EAAA91B,MAAAqC,EAAA+yB,GACAwE,EAAA,GACA5lC,EAAA,EAAAA,EAAAsoC,EAAA3nC,OAAAX,GAAA,EACA4lC,GAAA95B,OAAAC,aAAAu8B,EAAAtoC,GAAA,IAAAsoC,EAAAtoC,EAAA,IAEA,OAAA4lC,EAiCA,SAAA2C,EAAAn0B,EAAAo0B,EAAA7nC,GACA,GAAAyT,EAAA,GAAA,GAAAA,EAAA,EAAA,MAAA,IAAAytB,WAAA,sBACA,GAAAztB,EAAAo0B,EAAA7nC,EAAA,MAAA,IAAAkhC,WAAA,yCA6KA,SAAA4G,EAAA3G,EAAA9gC,EAAAoT,EAAAo0B,EAAAf,EAAA9B,GACA,IAAAj7B,EAAAm4B,SAAAf,GAAA,MAAA,IAAAt6B,UAAA,+CACA,GAAAxG,EAAAymC,GAAAzmC,EAAA2kC,EAAA,MAAA,IAAA9D,WAAA,qCACA,GAAAztB,EAAAo0B,EAAA1G,EAAAnhC,OAAA,MAAA,IAAAkhC,WAAA,sBAyLA,SAAA6G,EAAA5G,EAAA9gC,EAAAoT,EAAAo0B,EAAAf,EAAA9B,GACA,GAAAvxB,EAAAo0B,EAAA1G,EAAAnhC,OAAA,MAAA,IAAAkhC,WAAA,sBACA,GAAAztB,EAAA,EAAA,MAAA,IAAAytB,WAAA,sBAGA,SAAA8G,EAAA7G,EAAA9gC,EAAAoT,EAAAw0B,EAAAC,GAOA,OANA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GACAH,EAAA5G,EAAA9gC,EAAAoT,EAAA,GAEAmtB,EAAAv2B,MAAA82B,EAAA9gC,EAAAoT,EAAAw0B,EAAA,GAAA,GACAx0B,EAAA,EAWA,SAAA00B,EAAAhH,EAAA9gC,EAAAoT,EAAAw0B,EAAAC,GAOA,OANA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GACAH,EAAA5G,EAAA9gC,EAAAoT,EAAA,GAEAmtB,EAAAv2B,MAAA82B,EAAA9gC,EAAAoT,EAAAw0B,EAAA,GAAA,GACAx0B,EAAA,EAvaA1J,EAAArJ,UAAA2K,MAAA,SAAAqC,EAAA+yB,GACA,IAAAV,EAAAx/B,KAAAP,QACA0N,IAAAA,GAGA,GACAA,GAAAqyB,GACA,IAAAryB,EAAA,GACAA,EAAAqyB,IACAryB,EAAAqyB,IANAU,OAAA18B,IAAA08B,EAAAV,IAAAU,GASA,GACAA,GAAAV,GACA,IAAAU,EAAA,GACAA,EAAAV,IACAU,EAAAV,GAGAU,EAAA/yB,IAAA+yB,EAAA/yB,GAEA,IAAA06B,EAAA7nC,KAAA8nC,SAAA36B,EAAA+yB,GAGA,OADA2H,EAAAjnC,UAAA4I,EAAArJ,UACA0nC,GAWAr+B,EAAArJ,UAAA4nC,WAAA,SAAA70B,EAAAnI,EAAA48B,GACAz0B,KAAA,EACAnI,KAAA,EACA48B,GAAAN,EAAAn0B,EAAAnI,EAAA/K,KAAAP,QAKA,IAHA,IAAA+hB,EAAAxhB,KAAAkT,GACA80B,EAAA,EACAlpC,EAAA,IACAA,EAAAiM,IAAAi9B,GAAA,MACAxmB,GAAAxhB,KAAAkT,EAAApU,GAAAkpC,EAGA,OAAAxmB,GAGAhY,EAAArJ,UAAA8nC,WAAA,SAAA/0B,EAAAnI,EAAA48B,GACAz0B,KAAA,EACAnI,KAAA,EACA48B,GACAN,EAAAn0B,EAAAnI,EAAA/K,KAAAP,QAKA,IAFA,IAAA+hB,EAAAxhB,KAAAkT,IAAAnI,GACAi9B,EAAA,EACAj9B,EAAA,IAAAi9B,GAAA,MACAxmB,GAAAxhB,KAAAkT,IAAAnI,GAAAi9B,EAGA,OAAAxmB,GAGAhY,EAAArJ,UAAA+nC,UAAA,SAAAh1B,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACAO,KAAAkT,IAGA1J,EAAArJ,UAAAgoC,aAAA,SAAAj1B,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACAO,KAAAkT,GAAAlT,KAAAkT,EAAA,IAAA,GAGA1J,EAAArJ,UAAAijC,aAAA,SAAAlwB,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACAO,KAAAkT,IAAA,EAAAlT,KAAAkT,EAAA,IAGA1J,EAAArJ,UAAAioC,aAAA,SAAAl1B,EAAAy0B,GAIA,OAHAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,SAEAO,KAAAkT,GACAlT,KAAAkT,EAAA,IAAA,EACAlT,KAAAkT,EAAA,IAAA,IACA,SAAAlT,KAAAkT,EAAA,IAGA1J,EAAArJ,UAAAkoC,aAAA,SAAAn1B,EAAAy0B,GAIA,OAHAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QAEA,SAAAO,KAAAkT,IACAlT,KAAAkT,EAAA,IAAA,GACAlT,KAAAkT,EAAA,IAAA,EACAlT,KAAAkT,EAAA,KAGA1J,EAAArJ,UAAAmoC,UAAA,SAAAp1B,EAAAnI,EAAA48B,GACAz0B,KAAA,EACAnI,KAAA,EACA48B,GAAAN,EAAAn0B,EAAAnI,EAAA/K,KAAAP,QAKA,IAHA,IAAA+hB,EAAAxhB,KAAAkT,GACA80B,EAAA,EACAlpC,EAAA,IACAA,EAAAiM,IAAAi9B,GAAA,MACAxmB,GAAAxhB,KAAAkT,EAAApU,GAAAkpC,EAMA,OAFAxmB,IAFAwmB,GAAA,OAEAxmB,GAAAsO,KAAAyY,IAAA,EAAA,EAAAx9B,IAEAyW,GAGAhY,EAAArJ,UAAAqoC,UAAA,SAAAt1B,EAAAnI,EAAA48B,GACAz0B,KAAA,EACAnI,KAAA,EACA48B,GAAAN,EAAAn0B,EAAAnI,EAAA/K,KAAAP,QAKA,IAHA,IAAAX,EAAAiM,EACAi9B,EAAA,EACAxmB,EAAAxhB,KAAAkT,IAAApU,GACAA,EAAA,IAAAkpC,GAAA,MACAxmB,GAAAxhB,KAAAkT,IAAApU,GAAAkpC,EAMA,OAFAxmB,IAFAwmB,GAAA,OAEAxmB,GAAAsO,KAAAyY,IAAA,EAAA,EAAAx9B,IAEAyW,GAGAhY,EAAArJ,UAAAsoC,SAAA,SAAAv1B,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACA,IAAAO,KAAAkT,IACA,GAAA,IAAAlT,KAAAkT,GAAA,GADAlT,KAAAkT,IAIA1J,EAAArJ,UAAAuoC,YAAA,SAAAx1B,EAAAy0B,GACAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACA,IAAA+hB,EAAAxhB,KAAAkT,GAAAlT,KAAAkT,EAAA,IAAA,EACA,OAAA,MAAAsO,EAAA,WAAAA,EAAAA,GAGAhY,EAAArJ,UAAAwoC,YAAA,SAAAz1B,EAAAy0B,GACAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACA,IAAA+hB,EAAAxhB,KAAAkT,EAAA,GAAAlT,KAAAkT,IAAA,EACA,OAAA,MAAAsO,EAAA,WAAAA,EAAAA,GAGAhY,EAAArJ,UAAAyoC,YAAA,SAAA11B,EAAAy0B,GAIA,OAHAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QAEAO,KAAAkT,GACAlT,KAAAkT,EAAA,IAAA,EACAlT,KAAAkT,EAAA,IAAA,GACAlT,KAAAkT,EAAA,IAAA,IAGA1J,EAAArJ,UAAA0oC,YAAA,SAAA31B,EAAAy0B,GAIA,OAHAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QAEAO,KAAAkT,IAAA,GACAlT,KAAAkT,EAAA,IAAA,GACAlT,KAAAkT,EAAA,IAAA,EACAlT,KAAAkT,EAAA,IAGA1J,EAAArJ,UAAA2oC,YAAA,SAAA51B,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACA4gC,EAAAva,KAAA9lB,KAAAkT,GAAA,EAAA,GAAA,IAGA1J,EAAArJ,UAAA4oC,YAAA,SAAA71B,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACA4gC,EAAAva,KAAA9lB,KAAAkT,GAAA,EAAA,GAAA,IAGA1J,EAAArJ,UAAA6oC,aAAA,SAAA91B,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACA4gC,EAAAva,KAAA9lB,KAAAkT,GAAA,EAAA,GAAA,IAGA1J,EAAArJ,UAAA8oC,aAAA,SAAA/1B,EAAAy0B,GAGA,OAFAz0B,KAAA,EACAy0B,GAAAN,EAAAn0B,EAAA,EAAAlT,KAAAP,QACA4gC,EAAAva,KAAA9lB,KAAAkT,GAAA,EAAA,GAAA,IASA1J,EAAArJ,UAAA+oC,YAAA,SAAAppC,EAAAoT,EAAAnI,EAAA48B,IACA7nC,GAAAA,EACAoT,KAAA,EACAnI,KAAA,EACA48B,IAEAJ,EAAAvnC,KAAAF,EAAAoT,EAAAnI,EADA+kB,KAAAyY,IAAA,EAAA,EAAAx9B,GAAA,EACA,GAGA,IAAAi9B,EAAA,EACAlpC,EAAA,EAEA,IADAkB,KAAAkT,GAAA,IAAApT,IACAhB,EAAAiM,IAAAi9B,GAAA,MACAhoC,KAAAkT,EAAApU,GAAAgB,EAAAkoC,EAAA,IAGA,OAAA90B,EAAAnI,GAGAvB,EAAArJ,UAAAgpC,YAAA,SAAArpC,EAAAoT,EAAAnI,EAAA48B,IACA7nC,GAAAA,EACAoT,KAAA,EACAnI,KAAA,EACA48B,IAEAJ,EAAAvnC,KAAAF,EAAAoT,EAAAnI,EADA+kB,KAAAyY,IAAA,EAAA,EAAAx9B,GAAA,EACA,GAGA,IAAAjM,EAAAiM,EAAA,EACAi9B,EAAA,EAEA,IADAhoC,KAAAkT,EAAApU,GAAA,IAAAgB,IACAhB,GAAA,IAAAkpC,GAAA,MACAhoC,KAAAkT,EAAApU,GAAAgB,EAAAkoC,EAAA,IAGA,OAAA90B,EAAAnI,GAGAvB,EAAArJ,UAAAipC,WAAA,SAAAtpC,EAAAoT,EAAAy0B,GAKA,OAJA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,IAAA,GACAlT,KAAAkT,GAAA,IAAApT,EACAoT,EAAA,GAGA1J,EAAArJ,UAAAkpC,cAAA,SAAAvpC,EAAAoT,EAAAy0B,GAMA,OALA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,MAAA,GACAlT,KAAAkT,GAAA,IAAApT,EACAE,KAAAkT,EAAA,GAAApT,IAAA,EACAoT,EAAA,GAGA1J,EAAArJ,UAAAmpC,cAAA,SAAAxpC,EAAAoT,EAAAy0B,GAMA,OALA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,MAAA,GACAlT,KAAAkT,GAAApT,IAAA,EACAE,KAAAkT,EAAA,GAAA,IAAApT,EACAoT,EAAA,GAGA1J,EAAArJ,UAAAopC,cAAA,SAAAzpC,EAAAoT,EAAAy0B,GAQA,OAPA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,WAAA,GACAlT,KAAAkT,EAAA,GAAApT,IAAA,GACAE,KAAAkT,EAAA,GAAApT,IAAA,GACAE,KAAAkT,EAAA,GAAApT,IAAA,EACAE,KAAAkT,GAAA,IAAApT,EACAoT,EAAA,GAGA1J,EAAArJ,UAAAqpC,cAAA,SAAA1pC,EAAAoT,EAAAy0B,GAQA,OAPA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,WAAA,GACAlT,KAAAkT,GAAApT,IAAA,GACAE,KAAAkT,EAAA,GAAApT,IAAA,GACAE,KAAAkT,EAAA,GAAApT,IAAA,EACAE,KAAAkT,EAAA,GAAA,IAAApT,EACAoT,EAAA,GAGA1J,EAAArJ,UAAAspC,WAAA,SAAA3pC,EAAAoT,EAAAnI,EAAA48B,GAGA,GAFA7nC,GAAAA,EACAoT,KAAA,GACAy0B,EAAA,CACA,IAAA+B,EAAA5Z,KAAAyY,IAAA,EAAA,EAAAx9B,EAAA,GAEAw8B,EAAAvnC,KAAAF,EAAAoT,EAAAnI,EAAA2+B,EAAA,GAAAA,GAGA,IAAA5qC,EAAA,EACAkpC,EAAA,EACA2B,EAAA,EAEA,IADA3pC,KAAAkT,GAAA,IAAApT,IACAhB,EAAAiM,IAAAi9B,GAAA,MACAloC,EAAA,GAAA,IAAA6pC,GAAA,IAAA3pC,KAAAkT,EAAApU,EAAA,KACA6qC,EAAA,GAEA3pC,KAAAkT,EAAApU,IAAAgB,EAAAkoC,GAAA,GAAA2B,EAAA,IAGA,OAAAz2B,EAAAnI,GAGAvB,EAAArJ,UAAAypC,WAAA,SAAA9pC,EAAAoT,EAAAnI,EAAA48B,GAGA,GAFA7nC,GAAAA,EACAoT,KAAA,GACAy0B,EAAA,CACA,IAAA+B,EAAA5Z,KAAAyY,IAAA,EAAA,EAAAx9B,EAAA,GAEAw8B,EAAAvnC,KAAAF,EAAAoT,EAAAnI,EAAA2+B,EAAA,GAAAA,GAGA,IAAA5qC,EAAAiM,EAAA,EACAi9B,EAAA,EACA2B,EAAA,EAEA,IADA3pC,KAAAkT,EAAApU,GAAA,IAAAgB,IACAhB,GAAA,IAAAkpC,GAAA,MACAloC,EAAA,GAAA,IAAA6pC,GAAA,IAAA3pC,KAAAkT,EAAApU,EAAA,KACA6qC,EAAA,GAEA3pC,KAAAkT,EAAApU,IAAAgB,EAAAkoC,GAAA,GAAA2B,EAAA,IAGA,OAAAz2B,EAAAnI,GAGAvB,EAAArJ,UAAA0pC,UAAA,SAAA/pC,EAAAoT,EAAAy0B,GAMA,OALA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,KAAA,KACApT,EAAA,IAAAA,EAAA,IAAAA,EAAA,GACAE,KAAAkT,GAAA,IAAApT,EACAoT,EAAA,GAGA1J,EAAArJ,UAAA2pC,aAAA,SAAAhqC,EAAAoT,EAAAy0B,GAMA,OALA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,OAAA,OACAlT,KAAAkT,GAAA,IAAApT,EACAE,KAAAkT,EAAA,GAAApT,IAAA,EACAoT,EAAA,GAGA1J,EAAArJ,UAAA4pC,aAAA,SAAAjqC,EAAAoT,EAAAy0B,GAMA,OALA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,OAAA,OACAlT,KAAAkT,GAAApT,IAAA,EACAE,KAAAkT,EAAA,GAAA,IAAApT,EACAoT,EAAA,GAGA1J,EAAArJ,UAAA6pC,aAAA,SAAAlqC,EAAAoT,EAAAy0B,GAQA,OAPA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,YAAA,YACAlT,KAAAkT,GAAA,IAAApT,EACAE,KAAAkT,EAAA,GAAApT,IAAA,EACAE,KAAAkT,EAAA,GAAApT,IAAA,GACAE,KAAAkT,EAAA,GAAApT,IAAA,GACAoT,EAAA,GAGA1J,EAAArJ,UAAA8pC,aAAA,SAAAnqC,EAAAoT,EAAAy0B,GASA,OARA7nC,GAAAA,EACAoT,KAAA,EACAy0B,GAAAJ,EAAAvnC,KAAAF,EAAAoT,EAAA,EAAA,YAAA,YACApT,EAAA,IAAAA,EAAA,WAAAA,EAAA,GACAE,KAAAkT,GAAApT,IAAA,GACAE,KAAAkT,EAAA,GAAApT,IAAA,GACAE,KAAAkT,EAAA,GAAApT,IAAA,EACAE,KAAAkT,EAAA,GAAA,IAAApT,EACAoT,EAAA,GAkBA1J,EAAArJ,UAAA+pC,aAAA,SAAApqC,EAAAoT,EAAAy0B,GACA,OAAAF,EAAAznC,KAAAF,EAAAoT,GAAA,EAAAy0B,IAGAn+B,EAAArJ,UAAAgqC,aAAA,SAAArqC,EAAAoT,EAAAy0B,GACA,OAAAF,EAAAznC,KAAAF,EAAAoT,GAAA,EAAAy0B,IAaAn+B,EAAArJ,UAAAiqC,cAAA,SAAAtqC,EAAAoT,EAAAy0B,GACA,OAAAC,EAAA5nC,KAAAF,EAAAoT,GAAA,EAAAy0B,IAGAn+B,EAAArJ,UAAAkqC,cAAA,SAAAvqC,EAAAoT,EAAAy0B,GACA,OAAAC,EAAA5nC,KAAAF,EAAAoT,GAAA,EAAAy0B,IAIAn+B,EAAArJ,UAAA0hC,KAAA,SAAAtoB,EAAA+wB,EAAAn9B,EAAA+yB,GACA,IAAA12B,EAAAm4B,SAAApoB,GAAA,MAAA,IAAAjT,UAAA,+BAQA,GAPA6G,IAAAA,EAAA,GACA+yB,GAAA,IAAAA,IAAAA,EAAAlgC,KAAAP,QACA6qC,GAAA/wB,EAAA9Z,SAAA6qC,EAAA/wB,EAAA9Z,QACA6qC,IAAAA,EAAA,GACApK,EAAA,GAAAA,EAAA/yB,IAAA+yB,EAAA/yB,GAGA+yB,IAAA/yB,EAAA,OAAA,EACA,GAAA,IAAAoM,EAAA9Z,QAAA,IAAAO,KAAAP,OAAA,OAAA,EAGA,GAAA6qC,EAAA,EACA,MAAA,IAAA3J,WAAA,6BAEA,GAAAxzB,EAAA,GAAAA,GAAAnN,KAAAP,OAAA,MAAA,IAAAkhC,WAAA,sBACA,GAAAT,EAAA,EAAA,MAAA,IAAAS,WAAA,2BAGAT,EAAAlgC,KAAAP,SAAAygC,EAAAlgC,KAAAP,QACA8Z,EAAA9Z,OAAA6qC,EAAApK,EAAA/yB,IACA+yB,EAAA3mB,EAAA9Z,OAAA6qC,EAAAn9B,GAGA,IAAAqyB,EAAAU,EAAA/yB,EAEA,GAAAnN,OAAAuZ,GAAA,mBAAAhP,WAAApK,UAAAoqC,WAEAvqC,KAAAuqC,WAAAD,EAAAn9B,EAAA+yB,QACA,GAAAlgC,OAAAuZ,GAAApM,EAAAm9B,GAAAA,EAAApK,EAEA,IAAA,IAAAphC,EAAA0gC,EAAA,EAAA1gC,GAAA,IAAAA,EACAya,EAAAza,EAAAwrC,GAAAtqC,KAAAlB,EAAAqO,QAGA5C,WAAApK,UAAAkT,IAAA7T,KACA+Z,EACAvZ,KAAA8nC,SAAA36B,EAAA+yB,GACAoK,GAIA,OAAA9K,GAOAh2B,EAAArJ,UAAAgqB,KAAA,SAAA3I,EAAArU,EAAA+yB,EAAAc,GAEA,GAAA,iBAAAxf,EAAA,CASA,GARA,iBAAArU,GACA6zB,EAAA7zB,EACAA,EAAA,EACA+yB,EAAAlgC,KAAAP,QACA,iBAAAygC,IACAc,EAAAd,EACAA,EAAAlgC,KAAAP,aAEA+D,IAAAw9B,GAAA,iBAAAA,EACA,MAAA,IAAA16B,UAAA,6BAEA,GAAA,iBAAA06B,IAAAx3B,EAAAy3B,WAAAD,GACA,MAAA,IAAA16B,UAAA,qBAAA06B,GAEA,GAAA,IAAAxf,EAAA/hB,OAAA,CACA,IAAAJ,EAAAmiB,EAAAuG,WAAA,IACA,SAAAiZ,GAAA3hC,EAAA,KACA,WAAA2hC,KAEAxf,EAAAniB,QAGA,iBAAAmiB,IACAA,GAAA,KAIA,GAAArU,EAAA,GAAAnN,KAAAP,OAAA0N,GAAAnN,KAAAP,OAAAygC,EACA,MAAA,IAAAS,WAAA,sBAGA,GAAAT,GAAA/yB,EACA,OAAAnN,KAQA,IAAAlB,EACA,GANAqO,KAAA,EACA+yB,OAAA18B,IAAA08B,EAAAlgC,KAAAP,OAAAygC,IAAA,EAEA1e,IAAAA,EAAA,GAGA,iBAAAA,EACA,IAAA1iB,EAAAqO,EAAArO,EAAAohC,IAAAphC,EACAkB,KAAAlB,GAAA0iB,MAEA,CACA,IAAA4lB,EAAA59B,EAAAm4B,SAAAngB,GACAA,EACAhY,EAAA6gB,KAAA7I,EAAAwf,GACAxB,EAAA4H,EAAA3nC,OACA,GAAA,IAAA+/B,EACA,MAAA,IAAAl5B,UAAA,cAAAkb,EACA,qCAEA,IAAA1iB,EAAA,EAAAA,EAAAohC,EAAA/yB,IAAArO,EACAkB,KAAAlB,EAAAqO,GAAAi6B,EAAAtoC,EAAA0gC,GAIA,OAAAx/B,MAMA,IAAAwqC,EAAA,oBAgBA,SAAArD,EAAAxoC,GACA,OAAAA,EAAA,GAAA,IAAAA,EAAAwb,SAAA,IACAxb,EAAAwb,SAAA,IAGA,SAAAioB,EAAArB,EAAAsD,GAEA,IAAAW,EADAX,EAAAA,GAAAoG,EAAAA,EAMA,IAJA,IAAAhrC,EAAAshC,EAAAthC,OACAirC,EAAA,KACAtD,EAAA,GAEAtoC,EAAA,EAAAA,EAAAW,IAAAX,EAAA,CAIA,IAHAkmC,EAAAjE,EAAAhZ,WAAAjpB,IAGA,OAAAkmC,EAAA,MAAA,CAEA,IAAA0F,EAAA,CAEA,GAAA1F,EAAA,MAAA,EAEAX,GAAA,IAAA,GAAA+C,EAAA5gC,KAAA,IAAA,IAAA,KACA,SACA,GAAA1H,EAAA,IAAAW,EAAA,EAEA4kC,GAAA,IAAA,GAAA+C,EAAA5gC,KAAA,IAAA,IAAA,KACA,SAIAkkC,EAAA1F,EAEA,SAIA,GAAAA,EAAA,MAAA,EACAX,GAAA,IAAA,GAAA+C,EAAA5gC,KAAA,IAAA,IAAA,KACAkkC,EAAA1F,EACA,SAIAA,EAAA,OAAA0F,EAAA,OAAA,GAAA1F,EAAA,YACA0F,IAEArG,GAAA,IAAA,GAAA+C,EAAA5gC,KAAA,IAAA,IAAA,KAMA,GAHAkkC,EAAA,KAGA1F,EAAA,IAAA,CACA,IAAAX,GAAA,GAAA,EAAA,MACA+C,EAAA5gC,KAAAw+B,QACA,GAAAA,EAAA,KAAA,CACA,IAAAX,GAAA,GAAA,EAAA,MACA+C,EAAA5gC,KACAw+B,GAAA,EAAA,IACA,GAAAA,EAAA,UAEA,GAAAA,EAAA,MAAA,CACA,IAAAX,GAAA,GAAA,EAAA,MACA+C,EAAA5gC,KACAw+B,GAAA,GAAA,IACAA,GAAA,EAAA,GAAA,IACA,GAAAA,EAAA,SAEA,CAAA,KAAAA,EAAA,SASA,MAAA,IAAA5lC,MAAA,sBARA,IAAAilC,GAAA,GAAA,EAAA,MACA+C,EAAA5gC,KACAw+B,GAAA,GAAA,IACAA,GAAA,GAAA,GAAA,IACAA,GAAA,EAAA,GAAA,IACA,GAAAA,EAAA,MAOA,OAAAoC,EA4BA,SAAA/E,EAAAtgB,GACA,OAAAqe,EAAAlB,YA7HA,SAAAnd,GAMA,IAFAA,GAFAA,EAAAA,EAAAX,MAAA,KAAA,IAEAolB,OAAA7iB,QAAA6mB,EAAA,KAEA/qC,OAAA,EAAA,MAAA,GAEA,KAAAsiB,EAAAtiB,OAAA,GAAA,GACAsiB,GAAA,IAEA,OAAAA,EAkHA4oB,CAAA5oB,IAGA,SAAA+hB,EAAA8G,EAAAC,EAAA33B,EAAAzT,GACA,IAAA,IAAAX,EAAA,EAAAA,EAAAW,KACAX,EAAAoU,GAAA23B,EAAAprC,QAAAX,GAAA8rC,EAAAnrC,UADAX,EAEA+rC,EAAA/rC,EAAAoU,GAAA03B,EAAA9rC,GAEA,OAAAA,EAMA,SAAAwiC,EAAAI,EAAAp2B,GACA,OAAAo2B,aAAAp2B,GACA,MAAAo2B,GAAA,MAAAA,EAAAxgC,aAAA,MAAAwgC,EAAAxgC,YAAAuO,MACAiyB,EAAAxgC,YAAAuO,OAAAnE,EAAAmE,KAEA,SAAAqyB,EAAAJ,GAEA,OAAAA,GAAAA,KlCkgMGliC,KAAKQ,QAAQR,KAAKQ,KAAKf,EAAQ,UAAUuK,SAE1C,CAACshC,YAAY,GAAG9/B,OAAS,GAAGq1B,QAAU,KAAK0K,GAAG,CAAC,SAAS9rC,EAAQU,EAAOJ;;AmClvPzEA,EAAAumB,KAAA,SAAA9a,EAAAkI,EAAA83B,EAAAC,EAAAC,GACA,IAAAxsC,EAAA+a,EACA0xB,EAAA,EAAAD,EAAAD,EAAA,EACAG,GAAA,GAAAD,GAAA,EACAE,EAAAD,GAAA,EACAE,GAAA,EACAxsC,EAAAksC,EAAAE,EAAA,EAAA,EACApqC,EAAAkqC,GAAA,EAAA,EACA1mC,EAAA0G,EAAAkI,EAAApU,GAOA,IALAA,GAAAgC,EAEApC,EAAA4F,GAAA,IAAAgnC,GAAA,EACAhnC,KAAAgnC,EACAA,GAAAH,EACAG,EAAA,EAAA5sC,EAAA,IAAAA,EAAAsM,EAAAkI,EAAApU,GAAAA,GAAAgC,EAAAwqC,GAAA,GAKA,IAHA7xB,EAAA/a,GAAA,IAAA4sC,GAAA,EACA5sC,KAAA4sC,EACAA,GAAAL,EACAK,EAAA,EAAA7xB,EAAA,IAAAA,EAAAzO,EAAAkI,EAAApU,GAAAA,GAAAgC,EAAAwqC,GAAA,GAEA,GAAA,IAAA5sC,EACAA,EAAA,EAAA2sC,MACA,CAAA,GAAA3sC,IAAA0sC,EACA,OAAA3xB,EAAA8xB,IAAAd,EAAAA,GAAAnmC,GAAA,EAAA,GAEAmV,GAAAqW,KAAAyY,IAAA,EAAA0C,GACAvsC,GAAA2sC,EAEA,OAAA/mC,GAAA,EAAA,GAAAmV,EAAAqW,KAAAyY,IAAA,EAAA7pC,EAAAusC,IAGA1rC,EAAAuK,MAAA,SAAAkB,EAAAlL,EAAAoT,EAAA83B,EAAAC,EAAAC,GACA,IAAAxsC,EAAA+a,EAAAza,EACAmsC,EAAA,EAAAD,EAAAD,EAAA,EACAG,GAAA,GAAAD,GAAA,EACAE,EAAAD,GAAA,EACAI,EAAA,KAAAP,EAAAnb,KAAAyY,IAAA,GAAA,IAAAzY,KAAAyY,IAAA,GAAA,IAAA,EACAzpC,EAAAksC,EAAA,EAAAE,EAAA,EACApqC,EAAAkqC,EAAA,GAAA,EACA1mC,EAAAxE,EAAA,GAAA,IAAAA,GAAA,EAAAA,EAAA,EAAA,EAAA,EAmCA,IAjCAA,EAAAgwB,KAAA2b,IAAA3rC,GAEA4rC,MAAA5rC,IAAAA,IAAA2qC,EAAAA,GACAhxB,EAAAiyB,MAAA5rC,GAAA,EAAA,EACApB,EAAA0sC,IAEA1sC,EAAAoxB,KAAAC,MAAAD,KAAAjoB,IAAA/H,GAAAgwB,KAAA6b,KACA7rC,GAAAd,EAAA8wB,KAAAyY,IAAA,GAAA7pC,IAAA,IACAA,IACAM,GAAA,IAGAc,GADApB,EAAA2sC,GAAA,EACAG,EAAAxsC,EAEAwsC,EAAA1b,KAAAyY,IAAA,EAAA,EAAA8C,IAEArsC,GAAA,IACAN,IACAM,GAAA,GAGAN,EAAA2sC,GAAAD,GACA3xB,EAAA,EACA/a,EAAA0sC,GACA1sC,EAAA2sC,GAAA,GACA5xB,GAAA3Z,EAAAd,EAAA,GAAA8wB,KAAAyY,IAAA,EAAA0C,GACAvsC,GAAA2sC,IAEA5xB,EAAA3Z,EAAAgwB,KAAAyY,IAAA,EAAA8C,EAAA,GAAAvb,KAAAyY,IAAA,EAAA0C,GACAvsC,EAAA,IAIAusC,GAAA,EAAAjgC,EAAAkI,EAAApU,GAAA,IAAA2a,EAAA3a,GAAAgC,EAAA2Y,GAAA,IAAAwxB,GAAA,GAIA,IAFAvsC,EAAAA,GAAAusC,EAAAxxB,EACA0xB,GAAAF,EACAE,EAAA,EAAAngC,EAAAkI,EAAApU,GAAA,IAAAJ,EAAAI,GAAAgC,EAAApC,GAAA,IAAAysC,GAAA,GAEAngC,EAAAkI,EAAApU,EAAAgC,IAAA,IAAAwD,InCuvPE,IAAIsnC,GAAG,CAAC,SAAS3sC,EAAQU,EAAOJ,GoCz0PlC,IAOAssC,EACAC,EARAxqB,EAAA3hB,EAAAJ,QAAA,GAUA,SAAAwsC,IACA,MAAA,IAAA3sC,MAAA,mCAEA,SAAA4sC,IACA,MAAA,IAAA5sC,MAAA,qCAsBA,SAAA6sC,EAAAC,GACA,GAAAL,IAAAjkC,WAEA,OAAAA,WAAAskC,EAAA,GAGA,IAAAL,IAAAE,IAAAF,IAAAjkC,WAEA,OADAikC,EAAAjkC,WACAA,WAAAskC,EAAA,GAEA,IAEA,OAAAL,EAAAK,EAAA,GACA,MAAAxtC,GACA,IAEA,OAAAmtC,EAAArsC,KAAA,KAAA0sC,EAAA,GACA,MAAAxtC,GAEA,OAAAmtC,EAAArsC,KAAAQ,KAAAksC,EAAA,MAvCA,WACA,IAEAL,EADA,mBAAAjkC,WACAA,WAEAmkC,EAEA,MAAArtC,GACAmtC,EAAAE,EAEA,IAEAD,EADA,mBAAApjC,aACAA,aAEAsjC,EAEA,MAAAttC,GACAotC,EAAAE,GAjBA,GAwEA,IAEAG,EAFAC,EAAA,GACAC,GAAA,EAEAC,GAAA,EAEA,SAAAC,IACAF,GAAAF,IAGAE,GAAA,EACAF,EAAA1sC,OACA2sC,EAAAD,EAAA1oC,OAAA2oC,GAEAE,GAAA,EAEAF,EAAA3sC,QACA+sC,KAIA,SAAAA,IACA,IAAAH,EAAA,CAGA,IAAA1kC,EAAAskC,EAAAM,GACAF,GAAA,EAGA,IADA,IAAA7M,EAAA4M,EAAA3sC,OACA+/B,GAAA,CAGA,IAFA2M,EAAAC,EACAA,EAAA,KACAE,EAAA9M,GACA2M,GACAA,EAAAG,GAAAG,MAGAH,GAAA,EACA9M,EAAA4M,EAAA3sC,OAEA0sC,EAAA,KACAE,GAAA,EAnEA,SAAAK,GACA,GAAAZ,IAAApjC,aAEA,OAAAA,aAAAgkC,GAGA,IAAAZ,IAAAE,IAAAF,IAAApjC,aAEA,OADAojC,EAAApjC,aACAA,aAAAgkC,GAEA,IAEAZ,EAAAY,GACA,MAAAhuC,GACA,IAEA,OAAAotC,EAAAtsC,KAAA,KAAAktC,GACA,MAAAhuC,GAGA,OAAAotC,EAAAtsC,KAAAQ,KAAA0sC,KAgDAC,CAAAhlC,IAiBA,SAAAilC,EAAAV,EAAApb,GACA9wB,KAAAksC,IAAAA,EACAlsC,KAAA8wB,MAAAA,EAYA,SAAA+b,KA5BAvrB,EAAAwrB,SAAA,SAAAZ,GACA,IAAAt1B,EAAA,IAAA/V,MAAA0D,UAAA9E,OAAA,GACA,GAAA8E,UAAA9E,OAAA,EACA,IAAA,IAAAX,EAAA,EAAAA,EAAAyF,UAAA9E,OAAAX,IACA8X,EAAA9X,EAAA,GAAAyF,UAAAzF,GAGAstC,EAAA5lC,KAAA,IAAAomC,EAAAV,EAAAt1B,IACA,IAAAw1B,EAAA3sC,QAAA4sC,GACAJ,EAAAO,IASAI,EAAAzsC,UAAAssC,IAAA,WACAzsC,KAAAksC,IAAA7mC,MAAA,KAAArF,KAAA8wB,QAEAxP,EAAAyrB,MAAA,UACAzrB,EAAA0rB,SAAA,EACA1rB,EAAA2rB,IAAA,GACA3rB,EAAA4rB,KAAA,GACA5rB,EAAArL,QAAA,GACAqL,EAAA+B,SAAA,GAIA/B,EAAAtJ,GAAA60B,EACAvrB,EAAA6rB,YAAAN,EACAvrB,EAAA8rB,KAAAP,EACAvrB,EAAAnJ,IAAA00B,EACAvrB,EAAA+rB,eAAAR,EACAvrB,EAAAgsB,mBAAAT,EACAvrB,EAAAisB,KAAAV,EACAvrB,EAAAksB,gBAAAX,EACAvrB,EAAAmsB,oBAAAZ,EAEAvrB,EAAAosB,UAAA,SAAAj+B,GAAA,MAAA,IAEA6R,EAAAqsB,QAAA,SAAAl+B,GACA,MAAA,IAAArQ,MAAA,qCAGAkiB,EAAAssB,IAAA,WAAA,MAAA,KACAtsB,EAAAusB,MAAA,SAAA9K,GACA,MAAA,IAAA3jC,MAAA,mCAEAkiB,EAAAwsB,MAAA,WAAA,OAAA,IpC60PE,KAAK,GAAG,CAAC","file":"main.bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\r\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\r\n// it's a very new API right now.\r\n// Not exported from index.\r\n/** @private */\r\nvar AbortController = /** @class */ (function () {\r\n    function AbortController() {\r\n        this.isAborted = false;\r\n        this.onabort = null;\r\n    }\r\n    AbortController.prototype.abort = function () {\r\n        if (!this.isAborted) {\r\n            this.isAborted = true;\r\n            if (this.onabort) {\r\n                this.onabort();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(AbortController.prototype, \"signal\", {\r\n        get: function () {\r\n            return this;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbortController.prototype, \"aborted\", {\r\n        get: function () {\r\n            return this.isAborted;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return AbortController;\r\n}());\r\nexports.AbortController = AbortController;\r\n//# sourceMappingURL=AbortController.js.map",null,"\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Errors_1 = require(\"./Errors\");\r\nvar FetchHttpClient_1 = require(\"./FetchHttpClient\");\r\nvar HttpClient_1 = require(\"./HttpClient\");\r\nvar Utils_1 = require(\"./Utils\");\r\nvar XhrHttpClient_1 = require(\"./XhrHttpClient\");\r\n/** Default implementation of {@link @microsoft/signalr.HttpClient}. */\r\nvar DefaultHttpClient = /** @class */ (function (_super) {\r\n    __extends(DefaultHttpClient, _super);\r\n    /** Creates a new instance of the {@link @microsoft/signalr.DefaultHttpClient}, using the provided {@link @microsoft/signalr.ILogger} to log messages. */\r\n    function DefaultHttpClient(logger) {\r\n        var _this = _super.call(this) || this;\r\n        if (typeof fetch !== \"undefined\" || Utils_1.Platform.isNode) {\r\n            _this.httpClient = new FetchHttpClient_1.FetchHttpClient(logger);\r\n        }\r\n        else if (typeof XMLHttpRequest !== \"undefined\") {\r\n            _this.httpClient = new XhrHttpClient_1.XhrHttpClient(logger);\r\n        }\r\n        else {\r\n            throw new Error(\"No usable HttpClient found.\");\r\n        }\r\n        return _this;\r\n    }\r\n    /** @inheritDoc */\r\n    DefaultHttpClient.prototype.send = function (request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new Errors_1.AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return this.httpClient.send(request);\r\n    };\r\n    DefaultHttpClient.prototype.getCookieString = function (url) {\r\n        return this.httpClient.getCookieString(url);\r\n    };\r\n    return DefaultHttpClient;\r\n}(HttpClient_1.HttpClient));\r\nexports.DefaultHttpClient = DefaultHttpClient;\r\n//# sourceMappingURL=DefaultHttpClient.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// 0, 2, 10, 30 second delays before reconnect attempts.\r\nvar DEFAULT_RETRY_DELAYS_IN_MILLISECONDS = [0, 2000, 10000, 30000, null];\r\n/** @private */\r\nvar DefaultReconnectPolicy = /** @class */ (function () {\r\n    function DefaultReconnectPolicy(retryDelays) {\r\n        this.retryDelays = retryDelays !== undefined ? retryDelays.concat([null]) : DEFAULT_RETRY_DELAYS_IN_MILLISECONDS;\r\n    }\r\n    DefaultReconnectPolicy.prototype.nextRetryDelayInMilliseconds = function (retryContext) {\r\n        return this.retryDelays[retryContext.previousRetryCount];\r\n    };\r\n    return DefaultReconnectPolicy;\r\n}());\r\nexports.DefaultReconnectPolicy = DefaultReconnectPolicy;\r\n//# sourceMappingURL=DefaultReconnectPolicy.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** Error thrown when an HTTP request fails. */\r\nvar HttpError = /** @class */ (function (_super) {\r\n    __extends(HttpError, _super);\r\n    /** Constructs a new instance of {@link @microsoft/signalr.HttpError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     * @param {number} statusCode The HTTP status code represented by this error.\r\n     */\r\n    function HttpError(errorMessage, statusCode) {\r\n        var _newTarget = this.constructor;\r\n        var _this = this;\r\n        var trueProto = _newTarget.prototype;\r\n        _this = _super.call(this, errorMessage) || this;\r\n        _this.statusCode = statusCode;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        _this.__proto__ = trueProto;\r\n        return _this;\r\n    }\r\n    return HttpError;\r\n}(Error));\r\nexports.HttpError = HttpError;\r\n/** Error thrown when a timeout elapses. */\r\nvar TimeoutError = /** @class */ (function (_super) {\r\n    __extends(TimeoutError, _super);\r\n    /** Constructs a new instance of {@link @microsoft/signalr.TimeoutError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    function TimeoutError(errorMessage) {\r\n        var _newTarget = this.constructor;\r\n        if (errorMessage === void 0) { errorMessage = \"A timeout occurred.\"; }\r\n        var _this = this;\r\n        var trueProto = _newTarget.prototype;\r\n        _this = _super.call(this, errorMessage) || this;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        _this.__proto__ = trueProto;\r\n        return _this;\r\n    }\r\n    return TimeoutError;\r\n}(Error));\r\nexports.TimeoutError = TimeoutError;\r\n/** Error thrown when an action is aborted. */\r\nvar AbortError = /** @class */ (function (_super) {\r\n    __extends(AbortError, _super);\r\n    /** Constructs a new instance of {@link AbortError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    function AbortError(errorMessage) {\r\n        var _newTarget = this.constructor;\r\n        if (errorMessage === void 0) { errorMessage = \"An abort occurred.\"; }\r\n        var _this = this;\r\n        var trueProto = _newTarget.prototype;\r\n        _this = _super.call(this, errorMessage) || this;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        _this.__proto__ = trueProto;\r\n        return _this;\r\n    }\r\n    return AbortError;\r\n}(Error));\r\nexports.AbortError = AbortError;\r\n//# sourceMappingURL=Errors.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Errors_1 = require(\"./Errors\");\r\nvar HttpClient_1 = require(\"./HttpClient\");\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar Utils_1 = require(\"./Utils\");\r\nvar FetchHttpClient = /** @class */ (function (_super) {\r\n    __extends(FetchHttpClient, _super);\r\n    function FetchHttpClient(logger) {\r\n        var _this = _super.call(this) || this;\r\n        _this.logger = logger;\r\n        if (typeof fetch === \"undefined\") {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            var requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            // Cookies aren't automatically handled in Node so we need to add a CookieJar to preserve cookies across requests\r\n            _this.jar = new (requireFunc(\"tough-cookie\")).CookieJar();\r\n            _this.fetchType = requireFunc(\"node-fetch\");\r\n            // node-fetch doesn't have a nice API for getting and setting cookies\r\n            // fetch-cookie will wrap a fetch implementation with a default CookieJar or a provided one\r\n            _this.fetchType = requireFunc(\"fetch-cookie\")(_this.fetchType, _this.jar);\r\n            // Node needs EventListener methods on AbortController which our custom polyfill doesn't provide\r\n            _this.abortControllerType = requireFunc(\"abort-controller\");\r\n        }\r\n        else {\r\n            _this.fetchType = fetch.bind(self);\r\n            _this.abortControllerType = AbortController;\r\n        }\r\n        return _this;\r\n    }\r\n    /** @inheritDoc */\r\n    FetchHttpClient.prototype.send = function (request) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var abortController, error, timeoutId, msTimeout, response, e_1, content, payload;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // Check that abort was not signaled before calling send\r\n                        if (request.abortSignal && request.abortSignal.aborted) {\r\n                            throw new Errors_1.AbortError();\r\n                        }\r\n                        if (!request.method) {\r\n                            throw new Error(\"No method defined.\");\r\n                        }\r\n                        if (!request.url) {\r\n                            throw new Error(\"No url defined.\");\r\n                        }\r\n                        abortController = new this.abortControllerType();\r\n                        // Hook our abortSignal into the abort controller\r\n                        if (request.abortSignal) {\r\n                            request.abortSignal.onabort = function () {\r\n                                abortController.abort();\r\n                                error = new Errors_1.AbortError();\r\n                            };\r\n                        }\r\n                        timeoutId = null;\r\n                        if (request.timeout) {\r\n                            msTimeout = request.timeout;\r\n                            timeoutId = setTimeout(function () {\r\n                                abortController.abort();\r\n                                _this.logger.log(ILogger_1.LogLevel.Warning, \"Timeout from HTTP request.\");\r\n                                error = new Errors_1.TimeoutError();\r\n                            }, msTimeout);\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, 4, 5]);\r\n                        return [4 /*yield*/, this.fetchType(request.url, {\r\n                                body: request.content,\r\n                                cache: \"no-cache\",\r\n                                credentials: request.withCredentials === true ? \"include\" : \"same-origin\",\r\n                                headers: __assign({ \"Content-Type\": \"text/plain;charset=UTF-8\", \"X-Requested-With\": \"XMLHttpRequest\" }, request.headers),\r\n                                method: request.method,\r\n                                mode: \"cors\",\r\n                                redirect: \"manual\",\r\n                                signal: abortController.signal,\r\n                            })];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        this.logger.log(ILogger_1.LogLevel.Warning, \"Error from HTTP request. \" + e_1 + \".\");\r\n                        throw e_1;\r\n                    case 4:\r\n                        if (timeoutId) {\r\n                            clearTimeout(timeoutId);\r\n                        }\r\n                        if (request.abortSignal) {\r\n                            request.abortSignal.onabort = null;\r\n                        }\r\n                        return [7 /*endfinally*/];\r\n                    case 5:\r\n                        if (!response.ok) {\r\n                            throw new Errors_1.HttpError(response.statusText, response.status);\r\n                        }\r\n                        content = deserializeContent(response, request.responseType);\r\n                        return [4 /*yield*/, content];\r\n                    case 6:\r\n                        payload = _a.sent();\r\n                        return [2 /*return*/, new HttpClient_1.HttpResponse(response.status, response.statusText, payload)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FetchHttpClient.prototype.getCookieString = function (url) {\r\n        var cookies = \"\";\r\n        if (Utils_1.Platform.isNode && this.jar) {\r\n            // @ts-ignore: unused variable\r\n            this.jar.getCookies(url, function (e, c) { return cookies = c.join(\"; \"); });\r\n        }\r\n        return cookies;\r\n    };\r\n    return FetchHttpClient;\r\n}(HttpClient_1.HttpClient));\r\nexports.FetchHttpClient = FetchHttpClient;\r\nfunction deserializeContent(response, responseType) {\r\n    var content;\r\n    switch (responseType) {\r\n        case \"arraybuffer\":\r\n            content = response.arrayBuffer();\r\n            break;\r\n        case \"text\":\r\n            content = response.text();\r\n            break;\r\n        case \"blob\":\r\n        case \"document\":\r\n        case \"json\":\r\n            throw new Error(responseType + \" is not supported.\");\r\n        default:\r\n            content = response.text();\r\n            break;\r\n    }\r\n    return content;\r\n}\r\n//# sourceMappingURL=FetchHttpClient.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TextMessageFormat_1 = require(\"./TextMessageFormat\");\r\nvar Utils_1 = require(\"./Utils\");\r\n/** @private */\r\nvar HandshakeProtocol = /** @class */ (function () {\r\n    function HandshakeProtocol() {\r\n    }\r\n    // Handshake request is always JSON\r\n    HandshakeProtocol.prototype.writeHandshakeRequest = function (handshakeRequest) {\r\n        return TextMessageFormat_1.TextMessageFormat.write(JSON.stringify(handshakeRequest));\r\n    };\r\n    HandshakeProtocol.prototype.parseHandshakeResponse = function (data) {\r\n        var responseMessage;\r\n        var messageData;\r\n        var remainingData;\r\n        if (Utils_1.isArrayBuffer(data) || (typeof Buffer !== \"undefined\" && data instanceof Buffer)) {\r\n            // Format is binary but still need to read JSON text from handshake response\r\n            var binaryData = new Uint8Array(data);\r\n            var separatorIndex = binaryData.indexOf(TextMessageFormat_1.TextMessageFormat.RecordSeparatorCode);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            var responseLength = separatorIndex + 1;\r\n            messageData = String.fromCharCode.apply(null, binaryData.slice(0, responseLength));\r\n            remainingData = (binaryData.byteLength > responseLength) ? binaryData.slice(responseLength).buffer : null;\r\n        }\r\n        else {\r\n            var textData = data;\r\n            var separatorIndex = textData.indexOf(TextMessageFormat_1.TextMessageFormat.RecordSeparator);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            var responseLength = separatorIndex + 1;\r\n            messageData = textData.substring(0, responseLength);\r\n            remainingData = (textData.length > responseLength) ? textData.substring(responseLength) : null;\r\n        }\r\n        // At this point we should have just the single handshake message\r\n        var messages = TextMessageFormat_1.TextMessageFormat.parse(messageData);\r\n        var response = JSON.parse(messages[0]);\r\n        if (response.type) {\r\n            throw new Error(\"Expected a handshake response from the server.\");\r\n        }\r\n        responseMessage = response;\r\n        // multiple messages could have arrived with handshake\r\n        // return additional data to be parsed as usual, or null if all parsed\r\n        return [remainingData, responseMessage];\r\n    };\r\n    return HandshakeProtocol;\r\n}());\r\nexports.HandshakeProtocol = HandshakeProtocol;\r\n//# sourceMappingURL=HandshakeProtocol.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** Represents an HTTP response. */\r\nvar HttpResponse = /** @class */ (function () {\r\n    function HttpResponse(statusCode, statusText, content) {\r\n        this.statusCode = statusCode;\r\n        this.statusText = statusText;\r\n        this.content = content;\r\n    }\r\n    return HttpResponse;\r\n}());\r\nexports.HttpResponse = HttpResponse;\r\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */\r\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient() {\r\n    }\r\n    HttpClient.prototype.get = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"GET\", url: url }));\r\n    };\r\n    HttpClient.prototype.post = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"POST\", url: url }));\r\n    };\r\n    HttpClient.prototype.delete = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"DELETE\", url: url }));\r\n    };\r\n    /** Gets all cookies that apply to the specified URL.\r\n     *\r\n     * @param url The URL that the cookies are valid for.\r\n     * @returns {string} A string containing all the key-value cookie pairs for the specified URL.\r\n     */\r\n    // @ts-ignore\r\n    HttpClient.prototype.getCookieString = function (url) {\r\n        return \"\";\r\n    };\r\n    return HttpClient;\r\n}());\r\nexports.HttpClient = HttpClient;\r\n//# sourceMappingURL=HttpClient.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DefaultHttpClient_1 = require(\"./DefaultHttpClient\");\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar ITransport_1 = require(\"./ITransport\");\r\nvar LongPollingTransport_1 = require(\"./LongPollingTransport\");\r\nvar ServerSentEventsTransport_1 = require(\"./ServerSentEventsTransport\");\r\nvar Utils_1 = require(\"./Utils\");\r\nvar WebSocketTransport_1 = require(\"./WebSocketTransport\");\r\nvar MAX_REDIRECTS = 100;\r\n/** @private */\r\nvar HttpConnection = /** @class */ (function () {\r\n    function HttpConnection(url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.features = {};\r\n        this.negotiateVersion = 1;\r\n        Utils_1.Arg.isRequired(url, \"url\");\r\n        this.logger = Utils_1.createLogger(options.logger);\r\n        this.baseUrl = this.resolveUrl(url);\r\n        options = options || {};\r\n        options.logMessageContent = options.logMessageContent === undefined ? false : options.logMessageContent;\r\n        if (typeof options.withCredentials === \"boolean\" || options.withCredentials === undefined) {\r\n            options.withCredentials = options.withCredentials === undefined ? true : options.withCredentials;\r\n        }\r\n        else {\r\n            throw new Error(\"withCredentials option was not a 'boolean' or 'undefined' value\");\r\n        }\r\n        var webSocketModule = null;\r\n        var eventSourceModule = null;\r\n        if (Utils_1.Platform.isNode && typeof require !== \"undefined\") {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            var requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            webSocketModule = requireFunc(\"ws\");\r\n            eventSourceModule = requireFunc(\"eventsource\");\r\n        }\r\n        if (!Utils_1.Platform.isNode && typeof WebSocket !== \"undefined\" && !options.WebSocket) {\r\n            options.WebSocket = WebSocket;\r\n        }\r\n        else if (Utils_1.Platform.isNode && !options.WebSocket) {\r\n            if (webSocketModule) {\r\n                options.WebSocket = webSocketModule;\r\n            }\r\n        }\r\n        if (!Utils_1.Platform.isNode && typeof EventSource !== \"undefined\" && !options.EventSource) {\r\n            options.EventSource = EventSource;\r\n        }\r\n        else if (Utils_1.Platform.isNode && !options.EventSource) {\r\n            if (typeof eventSourceModule !== \"undefined\") {\r\n                options.EventSource = eventSourceModule;\r\n            }\r\n        }\r\n        this.httpClient = options.httpClient || new DefaultHttpClient_1.DefaultHttpClient(this.logger);\r\n        this.connectionState = \"Disconnected\" /* Disconnected */;\r\n        this.connectionStarted = false;\r\n        this.options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    HttpConnection.prototype.start = function (transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var message, message;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        transferFormat = transferFormat || ITransport_1.TransferFormat.Binary;\r\n                        Utils_1.Arg.isIn(transferFormat, ITransport_1.TransferFormat, \"transferFormat\");\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Starting connection with transfer format '\" + ITransport_1.TransferFormat[transferFormat] + \"'.\");\r\n                        if (this.connectionState !== \"Disconnected\" /* Disconnected */) {\r\n                            return [2 /*return*/, Promise.reject(new Error(\"Cannot start an HttpConnection that is not in the 'Disconnected' state.\"))];\r\n                        }\r\n                        this.connectionState = \"Connecting\" /* Connecting */;\r\n                        this.startInternalPromise = this.startInternal(transferFormat);\r\n                        return [4 /*yield*/, this.startInternalPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        if (!(this.connectionState === \"Disconnecting\" /* Disconnecting */)) return [3 /*break*/, 3];\r\n                        message = \"Failed to start the HttpConnection before stop() was called.\";\r\n                        this.logger.log(ILogger_1.LogLevel.Error, message);\r\n                        // We cannot await stopPromise inside startInternal since stopInternal awaits the startInternalPromise.\r\n                        return [4 /*yield*/, this.stopPromise];\r\n                    case 2:\r\n                        // We cannot await stopPromise inside startInternal since stopInternal awaits the startInternalPromise.\r\n                        _a.sent();\r\n                        return [2 /*return*/, Promise.reject(new Error(message))];\r\n                    case 3:\r\n                        if (this.connectionState !== \"Connected\" /* Connected */) {\r\n                            message = \"HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!\";\r\n                            this.logger.log(ILogger_1.LogLevel.Error, message);\r\n                            return [2 /*return*/, Promise.reject(new Error(message))];\r\n                        }\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        this.connectionStarted = true;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.send = function (data) {\r\n        if (this.connectionState !== \"Connected\" /* Connected */) {\r\n            return Promise.reject(new Error(\"Cannot send data if the connection is not in the 'Connected' State.\"));\r\n        }\r\n        if (!this.sendQueue) {\r\n            this.sendQueue = new TransportSendQueue(this.transport);\r\n        }\r\n        // Transport will not be null if state is connected\r\n        return this.sendQueue.send(data);\r\n    };\r\n    HttpConnection.prototype.stop = function (error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.connectionState === \"Disconnected\" /* Disconnected */) {\r\n                            this.logger.log(ILogger_1.LogLevel.Debug, \"Call to HttpConnection.stop(\" + error + \") ignored because the connection is already in the disconnected state.\");\r\n                            return [2 /*return*/, Promise.resolve()];\r\n                        }\r\n                        if (this.connectionState === \"Disconnecting\" /* Disconnecting */) {\r\n                            this.logger.log(ILogger_1.LogLevel.Debug, \"Call to HttpConnection.stop(\" + error + \") ignored because the connection is already in the disconnecting state.\");\r\n                            return [2 /*return*/, this.stopPromise];\r\n                        }\r\n                        this.connectionState = \"Disconnecting\" /* Disconnecting */;\r\n                        this.stopPromise = new Promise(function (resolve) {\r\n                            // Don't complete stop() until stopConnection() completes.\r\n                            _this.stopPromiseResolver = resolve;\r\n                        });\r\n                        // stopInternal should never throw so just observe it.\r\n                        return [4 /*yield*/, this.stopInternal(error)];\r\n                    case 1:\r\n                        // stopInternal should never throw so just observe it.\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.stopPromise];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.stopInternal = function (error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_1, e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // Set error as soon as possible otherwise there is a race between\r\n                        // the transport closing and providing an error and the error from a close message\r\n                        // We would prefer the close message error.\r\n                        this.stopError = error;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.startInternalPromise];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 4:\r\n                        if (!this.transport) return [3 /*break*/, 9];\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        _a.trys.push([5, 7, , 8]);\r\n                        return [4 /*yield*/, this.transport.stop()];\r\n                    case 6:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        e_2 = _a.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Error, \"HttpConnection.transport.stop() threw error '\" + e_2 + \"'.\");\r\n                        this.stopConnection();\r\n                        return [3 /*break*/, 8];\r\n                    case 8:\r\n                        this.transport = undefined;\r\n                        return [3 /*break*/, 10];\r\n                    case 9:\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.\");\r\n                        this.stopConnection();\r\n                        _a.label = 10;\r\n                    case 10: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.startInternal = function (transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var url, negotiateResponse, redirects, _loop_1, this_1, e_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        url = this.baseUrl;\r\n                        this.accessTokenFactory = this.options.accessTokenFactory;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 12, , 13]);\r\n                        if (!this.options.skipNegotiation) return [3 /*break*/, 5];\r\n                        if (!(this.options.transport === ITransport_1.HttpTransportType.WebSockets)) return [3 /*break*/, 3];\r\n                        // No need to add a connection ID in this case\r\n                        this.transport = this.constructTransport(ITransport_1.HttpTransportType.WebSockets);\r\n                        // We should just call connect directly in this case.\r\n                        // No fallback or negotiate in this case.\r\n                        return [4 /*yield*/, this.startTransport(url, transferFormat)];\r\n                    case 2:\r\n                        // We should just call connect directly in this case.\r\n                        // No fallback or negotiate in this case.\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3: throw new Error(\"Negotiation can only be skipped when using the WebSocket transport directly.\");\r\n                    case 4: return [3 /*break*/, 11];\r\n                    case 5:\r\n                        negotiateResponse = null;\r\n                        redirects = 0;\r\n                        _loop_1 = function () {\r\n                            var accessToken_1;\r\n                            return __generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0: return [4 /*yield*/, this_1.getNegotiationResponse(url)];\r\n                                    case 1:\r\n                                        negotiateResponse = _a.sent();\r\n                                        // the user tries to stop the connection when it is being started\r\n                                        if (this_1.connectionState === \"Disconnecting\" /* Disconnecting */ || this_1.connectionState === \"Disconnected\" /* Disconnected */) {\r\n                                            throw new Error(\"The connection was stopped during negotiation.\");\r\n                                        }\r\n                                        if (negotiateResponse.error) {\r\n                                            throw new Error(negotiateResponse.error);\r\n                                        }\r\n                                        if (negotiateResponse.ProtocolVersion) {\r\n                                            throw new Error(\"Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.\");\r\n                                        }\r\n                                        if (negotiateResponse.url) {\r\n                                            url = negotiateResponse.url;\r\n                                        }\r\n                                        if (negotiateResponse.accessToken) {\r\n                                            accessToken_1 = negotiateResponse.accessToken;\r\n                                            this_1.accessTokenFactory = function () { return accessToken_1; };\r\n                                        }\r\n                                        redirects++;\r\n                                        return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        };\r\n                        this_1 = this;\r\n                        _a.label = 6;\r\n                    case 6: return [5 /*yield**/, _loop_1()];\r\n                    case 7:\r\n                        _a.sent();\r\n                        _a.label = 8;\r\n                    case 8:\r\n                        if (negotiateResponse.url && redirects < MAX_REDIRECTS) return [3 /*break*/, 6];\r\n                        _a.label = 9;\r\n                    case 9:\r\n                        if (redirects === MAX_REDIRECTS && negotiateResponse.url) {\r\n                            throw new Error(\"Negotiate redirection limit exceeded.\");\r\n                        }\r\n                        return [4 /*yield*/, this.createTransport(url, this.options.transport, negotiateResponse, transferFormat)];\r\n                    case 10:\r\n                        _a.sent();\r\n                        _a.label = 11;\r\n                    case 11:\r\n                        if (this.transport instanceof LongPollingTransport_1.LongPollingTransport) {\r\n                            this.features.inherentKeepAlive = true;\r\n                        }\r\n                        if (this.connectionState === \"Connecting\" /* Connecting */) {\r\n                            // Ensure the connection transitions to the connected state prior to completing this.startInternalPromise.\r\n                            // start() will handle the case when stop was called and startInternal exits still in the disconnecting state.\r\n                            this.logger.log(ILogger_1.LogLevel.Debug, \"The HttpConnection connected successfully.\");\r\n                            this.connectionState = \"Connected\" /* Connected */;\r\n                        }\r\n                        return [3 /*break*/, 13];\r\n                    case 12:\r\n                        e_3 = _a.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Error, \"Failed to start the connection: \" + e_3);\r\n                        this.connectionState = \"Disconnected\" /* Disconnected */;\r\n                        this.transport = undefined;\r\n                        return [2 /*return*/, Promise.reject(e_3)];\r\n                    case 13: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.getNegotiationResponse = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var headers, token, _a, name, value, negotiateUrl, response, negotiateResponse, e_4;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        headers = {};\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1:\r\n                        token = _b.sent();\r\n                        if (token) {\r\n                            headers[\"Authorization\"] = \"Bearer \" + token;\r\n                        }\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        _a = Utils_1.getUserAgentHeader(), name = _a[0], value = _a[1];\r\n                        headers[name] = value;\r\n                        negotiateUrl = this.resolveNegotiateUrl(url);\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Sending negotiation request: \" + negotiateUrl + \".\");\r\n                        _b.label = 3;\r\n                    case 3:\r\n                        _b.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, this.httpClient.post(negotiateUrl, {\r\n                                content: \"\",\r\n                                headers: __assign({}, headers, this.options.headers),\r\n                                withCredentials: this.options.withCredentials,\r\n                            })];\r\n                    case 4:\r\n                        response = _b.sent();\r\n                        if (response.statusCode !== 200) {\r\n                            return [2 /*return*/, Promise.reject(new Error(\"Unexpected status code returned from negotiate '\" + response.statusCode + \"'\"))];\r\n                        }\r\n                        negotiateResponse = JSON.parse(response.content);\r\n                        if (!negotiateResponse.negotiateVersion || negotiateResponse.negotiateVersion < 1) {\r\n                            // Negotiate version 0 doesn't use connectionToken\r\n                            // So we set it equal to connectionId so all our logic can use connectionToken without being aware of the negotiate version\r\n                            negotiateResponse.connectionToken = negotiateResponse.connectionId;\r\n                        }\r\n                        return [2 /*return*/, negotiateResponse];\r\n                    case 5:\r\n                        e_4 = _b.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Error, \"Failed to complete negotiation with the server: \" + e_4);\r\n                        return [2 /*return*/, Promise.reject(e_4)];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.createConnectUrl = function (url, connectionToken) {\r\n        if (!connectionToken) {\r\n            return url;\r\n        }\r\n        return url + (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + (\"id=\" + connectionToken);\r\n    };\r\n    HttpConnection.prototype.createTransport = function (url, requestedTransport, negotiateResponse, requestedTransferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var connectUrl, transportExceptions, transports, negotiate, _i, transports_1, endpoint, transportOrError, ex_1, ex_2, message;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectUrl = this.createConnectUrl(url, negotiateResponse.connectionToken);\r\n                        if (!this.isITransport(requestedTransport)) return [3 /*break*/, 2];\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Connection was provided an instance of ITransport, using that directly.\");\r\n                        this.transport = requestedTransport;\r\n                        return [4 /*yield*/, this.startTransport(connectUrl, requestedTransferFormat)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.connectionId = negotiateResponse.connectionId;\r\n                        return [2 /*return*/];\r\n                    case 2:\r\n                        transportExceptions = [];\r\n                        transports = negotiateResponse.availableTransports || [];\r\n                        negotiate = negotiateResponse;\r\n                        _i = 0, transports_1 = transports;\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        if (!(_i < transports_1.length)) return [3 /*break*/, 13];\r\n                        endpoint = transports_1[_i];\r\n                        transportOrError = this.resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat);\r\n                        if (!(transportOrError instanceof Error)) return [3 /*break*/, 4];\r\n                        // Store the error and continue, we don't want to cause a re-negotiate in these cases\r\n                        transportExceptions.push(endpoint.transport + \" failed: \" + transportOrError);\r\n                        return [3 /*break*/, 12];\r\n                    case 4:\r\n                        if (!this.isITransport(transportOrError)) return [3 /*break*/, 12];\r\n                        this.transport = transportOrError;\r\n                        if (!!negotiate) return [3 /*break*/, 9];\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        _a.trys.push([5, 7, , 8]);\r\n                        return [4 /*yield*/, this.getNegotiationResponse(url)];\r\n                    case 6:\r\n                        negotiate = _a.sent();\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        ex_1 = _a.sent();\r\n                        return [2 /*return*/, Promise.reject(ex_1)];\r\n                    case 8:\r\n                        connectUrl = this.createConnectUrl(url, negotiate.connectionToken);\r\n                        _a.label = 9;\r\n                    case 9:\r\n                        _a.trys.push([9, 11, , 12]);\r\n                        return [4 /*yield*/, this.startTransport(connectUrl, requestedTransferFormat)];\r\n                    case 10:\r\n                        _a.sent();\r\n                        this.connectionId = negotiate.connectionId;\r\n                        return [2 /*return*/];\r\n                    case 11:\r\n                        ex_2 = _a.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Error, \"Failed to start the transport '\" + endpoint.transport + \"': \" + ex_2);\r\n                        negotiate = undefined;\r\n                        transportExceptions.push(endpoint.transport + \" failed: \" + ex_2);\r\n                        if (this.connectionState !== \"Connecting\" /* Connecting */) {\r\n                            message = \"Failed to select transport before stop() was called.\";\r\n                            this.logger.log(ILogger_1.LogLevel.Debug, message);\r\n                            return [2 /*return*/, Promise.reject(new Error(message))];\r\n                        }\r\n                        return [3 /*break*/, 12];\r\n                    case 12:\r\n                        _i++;\r\n                        return [3 /*break*/, 3];\r\n                    case 13:\r\n                        if (transportExceptions.length > 0) {\r\n                            return [2 /*return*/, Promise.reject(new Error(\"Unable to connect to the server with any of the available transports. \" + transportExceptions.join(\" \")))];\r\n                        }\r\n                        return [2 /*return*/, Promise.reject(new Error(\"None of the transports supported by the client are supported by the server.\"))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.constructTransport = function (transport) {\r\n        switch (transport) {\r\n            case ITransport_1.HttpTransportType.WebSockets:\r\n                if (!this.options.WebSocket) {\r\n                    throw new Error(\"'WebSocket' is not supported in your environment.\");\r\n                }\r\n                return new WebSocketTransport_1.WebSocketTransport(this.httpClient, this.accessTokenFactory, this.logger, this.options.logMessageContent || false, this.options.WebSocket, this.options.headers || {});\r\n            case ITransport_1.HttpTransportType.ServerSentEvents:\r\n                if (!this.options.EventSource) {\r\n                    throw new Error(\"'EventSource' is not supported in your environment.\");\r\n                }\r\n                return new ServerSentEventsTransport_1.ServerSentEventsTransport(this.httpClient, this.accessTokenFactory, this.logger, this.options.logMessageContent || false, this.options.EventSource, this.options.withCredentials, this.options.headers || {});\r\n            case ITransport_1.HttpTransportType.LongPolling:\r\n                return new LongPollingTransport_1.LongPollingTransport(this.httpClient, this.accessTokenFactory, this.logger, this.options.logMessageContent || false, this.options.withCredentials, this.options.headers || {});\r\n            default:\r\n                throw new Error(\"Unknown transport: \" + transport + \".\");\r\n        }\r\n    };\r\n    HttpConnection.prototype.startTransport = function (url, transferFormat) {\r\n        var _this = this;\r\n        this.transport.onreceive = this.onreceive;\r\n        this.transport.onclose = function (e) { return _this.stopConnection(e); };\r\n        return this.transport.connect(url, transferFormat);\r\n    };\r\n    HttpConnection.prototype.resolveTransportOrError = function (endpoint, requestedTransport, requestedTransferFormat) {\r\n        var transport = ITransport_1.HttpTransportType[endpoint.transport];\r\n        if (transport === null || transport === undefined) {\r\n            this.logger.log(ILogger_1.LogLevel.Debug, \"Skipping transport '\" + endpoint.transport + \"' because it is not supported by this client.\");\r\n            return new Error(\"Skipping transport '\" + endpoint.transport + \"' because it is not supported by this client.\");\r\n        }\r\n        else {\r\n            if (transportMatches(requestedTransport, transport)) {\r\n                var transferFormats = endpoint.transferFormats.map(function (s) { return ITransport_1.TransferFormat[s]; });\r\n                if (transferFormats.indexOf(requestedTransferFormat) >= 0) {\r\n                    if ((transport === ITransport_1.HttpTransportType.WebSockets && !this.options.WebSocket) ||\r\n                        (transport === ITransport_1.HttpTransportType.ServerSentEvents && !this.options.EventSource)) {\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Skipping transport '\" + ITransport_1.HttpTransportType[transport] + \"' because it is not supported in your environment.'\");\r\n                        return new Error(\"'\" + ITransport_1.HttpTransportType[transport] + \"' is not supported in your environment.\");\r\n                    }\r\n                    else {\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Selecting transport '\" + ITransport_1.HttpTransportType[transport] + \"'.\");\r\n                        try {\r\n                            return this.constructTransport(transport);\r\n                        }\r\n                        catch (ex) {\r\n                            return ex;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this.logger.log(ILogger_1.LogLevel.Debug, \"Skipping transport '\" + ITransport_1.HttpTransportType[transport] + \"' because it does not support the requested transfer format '\" + ITransport_1.TransferFormat[requestedTransferFormat] + \"'.\");\r\n                    return new Error(\"'\" + ITransport_1.HttpTransportType[transport] + \"' does not support \" + ITransport_1.TransferFormat[requestedTransferFormat] + \".\");\r\n                }\r\n            }\r\n            else {\r\n                this.logger.log(ILogger_1.LogLevel.Debug, \"Skipping transport '\" + ITransport_1.HttpTransportType[transport] + \"' because it was disabled by the client.\");\r\n                return new Error(\"'\" + ITransport_1.HttpTransportType[transport] + \"' is disabled by the client.\");\r\n            }\r\n        }\r\n    };\r\n    HttpConnection.prototype.isITransport = function (transport) {\r\n        return transport && typeof (transport) === \"object\" && \"connect\" in transport;\r\n    };\r\n    HttpConnection.prototype.stopConnection = function (error) {\r\n        var _this = this;\r\n        this.logger.log(ILogger_1.LogLevel.Debug, \"HttpConnection.stopConnection(\" + error + \") called while in state \" + this.connectionState + \".\");\r\n        this.transport = undefined;\r\n        // If we have a stopError, it takes precedence over the error from the transport\r\n        error = this.stopError || error;\r\n        this.stopError = undefined;\r\n        if (this.connectionState === \"Disconnected\" /* Disconnected */) {\r\n            this.logger.log(ILogger_1.LogLevel.Debug, \"Call to HttpConnection.stopConnection(\" + error + \") was ignored because the connection is already in the disconnected state.\");\r\n            return;\r\n        }\r\n        if (this.connectionState === \"Connecting\" /* Connecting */) {\r\n            this.logger.log(ILogger_1.LogLevel.Warning, \"Call to HttpConnection.stopConnection(\" + error + \") was ignored because the connection is still in the connecting state.\");\r\n            throw new Error(\"HttpConnection.stopConnection(\" + error + \") was called while the connection is still in the connecting state.\");\r\n        }\r\n        if (this.connectionState === \"Disconnecting\" /* Disconnecting */) {\r\n            // A call to stop() induced this call to stopConnection and needs to be completed.\r\n            // Any stop() awaiters will be scheduled to continue after the onclose callback fires.\r\n            this.stopPromiseResolver();\r\n        }\r\n        if (error) {\r\n            this.logger.log(ILogger_1.LogLevel.Error, \"Connection disconnected with error '\" + error + \"'.\");\r\n        }\r\n        else {\r\n            this.logger.log(ILogger_1.LogLevel.Information, \"Connection disconnected.\");\r\n        }\r\n        if (this.sendQueue) {\r\n            this.sendQueue.stop().catch(function (e) {\r\n                _this.logger.log(ILogger_1.LogLevel.Error, \"TransportSendQueue.stop() threw error '\" + e + \"'.\");\r\n            });\r\n            this.sendQueue = undefined;\r\n        }\r\n        this.connectionId = undefined;\r\n        this.connectionState = \"Disconnected\" /* Disconnected */;\r\n        if (this.connectionStarted) {\r\n            this.connectionStarted = false;\r\n            try {\r\n                if (this.onclose) {\r\n                    this.onclose(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                this.logger.log(ILogger_1.LogLevel.Error, \"HttpConnection.onclose(\" + error + \") threw error '\" + e + \"'.\");\r\n            }\r\n        }\r\n    };\r\n    HttpConnection.prototype.resolveUrl = function (url) {\r\n        // startsWith is not supported in IE\r\n        if (url.lastIndexOf(\"https://\", 0) === 0 || url.lastIndexOf(\"http://\", 0) === 0) {\r\n            return url;\r\n        }\r\n        if (!Utils_1.Platform.isBrowser || !window.document) {\r\n            throw new Error(\"Cannot resolve '\" + url + \"'.\");\r\n        }\r\n        // Setting the url to the href propery of an anchor tag handles normalization\r\n        // for us. There are 3 main cases.\r\n        // 1. Relative path normalization e.g \"b\" -> \"http://localhost:5000/a/b\"\r\n        // 2. Absolute path normalization e.g \"/a/b\" -> \"http://localhost:5000/a/b\"\r\n        // 3. Networkpath reference normalization e.g \"//localhost:5000/a/b\" -> \"http://localhost:5000/a/b\"\r\n        var aTag = window.document.createElement(\"a\");\r\n        aTag.href = url;\r\n        this.logger.log(ILogger_1.LogLevel.Information, \"Normalizing '\" + url + \"' to '\" + aTag.href + \"'.\");\r\n        return aTag.href;\r\n    };\r\n    HttpConnection.prototype.resolveNegotiateUrl = function (url) {\r\n        var index = url.indexOf(\"?\");\r\n        var negotiateUrl = url.substring(0, index === -1 ? url.length : index);\r\n        if (negotiateUrl[negotiateUrl.length - 1] !== \"/\") {\r\n            negotiateUrl += \"/\";\r\n        }\r\n        negotiateUrl += \"negotiate\";\r\n        negotiateUrl += index === -1 ? \"\" : url.substring(index);\r\n        if (negotiateUrl.indexOf(\"negotiateVersion\") === -1) {\r\n            negotiateUrl += index === -1 ? \"?\" : \"&\";\r\n            negotiateUrl += \"negotiateVersion=\" + this.negotiateVersion;\r\n        }\r\n        return negotiateUrl;\r\n    };\r\n    return HttpConnection;\r\n}());\r\nexports.HttpConnection = HttpConnection;\r\nfunction transportMatches(requestedTransport, actualTransport) {\r\n    return !requestedTransport || ((actualTransport & requestedTransport) !== 0);\r\n}\r\n/** @private */\r\nvar TransportSendQueue = /** @class */ (function () {\r\n    function TransportSendQueue(transport) {\r\n        this.transport = transport;\r\n        this.buffer = [];\r\n        this.executing = true;\r\n        this.sendBufferedData = new PromiseSource();\r\n        this.transportResult = new PromiseSource();\r\n        this.sendLoopPromise = this.sendLoop();\r\n    }\r\n    TransportSendQueue.prototype.send = function (data) {\r\n        this.bufferData(data);\r\n        if (!this.transportResult) {\r\n            this.transportResult = new PromiseSource();\r\n        }\r\n        return this.transportResult.promise;\r\n    };\r\n    TransportSendQueue.prototype.stop = function () {\r\n        this.executing = false;\r\n        this.sendBufferedData.resolve();\r\n        return this.sendLoopPromise;\r\n    };\r\n    TransportSendQueue.prototype.bufferData = function (data) {\r\n        if (this.buffer.length && typeof (this.buffer[0]) !== typeof (data)) {\r\n            throw new Error(\"Expected data to be of type \" + typeof (this.buffer) + \" but was of type \" + typeof (data));\r\n        }\r\n        this.buffer.push(data);\r\n        this.sendBufferedData.resolve();\r\n    };\r\n    TransportSendQueue.prototype.sendLoop = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var transportResult, data, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!true) return [3 /*break*/, 6];\r\n                        return [4 /*yield*/, this.sendBufferedData.promise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        if (!this.executing) {\r\n                            if (this.transportResult) {\r\n                                this.transportResult.reject(\"Connection stopped.\");\r\n                            }\r\n                            return [3 /*break*/, 6];\r\n                        }\r\n                        this.sendBufferedData = new PromiseSource();\r\n                        transportResult = this.transportResult;\r\n                        this.transportResult = undefined;\r\n                        data = typeof (this.buffer[0]) === \"string\" ?\r\n                            this.buffer.join(\"\") :\r\n                            TransportSendQueue.concatBuffers(this.buffer);\r\n                        this.buffer.length = 0;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4 /*yield*/, this.transport.send(data)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        transportResult.resolve();\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        error_1 = _a.sent();\r\n                        transportResult.reject(error_1);\r\n                        return [3 /*break*/, 5];\r\n                    case 5: return [3 /*break*/, 0];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TransportSendQueue.concatBuffers = function (arrayBuffers) {\r\n        var totalLength = arrayBuffers.map(function (b) { return b.byteLength; }).reduce(function (a, b) { return a + b; });\r\n        var result = new Uint8Array(totalLength);\r\n        var offset = 0;\r\n        for (var _i = 0, arrayBuffers_1 = arrayBuffers; _i < arrayBuffers_1.length; _i++) {\r\n            var item = arrayBuffers_1[_i];\r\n            result.set(new Uint8Array(item), offset);\r\n            offset += item.byteLength;\r\n        }\r\n        return result.buffer;\r\n    };\r\n    return TransportSendQueue;\r\n}());\r\nexports.TransportSendQueue = TransportSendQueue;\r\nvar PromiseSource = /** @class */ (function () {\r\n    function PromiseSource() {\r\n        var _this = this;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            var _a;\r\n            return _a = [resolve, reject], _this.resolver = _a[0], _this.rejecter = _a[1], _a;\r\n        });\r\n    }\r\n    PromiseSource.prototype.resolve = function () {\r\n        this.resolver();\r\n    };\r\n    PromiseSource.prototype.reject = function (reason) {\r\n        this.rejecter(reason);\r\n    };\r\n    return PromiseSource;\r\n}());\r\n//# sourceMappingURL=HttpConnection.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandshakeProtocol_1 = require(\"./HandshakeProtocol\");\r\nvar IHubProtocol_1 = require(\"./IHubProtocol\");\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar Subject_1 = require(\"./Subject\");\r\nvar Utils_1 = require(\"./Utils\");\r\nvar DEFAULT_TIMEOUT_IN_MS = 30 * 1000;\r\nvar DEFAULT_PING_INTERVAL_IN_MS = 15 * 1000;\r\n/** Describes the current state of the {@link HubConnection} to the server. */\r\nvar HubConnectionState;\r\n(function (HubConnectionState) {\r\n    /** The hub connection is disconnected. */\r\n    HubConnectionState[\"Disconnected\"] = \"Disconnected\";\r\n    /** The hub connection is connecting. */\r\n    HubConnectionState[\"Connecting\"] = \"Connecting\";\r\n    /** The hub connection is connected. */\r\n    HubConnectionState[\"Connected\"] = \"Connected\";\r\n    /** The hub connection is disconnecting. */\r\n    HubConnectionState[\"Disconnecting\"] = \"Disconnecting\";\r\n    /** The hub connection is reconnecting. */\r\n    HubConnectionState[\"Reconnecting\"] = \"Reconnecting\";\r\n})(HubConnectionState = exports.HubConnectionState || (exports.HubConnectionState = {}));\r\n/** Represents a connection to a SignalR Hub. */\r\nvar HubConnection = /** @class */ (function () {\r\n    function HubConnection(connection, logger, protocol, reconnectPolicy) {\r\n        var _this = this;\r\n        Utils_1.Arg.isRequired(connection, \"connection\");\r\n        Utils_1.Arg.isRequired(logger, \"logger\");\r\n        Utils_1.Arg.isRequired(protocol, \"protocol\");\r\n        this.serverTimeoutInMilliseconds = DEFAULT_TIMEOUT_IN_MS;\r\n        this.keepAliveIntervalInMilliseconds = DEFAULT_PING_INTERVAL_IN_MS;\r\n        this.logger = logger;\r\n        this.protocol = protocol;\r\n        this.connection = connection;\r\n        this.reconnectPolicy = reconnectPolicy;\r\n        this.handshakeProtocol = new HandshakeProtocol_1.HandshakeProtocol();\r\n        this.connection.onreceive = function (data) { return _this.processIncomingData(data); };\r\n        this.connection.onclose = function (error) { return _this.connectionClosed(error); };\r\n        this.callbacks = {};\r\n        this.methods = {};\r\n        this.closedCallbacks = [];\r\n        this.reconnectingCallbacks = [];\r\n        this.reconnectedCallbacks = [];\r\n        this.invocationId = 0;\r\n        this.receivedHandshakeResponse = false;\r\n        this.connectionState = HubConnectionState.Disconnected;\r\n        this.connectionStarted = false;\r\n        this.cachedPingMessage = this.protocol.writeMessage({ type: IHubProtocol_1.MessageType.Ping });\r\n    }\r\n    /** @internal */\r\n    // Using a public static factory method means we can have a private constructor and an _internal_\r\n    // create method that can be used by HubConnectionBuilder. An \"internal\" constructor would just\r\n    // be stripped away and the '.d.ts' file would have no constructor, which is interpreted as a\r\n    // public parameter-less constructor.\r\n    HubConnection.create = function (connection, logger, protocol, reconnectPolicy) {\r\n        return new HubConnection(connection, logger, protocol, reconnectPolicy);\r\n    };\r\n    Object.defineProperty(HubConnection.prototype, \"state\", {\r\n        /** Indicates the state of the {@link HubConnection} to the server. */\r\n        get: function () {\r\n            return this.connectionState;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HubConnection.prototype, \"connectionId\", {\r\n        /** Represents the connection id of the {@link HubConnection} on the server. The connection id will be null when the connection is either\r\n         *  in the disconnected state or if the negotiation step was skipped.\r\n         */\r\n        get: function () {\r\n            return this.connection ? (this.connection.connectionId || null) : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HubConnection.prototype, \"baseUrl\", {\r\n        /** Indicates the url of the {@link HubConnection} to the server. */\r\n        get: function () {\r\n            return this.connection.baseUrl || \"\";\r\n        },\r\n        /**\r\n         * Sets a new url for the HubConnection. Note that the url can only be changed when the connection is in either the Disconnected or\r\n         * Reconnecting states.\r\n         * @param {string} url The url to connect to.\r\n         */\r\n        set: function (url) {\r\n            if (this.connectionState !== HubConnectionState.Disconnected && this.connectionState !== HubConnectionState.Reconnecting) {\r\n                throw new Error(\"The HubConnection must be in the Disconnected or Reconnecting state to change the url.\");\r\n            }\r\n            if (!url) {\r\n                throw new Error(\"The HubConnection url must be a valid url.\");\r\n            }\r\n            this.connection.baseUrl = url;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /** Starts the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully established, or rejects with an error.\r\n     */\r\n    HubConnection.prototype.start = function () {\r\n        this.startPromise = this.startWithStateTransitions();\r\n        return this.startPromise;\r\n    };\r\n    HubConnection.prototype.startWithStateTransitions = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.connectionState !== HubConnectionState.Disconnected) {\r\n                            return [2 /*return*/, Promise.reject(new Error(\"Cannot start a HubConnection that is not in the 'Disconnected' state.\"))];\r\n                        }\r\n                        this.connectionState = HubConnectionState.Connecting;\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Starting HubConnection.\");\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.startInternal()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.connectionState = HubConnectionState.Connected;\r\n                        this.connectionStarted = true;\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"HubConnection connected successfully.\");\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        this.connectionState = HubConnectionState.Disconnected;\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"HubConnection failed to start successfully because of error '\" + e_1 + \"'.\");\r\n                        return [2 /*return*/, Promise.reject(e_1)];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HubConnection.prototype.startInternal = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var handshakePromise, handshakeRequest, e_2;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.stopDuringStartError = undefined;\r\n                        this.receivedHandshakeResponse = false;\r\n                        handshakePromise = new Promise(function (resolve, reject) {\r\n                            _this.handshakeResolver = resolve;\r\n                            _this.handshakeRejecter = reject;\r\n                        });\r\n                        return [4 /*yield*/, this.connection.start(this.protocol.transferFormat)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 5, , 7]);\r\n                        handshakeRequest = {\r\n                            protocol: this.protocol.name,\r\n                            version: this.protocol.version,\r\n                        };\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Sending handshake request.\");\r\n                        return [4 /*yield*/, this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(handshakeRequest))];\r\n                    case 3:\r\n                        _a.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Information, \"Using HubProtocol '\" + this.protocol.name + \"'.\");\r\n                        // defensively cleanup timeout in case we receive a message from the server before we finish start\r\n                        this.cleanupTimeout();\r\n                        this.resetTimeoutPeriod();\r\n                        this.resetKeepAliveInterval();\r\n                        return [4 /*yield*/, handshakePromise];\r\n                    case 4:\r\n                        _a.sent();\r\n                        // It's important to check the stopDuringStartError instead of just relying on the handshakePromise\r\n                        // being rejected on close, because this continuation can run after both the handshake completed successfully\r\n                        // and the connection was closed.\r\n                        if (this.stopDuringStartError) {\r\n                            // It's important to throw instead of returning a rejected promise, because we don't want to allow any state\r\n                            // transitions to occur between now and the calling code observing the exceptions. Returning a rejected promise\r\n                            // will cause the calling continuation to get scheduled to run later.\r\n                            throw this.stopDuringStartError;\r\n                        }\r\n                        return [3 /*break*/, 7];\r\n                    case 5:\r\n                        e_2 = _a.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Debug, \"Hub handshake failed with error '\" + e_2 + \"' during start(). Stopping HubConnection.\");\r\n                        this.cleanupTimeout();\r\n                        this.cleanupPingTimer();\r\n                        // HttpConnection.stop() should not complete until after the onclose callback is invoked.\r\n                        // This will transition the HubConnection to the disconnected state before HttpConnection.stop() completes.\r\n                        return [4 /*yield*/, this.connection.stop(e_2)];\r\n                    case 6:\r\n                        // HttpConnection.stop() should not complete until after the onclose callback is invoked.\r\n                        // This will transition the HubConnection to the disconnected state before HttpConnection.stop() completes.\r\n                        _a.sent();\r\n                        throw e_2;\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /** Stops the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully terminated, or rejects with an error.\r\n     */\r\n    HubConnection.prototype.stop = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var startPromise, e_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        startPromise = this.startPromise;\r\n                        this.stopPromise = this.stopInternal();\r\n                        return [4 /*yield*/, this.stopPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        // Awaiting undefined continues immediately\r\n                        return [4 /*yield*/, startPromise];\r\n                    case 3:\r\n                        // Awaiting undefined continues immediately\r\n                        _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        e_3 = _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HubConnection.prototype.stopInternal = function (error) {\r\n        if (this.connectionState === HubConnectionState.Disconnected) {\r\n            this.logger.log(ILogger_1.LogLevel.Debug, \"Call to HubConnection.stop(\" + error + \") ignored because it is already in the disconnected state.\");\r\n            return Promise.resolve();\r\n        }\r\n        if (this.connectionState === HubConnectionState.Disconnecting) {\r\n            this.logger.log(ILogger_1.LogLevel.Debug, \"Call to HttpConnection.stop(\" + error + \") ignored because the connection is already in the disconnecting state.\");\r\n            return this.stopPromise;\r\n        }\r\n        this.connectionState = HubConnectionState.Disconnecting;\r\n        this.logger.log(ILogger_1.LogLevel.Debug, \"Stopping HubConnection.\");\r\n        if (this.reconnectDelayHandle) {\r\n            // We're in a reconnect delay which means the underlying connection is currently already stopped.\r\n            // Just clear the handle to stop the reconnect loop (which no one is waiting on thankfully) and\r\n            // fire the onclose callbacks.\r\n            this.logger.log(ILogger_1.LogLevel.Debug, \"Connection stopped during reconnect delay. Done reconnecting.\");\r\n            clearTimeout(this.reconnectDelayHandle);\r\n            this.reconnectDelayHandle = undefined;\r\n            this.completeClose();\r\n            return Promise.resolve();\r\n        }\r\n        this.cleanupTimeout();\r\n        this.cleanupPingTimer();\r\n        this.stopDuringStartError = error || new Error(\"The connection was stopped before the hub handshake could complete.\");\r\n        // HttpConnection.stop() should not complete until after either HttpConnection.start() fails\r\n        // or the onclose callback is invoked. The onclose callback will transition the HubConnection\r\n        // to the disconnected state if need be before HttpConnection.stop() completes.\r\n        return this.connection.stop(error);\r\n    };\r\n    /** Invokes a streaming hub method on the server using the specified name and arguments.\r\n     *\r\n     * @typeparam T The type of the items returned by the server.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {IStreamResult<T>} An object that yields results from the server as they are received.\r\n     */\r\n    HubConnection.prototype.stream = function (methodName) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var _a = this.replaceStreamingParams(args), streams = _a[0], streamIds = _a[1];\r\n        var invocationDescriptor = this.createStreamInvocation(methodName, args, streamIds);\r\n        var promiseQueue;\r\n        var subject = new Subject_1.Subject();\r\n        subject.cancelCallback = function () {\r\n            var cancelInvocation = _this.createCancelInvocation(invocationDescriptor.invocationId);\r\n            delete _this.callbacks[invocationDescriptor.invocationId];\r\n            return promiseQueue.then(function () {\r\n                return _this.sendWithProtocol(cancelInvocation);\r\n            });\r\n        };\r\n        this.callbacks[invocationDescriptor.invocationId] = function (invocationEvent, error) {\r\n            if (error) {\r\n                subject.error(error);\r\n                return;\r\n            }\r\n            else if (invocationEvent) {\r\n                // invocationEvent will not be null when an error is not passed to the callback\r\n                if (invocationEvent.type === IHubProtocol_1.MessageType.Completion) {\r\n                    if (invocationEvent.error) {\r\n                        subject.error(new Error(invocationEvent.error));\r\n                    }\r\n                    else {\r\n                        subject.complete();\r\n                    }\r\n                }\r\n                else {\r\n                    subject.next((invocationEvent.item));\r\n                }\r\n            }\r\n        };\r\n        promiseQueue = this.sendWithProtocol(invocationDescriptor)\r\n            .catch(function (e) {\r\n            subject.error(e);\r\n            delete _this.callbacks[invocationDescriptor.invocationId];\r\n        });\r\n        this.launchStreams(streams, promiseQueue);\r\n        return subject;\r\n    };\r\n    HubConnection.prototype.sendMessage = function (message) {\r\n        this.resetKeepAliveInterval();\r\n        return this.connection.send(message);\r\n    };\r\n    /**\r\n     * Sends a js object to the server.\r\n     * @param message The js object to serialize and send.\r\n     */\r\n    HubConnection.prototype.sendWithProtocol = function (message) {\r\n        return this.sendMessage(this.protocol.writeMessage(message));\r\n    };\r\n    /** Invokes a hub method on the server using the specified name and arguments. Does not wait for a response from the receiver.\r\n     *\r\n     * The Promise returned by this method resolves when the client has sent the invocation to the server. The server may still\r\n     * be processing the invocation.\r\n     *\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<void>} A Promise that resolves when the invocation has been successfully sent, or rejects with an error.\r\n     */\r\n    HubConnection.prototype.send = function (methodName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var _a = this.replaceStreamingParams(args), streams = _a[0], streamIds = _a[1];\r\n        var sendPromise = this.sendWithProtocol(this.createInvocation(methodName, args, true, streamIds));\r\n        this.launchStreams(streams, sendPromise);\r\n        return sendPromise;\r\n    };\r\n    /** Invokes a hub method on the server using the specified name and arguments.\r\n     *\r\n     * The Promise returned by this method resolves when the server indicates it has finished invoking the method. When the promise\r\n     * resolves, the server has finished invoking the method. If the server method returns a result, it is produced as the result of\r\n     * resolving the Promise.\r\n     *\r\n     * @typeparam T The expected return type.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<T>} A Promise that resolves with the result of the server method (if any), or rejects with an error.\r\n     */\r\n    HubConnection.prototype.invoke = function (methodName) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var _a = this.replaceStreamingParams(args), streams = _a[0], streamIds = _a[1];\r\n        var invocationDescriptor = this.createInvocation(methodName, args, false, streamIds);\r\n        var p = new Promise(function (resolve, reject) {\r\n            // invocationId will always have a value for a non-blocking invocation\r\n            _this.callbacks[invocationDescriptor.invocationId] = function (invocationEvent, error) {\r\n                if (error) {\r\n                    reject(error);\r\n                    return;\r\n                }\r\n                else if (invocationEvent) {\r\n                    // invocationEvent will not be null when an error is not passed to the callback\r\n                    if (invocationEvent.type === IHubProtocol_1.MessageType.Completion) {\r\n                        if (invocationEvent.error) {\r\n                            reject(new Error(invocationEvent.error));\r\n                        }\r\n                        else {\r\n                            resolve(invocationEvent.result);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(new Error(\"Unexpected message type: \" + invocationEvent.type));\r\n                    }\r\n                }\r\n            };\r\n            var promiseQueue = _this.sendWithProtocol(invocationDescriptor)\r\n                .catch(function (e) {\r\n                reject(e);\r\n                // invocationId will always have a value for a non-blocking invocation\r\n                delete _this.callbacks[invocationDescriptor.invocationId];\r\n            });\r\n            _this.launchStreams(streams, promiseQueue);\r\n        });\r\n        return p;\r\n    };\r\n    /** Registers a handler that will be invoked when the hub method with the specified method name is invoked.\r\n     *\r\n     * @param {string} methodName The name of the hub method to define.\r\n     * @param {Function} newMethod The handler that will be raised when the hub method is invoked.\r\n     */\r\n    HubConnection.prototype.on = function (methodName, newMethod) {\r\n        if (!methodName || !newMethod) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        if (!this.methods[methodName]) {\r\n            this.methods[methodName] = [];\r\n        }\r\n        // Preventing adding the same handler multiple times.\r\n        if (this.methods[methodName].indexOf(newMethod) !== -1) {\r\n            return;\r\n        }\r\n        this.methods[methodName].push(newMethod);\r\n    };\r\n    HubConnection.prototype.off = function (methodName, method) {\r\n        if (!methodName) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        var handlers = this.methods[methodName];\r\n        if (!handlers) {\r\n            return;\r\n        }\r\n        if (method) {\r\n            var removeIdx = handlers.indexOf(method);\r\n            if (removeIdx !== -1) {\r\n                handlers.splice(removeIdx, 1);\r\n                if (handlers.length === 0) {\r\n                    delete this.methods[methodName];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            delete this.methods[methodName];\r\n        }\r\n    };\r\n    /** Registers a handler that will be invoked when the connection is closed.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection is closed. Optionally receives a single argument containing the error that caused the connection to close (if any).\r\n     */\r\n    HubConnection.prototype.onclose = function (callback) {\r\n        if (callback) {\r\n            this.closedCallbacks.push(callback);\r\n        }\r\n    };\r\n    /** Registers a handler that will be invoked when the connection starts reconnecting.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection starts reconnecting. Optionally receives a single argument containing the error that caused the connection to start reconnecting (if any).\r\n     */\r\n    HubConnection.prototype.onreconnecting = function (callback) {\r\n        if (callback) {\r\n            this.reconnectingCallbacks.push(callback);\r\n        }\r\n    };\r\n    /** Registers a handler that will be invoked when the connection successfully reconnects.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection successfully reconnects.\r\n     */\r\n    HubConnection.prototype.onreconnected = function (callback) {\r\n        if (callback) {\r\n            this.reconnectedCallbacks.push(callback);\r\n        }\r\n    };\r\n    HubConnection.prototype.processIncomingData = function (data) {\r\n        this.cleanupTimeout();\r\n        if (!this.receivedHandshakeResponse) {\r\n            data = this.processHandshakeResponse(data);\r\n            this.receivedHandshakeResponse = true;\r\n        }\r\n        // Data may have all been read when processing handshake response\r\n        if (data) {\r\n            // Parse the messages\r\n            var messages = this.protocol.parseMessages(data, this.logger);\r\n            for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {\r\n                var message = messages_1[_i];\r\n                switch (message.type) {\r\n                    case IHubProtocol_1.MessageType.Invocation:\r\n                        this.invokeClientMethod(message);\r\n                        break;\r\n                    case IHubProtocol_1.MessageType.StreamItem:\r\n                    case IHubProtocol_1.MessageType.Completion:\r\n                        var callback = this.callbacks[message.invocationId];\r\n                        if (callback) {\r\n                            if (message.type === IHubProtocol_1.MessageType.Completion) {\r\n                                delete this.callbacks[message.invocationId];\r\n                            }\r\n                            callback(message);\r\n                        }\r\n                        break;\r\n                    case IHubProtocol_1.MessageType.Ping:\r\n                        // Don't care about pings\r\n                        break;\r\n                    case IHubProtocol_1.MessageType.Close:\r\n                        this.logger.log(ILogger_1.LogLevel.Information, \"Close message received from server.\");\r\n                        var error = message.error ? new Error(\"Server returned an error on close: \" + message.error) : undefined;\r\n                        if (message.allowReconnect === true) {\r\n                            // It feels wrong not to await connection.stop() here, but processIncomingData is called as part of an onreceive callback which is not async,\r\n                            // this is already the behavior for serverTimeout(), and HttpConnection.Stop() should catch and log all possible exceptions.\r\n                            // tslint:disable-next-line:no-floating-promises\r\n                            this.connection.stop(error);\r\n                        }\r\n                        else {\r\n                            // We cannot await stopInternal() here, but subsequent calls to stop() will await this if stopInternal() is still ongoing.\r\n                            this.stopPromise = this.stopInternal(error);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        this.logger.log(ILogger_1.LogLevel.Warning, \"Invalid message type: \" + message.type + \".\");\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        this.resetTimeoutPeriod();\r\n    };\r\n    HubConnection.prototype.processHandshakeResponse = function (data) {\r\n        var _a;\r\n        var responseMessage;\r\n        var remainingData;\r\n        try {\r\n            _a = this.handshakeProtocol.parseHandshakeResponse(data), remainingData = _a[0], responseMessage = _a[1];\r\n        }\r\n        catch (e) {\r\n            var message = \"Error parsing handshake response: \" + e;\r\n            this.logger.log(ILogger_1.LogLevel.Error, message);\r\n            var error = new Error(message);\r\n            this.handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        if (responseMessage.error) {\r\n            var message = \"Server returned handshake error: \" + responseMessage.error;\r\n            this.logger.log(ILogger_1.LogLevel.Error, message);\r\n            var error = new Error(message);\r\n            this.handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        else {\r\n            this.logger.log(ILogger_1.LogLevel.Debug, \"Server handshake complete.\");\r\n        }\r\n        this.handshakeResolver();\r\n        return remainingData;\r\n    };\r\n    HubConnection.prototype.resetKeepAliveInterval = function () {\r\n        var _this = this;\r\n        if (this.connection.features.inherentKeepAlive) {\r\n            return;\r\n        }\r\n        this.cleanupPingTimer();\r\n        this.pingServerHandle = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!(this.connectionState === HubConnectionState.Connected)) return [3 /*break*/, 4];\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.sendMessage(this.cachedPingMessage)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        // We don't care about the error. It should be seen elsewhere in the client.\r\n                        // The connection is probably in a bad or closed state now, cleanup the timer so it stops triggering\r\n                        this.cleanupPingTimer();\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); }, this.keepAliveIntervalInMilliseconds);\r\n    };\r\n    HubConnection.prototype.resetTimeoutPeriod = function () {\r\n        var _this = this;\r\n        if (!this.connection.features || !this.connection.features.inherentKeepAlive) {\r\n            // Set the timeout timer\r\n            this.timeoutHandle = setTimeout(function () { return _this.serverTimeout(); }, this.serverTimeoutInMilliseconds);\r\n        }\r\n    };\r\n    HubConnection.prototype.serverTimeout = function () {\r\n        // The server hasn't talked to us in a while. It doesn't like us anymore ... :(\r\n        // Terminate the connection, but we don't need to wait on the promise. This could trigger reconnecting.\r\n        // tslint:disable-next-line:no-floating-promises\r\n        this.connection.stop(new Error(\"Server timeout elapsed without receiving a message from the server.\"));\r\n    };\r\n    HubConnection.prototype.invokeClientMethod = function (invocationMessage) {\r\n        var _this = this;\r\n        var methods = this.methods[invocationMessage.target.toLowerCase()];\r\n        if (methods) {\r\n            try {\r\n                methods.forEach(function (m) { return m.apply(_this, invocationMessage.arguments); });\r\n            }\r\n            catch (e) {\r\n                this.logger.log(ILogger_1.LogLevel.Error, \"A callback for the method \" + invocationMessage.target.toLowerCase() + \" threw error '\" + e + \"'.\");\r\n            }\r\n            if (invocationMessage.invocationId) {\r\n                // This is not supported in v1. So we return an error to avoid blocking the server waiting for the response.\r\n                var message = \"Server requested a response, which is not supported in this version of the client.\";\r\n                this.logger.log(ILogger_1.LogLevel.Error, message);\r\n                // We don't want to wait on the stop itself.\r\n                this.stopPromise = this.stopInternal(new Error(message));\r\n            }\r\n        }\r\n        else {\r\n            this.logger.log(ILogger_1.LogLevel.Warning, \"No client method with the name '\" + invocationMessage.target + \"' found.\");\r\n        }\r\n    };\r\n    HubConnection.prototype.connectionClosed = function (error) {\r\n        this.logger.log(ILogger_1.LogLevel.Debug, \"HubConnection.connectionClosed(\" + error + \") called while in state \" + this.connectionState + \".\");\r\n        // Triggering this.handshakeRejecter is insufficient because it could already be resolved without the continuation having run yet.\r\n        this.stopDuringStartError = this.stopDuringStartError || error || new Error(\"The underlying connection was closed before the hub handshake could complete.\");\r\n        // If the handshake is in progress, start will be waiting for the handshake promise, so we complete it.\r\n        // If it has already completed, this should just noop.\r\n        if (this.handshakeResolver) {\r\n            this.handshakeResolver();\r\n        }\r\n        this.cancelCallbacksWithError(error || new Error(\"Invocation canceled due to the underlying connection being closed.\"));\r\n        this.cleanupTimeout();\r\n        this.cleanupPingTimer();\r\n        if (this.connectionState === HubConnectionState.Disconnecting) {\r\n            this.completeClose(error);\r\n        }\r\n        else if (this.connectionState === HubConnectionState.Connected && this.reconnectPolicy) {\r\n            // tslint:disable-next-line:no-floating-promises\r\n            this.reconnect(error);\r\n        }\r\n        else if (this.connectionState === HubConnectionState.Connected) {\r\n            this.completeClose(error);\r\n        }\r\n        // If none of the above if conditions were true were called the HubConnection must be in either:\r\n        // 1. The Connecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail it.\r\n        // 2. The Reconnecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail the current reconnect attempt\r\n        //    and potentially continue the reconnect() loop.\r\n        // 3. The Disconnected state in which case we're already done.\r\n    };\r\n    HubConnection.prototype.completeClose = function (error) {\r\n        var _this = this;\r\n        if (this.connectionStarted) {\r\n            this.connectionState = HubConnectionState.Disconnected;\r\n            this.connectionStarted = false;\r\n            try {\r\n                this.closedCallbacks.forEach(function (c) { return c.apply(_this, [error]); });\r\n            }\r\n            catch (e) {\r\n                this.logger.log(ILogger_1.LogLevel.Error, \"An onclose callback called with error '\" + error + \"' threw error '\" + e + \"'.\");\r\n            }\r\n        }\r\n    };\r\n    HubConnection.prototype.reconnect = function (error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var reconnectStartTime, previousReconnectAttempts, retryError, nextRetryDelay, e_4;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        reconnectStartTime = Date.now();\r\n                        previousReconnectAttempts = 0;\r\n                        retryError = error !== undefined ? error : new Error(\"Attempting to reconnect due to a unknown error.\");\r\n                        nextRetryDelay = this.getNextRetryDelay(previousReconnectAttempts++, 0, retryError);\r\n                        if (nextRetryDelay === null) {\r\n                            this.logger.log(ILogger_1.LogLevel.Debug, \"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt.\");\r\n                            this.completeClose(error);\r\n                            return [2 /*return*/];\r\n                        }\r\n                        this.connectionState = HubConnectionState.Reconnecting;\r\n                        if (error) {\r\n                            this.logger.log(ILogger_1.LogLevel.Information, \"Connection reconnecting because of error '\" + error + \"'.\");\r\n                        }\r\n                        else {\r\n                            this.logger.log(ILogger_1.LogLevel.Information, \"Connection reconnecting.\");\r\n                        }\r\n                        if (this.onreconnecting) {\r\n                            try {\r\n                                this.reconnectingCallbacks.forEach(function (c) { return c.apply(_this, [error]); });\r\n                            }\r\n                            catch (e) {\r\n                                this.logger.log(ILogger_1.LogLevel.Error, \"An onreconnecting callback called with error '\" + error + \"' threw error '\" + e + \"'.\");\r\n                            }\r\n                            // Exit early if an onreconnecting callback called connection.stop().\r\n                            if (this.connectionState !== HubConnectionState.Reconnecting) {\r\n                                this.logger.log(ILogger_1.LogLevel.Debug, \"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.\");\r\n                                return [2 /*return*/];\r\n                            }\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(nextRetryDelay !== null)) return [3 /*break*/, 7];\r\n                        this.logger.log(ILogger_1.LogLevel.Information, \"Reconnect attempt number \" + previousReconnectAttempts + \" will start in \" + nextRetryDelay + \" ms.\");\r\n                        return [4 /*yield*/, new Promise(function (resolve) {\r\n                                _this.reconnectDelayHandle = setTimeout(resolve, nextRetryDelay);\r\n                            })];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.reconnectDelayHandle = undefined;\r\n                        if (this.connectionState !== HubConnectionState.Reconnecting) {\r\n                            this.logger.log(ILogger_1.LogLevel.Debug, \"Connection left the reconnecting state during reconnect delay. Done reconnecting.\");\r\n                            return [2 /*return*/];\r\n                        }\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, this.startInternal()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        this.connectionState = HubConnectionState.Connected;\r\n                        this.logger.log(ILogger_1.LogLevel.Information, \"HubConnection reconnected successfully.\");\r\n                        if (this.onreconnected) {\r\n                            try {\r\n                                this.reconnectedCallbacks.forEach(function (c) { return c.apply(_this, [_this.connection.connectionId]); });\r\n                            }\r\n                            catch (e) {\r\n                                this.logger.log(ILogger_1.LogLevel.Error, \"An onreconnected callback called with connectionId '\" + this.connection.connectionId + \"; threw error '\" + e + \"'.\");\r\n                            }\r\n                        }\r\n                        return [2 /*return*/];\r\n                    case 5:\r\n                        e_4 = _a.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Information, \"Reconnect attempt failed because of error '\" + e_4 + \"'.\");\r\n                        if (this.connectionState !== HubConnectionState.Reconnecting) {\r\n                            this.logger.log(ILogger_1.LogLevel.Debug, \"Connection left the reconnecting state during reconnect attempt. Done reconnecting.\");\r\n                            return [2 /*return*/];\r\n                        }\r\n                        retryError = e_4 instanceof Error ? e_4 : new Error(e_4.toString());\r\n                        nextRetryDelay = this.getNextRetryDelay(previousReconnectAttempts++, Date.now() - reconnectStartTime, retryError);\r\n                        return [3 /*break*/, 6];\r\n                    case 6: return [3 /*break*/, 1];\r\n                    case 7:\r\n                        this.logger.log(ILogger_1.LogLevel.Information, \"Reconnect retries have been exhausted after \" + (Date.now() - reconnectStartTime) + \" ms and \" + previousReconnectAttempts + \" failed attempts. Connection disconnecting.\");\r\n                        this.completeClose();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HubConnection.prototype.getNextRetryDelay = function (previousRetryCount, elapsedMilliseconds, retryReason) {\r\n        try {\r\n            return this.reconnectPolicy.nextRetryDelayInMilliseconds({\r\n                elapsedMilliseconds: elapsedMilliseconds,\r\n                previousRetryCount: previousRetryCount,\r\n                retryReason: retryReason,\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.logger.log(ILogger_1.LogLevel.Error, \"IRetryPolicy.nextRetryDelayInMilliseconds(\" + previousRetryCount + \", \" + elapsedMilliseconds + \") threw error '\" + e + \"'.\");\r\n            return null;\r\n        }\r\n    };\r\n    HubConnection.prototype.cancelCallbacksWithError = function (error) {\r\n        var callbacks = this.callbacks;\r\n        this.callbacks = {};\r\n        Object.keys(callbacks)\r\n            .forEach(function (key) {\r\n            var callback = callbacks[key];\r\n            callback(null, error);\r\n        });\r\n    };\r\n    HubConnection.prototype.cleanupPingTimer = function () {\r\n        if (this.pingServerHandle) {\r\n            clearTimeout(this.pingServerHandle);\r\n        }\r\n    };\r\n    HubConnection.prototype.cleanupTimeout = function () {\r\n        if (this.timeoutHandle) {\r\n            clearTimeout(this.timeoutHandle);\r\n        }\r\n    };\r\n    HubConnection.prototype.createInvocation = function (methodName, args, nonblocking, streamIds) {\r\n        if (nonblocking) {\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    arguments: args,\r\n                    streamIds: streamIds,\r\n                    target: methodName,\r\n                    type: IHubProtocol_1.MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    arguments: args,\r\n                    target: methodName,\r\n                    type: IHubProtocol_1.MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n        else {\r\n            var invocationId = this.invocationId;\r\n            this.invocationId++;\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    streamIds: streamIds,\r\n                    target: methodName,\r\n                    type: IHubProtocol_1.MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    target: methodName,\r\n                    type: IHubProtocol_1.MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n    };\r\n    HubConnection.prototype.launchStreams = function (streams, promiseQueue) {\r\n        var _this = this;\r\n        if (streams.length === 0) {\r\n            return;\r\n        }\r\n        // Synchronize stream data so they arrive in-order on the server\r\n        if (!promiseQueue) {\r\n            promiseQueue = Promise.resolve();\r\n        }\r\n        var _loop_1 = function (streamId) {\r\n            streams[streamId].subscribe({\r\n                complete: function () {\r\n                    promiseQueue = promiseQueue.then(function () { return _this.sendWithProtocol(_this.createCompletionMessage(streamId)); });\r\n                },\r\n                error: function (err) {\r\n                    var message;\r\n                    if (err instanceof Error) {\r\n                        message = err.message;\r\n                    }\r\n                    else if (err && err.toString) {\r\n                        message = err.toString();\r\n                    }\r\n                    else {\r\n                        message = \"Unknown error\";\r\n                    }\r\n                    promiseQueue = promiseQueue.then(function () { return _this.sendWithProtocol(_this.createCompletionMessage(streamId, message)); });\r\n                },\r\n                next: function (item) {\r\n                    promiseQueue = promiseQueue.then(function () { return _this.sendWithProtocol(_this.createStreamItemMessage(streamId, item)); });\r\n                },\r\n            });\r\n        };\r\n        // We want to iterate over the keys, since the keys are the stream ids\r\n        // tslint:disable-next-line:forin\r\n        for (var streamId in streams) {\r\n            _loop_1(streamId);\r\n        }\r\n    };\r\n    HubConnection.prototype.replaceStreamingParams = function (args) {\r\n        var streams = [];\r\n        var streamIds = [];\r\n        for (var i = 0; i < args.length; i++) {\r\n            var argument = args[i];\r\n            if (this.isObservable(argument)) {\r\n                var streamId = this.invocationId;\r\n                this.invocationId++;\r\n                // Store the stream for later use\r\n                streams[streamId] = argument;\r\n                streamIds.push(streamId.toString());\r\n                // remove stream from args\r\n                args.splice(i, 1);\r\n            }\r\n        }\r\n        return [streams, streamIds];\r\n    };\r\n    HubConnection.prototype.isObservable = function (arg) {\r\n        // This allows other stream implementations to just work (like rxjs)\r\n        return arg && arg.subscribe && typeof arg.subscribe === \"function\";\r\n    };\r\n    HubConnection.prototype.createStreamInvocation = function (methodName, args, streamIds) {\r\n        var invocationId = this.invocationId;\r\n        this.invocationId++;\r\n        if (streamIds.length !== 0) {\r\n            return {\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                streamIds: streamIds,\r\n                target: methodName,\r\n                type: IHubProtocol_1.MessageType.StreamInvocation,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                target: methodName,\r\n                type: IHubProtocol_1.MessageType.StreamInvocation,\r\n            };\r\n        }\r\n    };\r\n    HubConnection.prototype.createCancelInvocation = function (id) {\r\n        return {\r\n            invocationId: id,\r\n            type: IHubProtocol_1.MessageType.CancelInvocation,\r\n        };\r\n    };\r\n    HubConnection.prototype.createStreamItemMessage = function (id, item) {\r\n        return {\r\n            invocationId: id,\r\n            item: item,\r\n            type: IHubProtocol_1.MessageType.StreamItem,\r\n        };\r\n    };\r\n    HubConnection.prototype.createCompletionMessage = function (id, error, result) {\r\n        if (error) {\r\n            return {\r\n                error: error,\r\n                invocationId: id,\r\n                type: IHubProtocol_1.MessageType.Completion,\r\n            };\r\n        }\r\n        return {\r\n            invocationId: id,\r\n            result: result,\r\n            type: IHubProtocol_1.MessageType.Completion,\r\n        };\r\n    };\r\n    return HubConnection;\r\n}());\r\nexports.HubConnection = HubConnection;\r\n//# sourceMappingURL=HubConnection.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DefaultReconnectPolicy_1 = require(\"./DefaultReconnectPolicy\");\r\nvar HttpConnection_1 = require(\"./HttpConnection\");\r\nvar HubConnection_1 = require(\"./HubConnection\");\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar JsonHubProtocol_1 = require(\"./JsonHubProtocol\");\r\nvar Loggers_1 = require(\"./Loggers\");\r\nvar Utils_1 = require(\"./Utils\");\r\n// tslint:disable:object-literal-sort-keys\r\nvar LogLevelNameMapping = {\r\n    trace: ILogger_1.LogLevel.Trace,\r\n    debug: ILogger_1.LogLevel.Debug,\r\n    info: ILogger_1.LogLevel.Information,\r\n    information: ILogger_1.LogLevel.Information,\r\n    warn: ILogger_1.LogLevel.Warning,\r\n    warning: ILogger_1.LogLevel.Warning,\r\n    error: ILogger_1.LogLevel.Error,\r\n    critical: ILogger_1.LogLevel.Critical,\r\n    none: ILogger_1.LogLevel.None,\r\n};\r\nfunction parseLogLevel(name) {\r\n    // Case-insensitive matching via lower-casing\r\n    // Yes, I know case-folding is a complicated problem in Unicode, but we only support\r\n    // the ASCII strings defined in LogLevelNameMapping anyway, so it's fine -anurse.\r\n    var mapping = LogLevelNameMapping[name.toLowerCase()];\r\n    if (typeof mapping !== \"undefined\") {\r\n        return mapping;\r\n    }\r\n    else {\r\n        throw new Error(\"Unknown log level: \" + name);\r\n    }\r\n}\r\n/** A builder for configuring {@link @microsoft/signalr.HubConnection} instances. */\r\nvar HubConnectionBuilder = /** @class */ (function () {\r\n    function HubConnectionBuilder() {\r\n    }\r\n    HubConnectionBuilder.prototype.configureLogging = function (logging) {\r\n        Utils_1.Arg.isRequired(logging, \"logging\");\r\n        if (isLogger(logging)) {\r\n            this.logger = logging;\r\n        }\r\n        else if (typeof logging === \"string\") {\r\n            var logLevel = parseLogLevel(logging);\r\n            this.logger = new Utils_1.ConsoleLogger(logLevel);\r\n        }\r\n        else {\r\n            this.logger = new Utils_1.ConsoleLogger(logging);\r\n        }\r\n        return this;\r\n    };\r\n    HubConnectionBuilder.prototype.withUrl = function (url, transportTypeOrOptions) {\r\n        Utils_1.Arg.isRequired(url, \"url\");\r\n        Utils_1.Arg.isNotEmpty(url, \"url\");\r\n        this.url = url;\r\n        // Flow-typing knows where it's at. Since HttpTransportType is a number and IHttpConnectionOptions is guaranteed\r\n        // to be an object, we know (as does TypeScript) this comparison is all we need to figure out which overload was called.\r\n        if (typeof transportTypeOrOptions === \"object\") {\r\n            this.httpConnectionOptions = __assign({}, this.httpConnectionOptions, transportTypeOrOptions);\r\n        }\r\n        else {\r\n            this.httpConnectionOptions = __assign({}, this.httpConnectionOptions, { transport: transportTypeOrOptions });\r\n        }\r\n        return this;\r\n    };\r\n    /** Configures the {@link @microsoft/signalr.HubConnection} to use the specified Hub Protocol.\r\n     *\r\n     * @param {IHubProtocol} protocol The {@link @microsoft/signalr.IHubProtocol} implementation to use.\r\n     */\r\n    HubConnectionBuilder.prototype.withHubProtocol = function (protocol) {\r\n        Utils_1.Arg.isRequired(protocol, \"protocol\");\r\n        this.protocol = protocol;\r\n        return this;\r\n    };\r\n    HubConnectionBuilder.prototype.withAutomaticReconnect = function (retryDelaysOrReconnectPolicy) {\r\n        if (this.reconnectPolicy) {\r\n            throw new Error(\"A reconnectPolicy has already been set.\");\r\n        }\r\n        if (!retryDelaysOrReconnectPolicy) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy_1.DefaultReconnectPolicy();\r\n        }\r\n        else if (Array.isArray(retryDelaysOrReconnectPolicy)) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy_1.DefaultReconnectPolicy(retryDelaysOrReconnectPolicy);\r\n        }\r\n        else {\r\n            this.reconnectPolicy = retryDelaysOrReconnectPolicy;\r\n        }\r\n        return this;\r\n    };\r\n    /** Creates a {@link @microsoft/signalr.HubConnection} from the configuration options specified in this builder.\r\n     *\r\n     * @returns {HubConnection} The configured {@link @microsoft/signalr.HubConnection}.\r\n     */\r\n    HubConnectionBuilder.prototype.build = function () {\r\n        // If httpConnectionOptions has a logger, use it. Otherwise, override it with the one\r\n        // provided to configureLogger\r\n        var httpConnectionOptions = this.httpConnectionOptions || {};\r\n        // If it's 'null', the user **explicitly** asked for null, don't mess with it.\r\n        if (httpConnectionOptions.logger === undefined) {\r\n            // If our logger is undefined or null, that's OK, the HttpConnection constructor will handle it.\r\n            httpConnectionOptions.logger = this.logger;\r\n        }\r\n        // Now create the connection\r\n        if (!this.url) {\r\n            throw new Error(\"The 'HubConnectionBuilder.withUrl' method must be called before building the connection.\");\r\n        }\r\n        var connection = new HttpConnection_1.HttpConnection(this.url, httpConnectionOptions);\r\n        return HubConnection_1.HubConnection.create(connection, this.logger || Loggers_1.NullLogger.instance, this.protocol || new JsonHubProtocol_1.JsonHubProtocol(), this.reconnectPolicy);\r\n    };\r\n    return HubConnectionBuilder;\r\n}());\r\nexports.HubConnectionBuilder = HubConnectionBuilder;\r\nfunction isLogger(logger) {\r\n    return logger.log !== undefined;\r\n}\r\n//# sourceMappingURL=HubConnectionBuilder.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** Defines the type of a Hub Message. */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /** Indicates the message is an Invocation message and implements the {@link @microsoft/signalr.InvocationMessage} interface. */\r\n    MessageType[MessageType[\"Invocation\"] = 1] = \"Invocation\";\r\n    /** Indicates the message is a StreamItem message and implements the {@link @microsoft/signalr.StreamItemMessage} interface. */\r\n    MessageType[MessageType[\"StreamItem\"] = 2] = \"StreamItem\";\r\n    /** Indicates the message is a Completion message and implements the {@link @microsoft/signalr.CompletionMessage} interface. */\r\n    MessageType[MessageType[\"Completion\"] = 3] = \"Completion\";\r\n    /** Indicates the message is a Stream Invocation message and implements the {@link @microsoft/signalr.StreamInvocationMessage} interface. */\r\n    MessageType[MessageType[\"StreamInvocation\"] = 4] = \"StreamInvocation\";\r\n    /** Indicates the message is a Cancel Invocation message and implements the {@link @microsoft/signalr.CancelInvocationMessage} interface. */\r\n    MessageType[MessageType[\"CancelInvocation\"] = 5] = \"CancelInvocation\";\r\n    /** Indicates the message is a Ping message and implements the {@link @microsoft/signalr.PingMessage} interface. */\r\n    MessageType[MessageType[\"Ping\"] = 6] = \"Ping\";\r\n    /** Indicates the message is a Close message and implements the {@link @microsoft/signalr.CloseMessage} interface. */\r\n    MessageType[MessageType[\"Close\"] = 7] = \"Close\";\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n//# sourceMappingURL=IHubProtocol.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// These values are designed to match the ASP.NET Log Levels since that's the pattern we're emulating here.\r\n/** Indicates the severity of a log message.\r\n *\r\n * Log Levels are ordered in increasing severity. So `Debug` is more severe than `Trace`, etc.\r\n */\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    /** Log level for very low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\r\n    /** Log level for low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\r\n    /** Log level for informational diagnostic messages. */\r\n    LogLevel[LogLevel[\"Information\"] = 2] = \"Information\";\r\n    /** Log level for diagnostic messages that indicate a non-fatal problem. */\r\n    LogLevel[LogLevel[\"Warning\"] = 3] = \"Warning\";\r\n    /** Log level for diagnostic messages that indicate a failure in the current operation. */\r\n    LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\r\n    /** Log level for diagnostic messages that indicate a failure that will terminate the entire application. */\r\n    LogLevel[LogLevel[\"Critical\"] = 5] = \"Critical\";\r\n    /** The highest possible log level. Used when configuring logging to indicate that no log messages should be emitted. */\r\n    LogLevel[LogLevel[\"None\"] = 6] = \"None\";\r\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\r\n//# sourceMappingURL=ILogger.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// This will be treated as a bit flag in the future, so we keep it using power-of-two values.\r\n/** Specifies a specific HTTP transport type. */\r\nvar HttpTransportType;\r\n(function (HttpTransportType) {\r\n    /** Specifies no transport preference. */\r\n    HttpTransportType[HttpTransportType[\"None\"] = 0] = \"None\";\r\n    /** Specifies the WebSockets transport. */\r\n    HttpTransportType[HttpTransportType[\"WebSockets\"] = 1] = \"WebSockets\";\r\n    /** Specifies the Server-Sent Events transport. */\r\n    HttpTransportType[HttpTransportType[\"ServerSentEvents\"] = 2] = \"ServerSentEvents\";\r\n    /** Specifies the Long Polling transport. */\r\n    HttpTransportType[HttpTransportType[\"LongPolling\"] = 4] = \"LongPolling\";\r\n})(HttpTransportType = exports.HttpTransportType || (exports.HttpTransportType = {}));\r\n/** Specifies the transfer format for a connection. */\r\nvar TransferFormat;\r\n(function (TransferFormat) {\r\n    /** Specifies that only text data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Text\"] = 1] = \"Text\";\r\n    /** Specifies that binary data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Binary\"] = 2] = \"Binary\";\r\n})(TransferFormat = exports.TransferFormat || (exports.TransferFormat = {}));\r\n//# sourceMappingURL=ITransport.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar IHubProtocol_1 = require(\"./IHubProtocol\");\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar ITransport_1 = require(\"./ITransport\");\r\nvar Loggers_1 = require(\"./Loggers\");\r\nvar TextMessageFormat_1 = require(\"./TextMessageFormat\");\r\nvar JSON_HUB_PROTOCOL_NAME = \"json\";\r\n/** Implements the JSON Hub Protocol. */\r\nvar JsonHubProtocol = /** @class */ (function () {\r\n    function JsonHubProtocol() {\r\n        /** @inheritDoc */\r\n        this.name = JSON_HUB_PROTOCOL_NAME;\r\n        /** @inheritDoc */\r\n        this.version = 1;\r\n        /** @inheritDoc */\r\n        this.transferFormat = ITransport_1.TransferFormat.Text;\r\n    }\r\n    /** Creates an array of {@link @microsoft/signalr.HubMessage} objects from the specified serialized representation.\r\n     *\r\n     * @param {string} input A string containing the serialized representation.\r\n     * @param {ILogger} logger A logger that will be used to log messages that occur during parsing.\r\n     */\r\n    JsonHubProtocol.prototype.parseMessages = function (input, logger) {\r\n        // The interface does allow \"ArrayBuffer\" to be passed in, but this implementation does not. So let's throw a useful error.\r\n        if (typeof input !== \"string\") {\r\n            throw new Error(\"Invalid input for JSON hub protocol. Expected a string.\");\r\n        }\r\n        if (!input) {\r\n            return [];\r\n        }\r\n        if (logger === null) {\r\n            logger = Loggers_1.NullLogger.instance;\r\n        }\r\n        // Parse the messages\r\n        var messages = TextMessageFormat_1.TextMessageFormat.parse(input);\r\n        var hubMessages = [];\r\n        for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {\r\n            var message = messages_1[_i];\r\n            var parsedMessage = JSON.parse(message);\r\n            if (typeof parsedMessage.type !== \"number\") {\r\n                throw new Error(\"Invalid payload.\");\r\n            }\r\n            switch (parsedMessage.type) {\r\n                case IHubProtocol_1.MessageType.Invocation:\r\n                    this.isInvocationMessage(parsedMessage);\r\n                    break;\r\n                case IHubProtocol_1.MessageType.StreamItem:\r\n                    this.isStreamItemMessage(parsedMessage);\r\n                    break;\r\n                case IHubProtocol_1.MessageType.Completion:\r\n                    this.isCompletionMessage(parsedMessage);\r\n                    break;\r\n                case IHubProtocol_1.MessageType.Ping:\r\n                    // Single value, no need to validate\r\n                    break;\r\n                case IHubProtocol_1.MessageType.Close:\r\n                    // All optional values, no need to validate\r\n                    break;\r\n                default:\r\n                    // Future protocol changes can add message types, old clients can ignore them\r\n                    logger.log(ILogger_1.LogLevel.Information, \"Unknown message type '\" + parsedMessage.type + \"' ignored.\");\r\n                    continue;\r\n            }\r\n            hubMessages.push(parsedMessage);\r\n        }\r\n        return hubMessages;\r\n    };\r\n    /** Writes the specified {@link @microsoft/signalr.HubMessage} to a string and returns it.\r\n     *\r\n     * @param {HubMessage} message The message to write.\r\n     * @returns {string} A string containing the serialized representation of the message.\r\n     */\r\n    JsonHubProtocol.prototype.writeMessage = function (message) {\r\n        return TextMessageFormat_1.TextMessageFormat.write(JSON.stringify(message));\r\n    };\r\n    JsonHubProtocol.prototype.isInvocationMessage = function (message) {\r\n        this.assertNotEmptyString(message.target, \"Invalid payload for Invocation message.\");\r\n        if (message.invocationId !== undefined) {\r\n            this.assertNotEmptyString(message.invocationId, \"Invalid payload for Invocation message.\");\r\n        }\r\n    };\r\n    JsonHubProtocol.prototype.isStreamItemMessage = function (message) {\r\n        this.assertNotEmptyString(message.invocationId, \"Invalid payload for StreamItem message.\");\r\n        if (message.item === undefined) {\r\n            throw new Error(\"Invalid payload for StreamItem message.\");\r\n        }\r\n    };\r\n    JsonHubProtocol.prototype.isCompletionMessage = function (message) {\r\n        if (message.result && message.error) {\r\n            throw new Error(\"Invalid payload for Completion message.\");\r\n        }\r\n        if (!message.result && message.error) {\r\n            this.assertNotEmptyString(message.error, \"Invalid payload for Completion message.\");\r\n        }\r\n        this.assertNotEmptyString(message.invocationId, \"Invalid payload for Completion message.\");\r\n    };\r\n    JsonHubProtocol.prototype.assertNotEmptyString = function (value, errorMessage) {\r\n        if (typeof value !== \"string\" || value === \"\") {\r\n            throw new Error(errorMessage);\r\n        }\r\n    };\r\n    return JsonHubProtocol;\r\n}());\r\nexports.JsonHubProtocol = JsonHubProtocol;\r\n//# sourceMappingURL=JsonHubProtocol.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** A logger that does nothing when log messages are sent to it. */\r\nvar NullLogger = /** @class */ (function () {\r\n    function NullLogger() {\r\n    }\r\n    /** @inheritDoc */\r\n    // tslint:disable-next-line\r\n    NullLogger.prototype.log = function (_logLevel, _message) {\r\n    };\r\n    /** The singleton instance of the {@link @microsoft/signalr.NullLogger}. */\r\n    NullLogger.instance = new NullLogger();\r\n    return NullLogger;\r\n}());\r\nexports.NullLogger = NullLogger;\r\n//# sourceMappingURL=Loggers.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbortController_1 = require(\"./AbortController\");\r\nvar Errors_1 = require(\"./Errors\");\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar ITransport_1 = require(\"./ITransport\");\r\nvar Utils_1 = require(\"./Utils\");\r\n// Not exported from 'index', this type is internal.\r\n/** @private */\r\nvar LongPollingTransport = /** @class */ (function () {\r\n    function LongPollingTransport(httpClient, accessTokenFactory, logger, logMessageContent, withCredentials, headers) {\r\n        this.httpClient = httpClient;\r\n        this.accessTokenFactory = accessTokenFactory;\r\n        this.logger = logger;\r\n        this.pollAbort = new AbortController_1.AbortController();\r\n        this.logMessageContent = logMessageContent;\r\n        this.withCredentials = withCredentials;\r\n        this.headers = headers;\r\n        this.running = false;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    Object.defineProperty(LongPollingTransport.prototype, \"pollAborted\", {\r\n        // This is an internal type, not exported from 'index' so this is really just internal.\r\n        get: function () {\r\n            return this.pollAbort.aborted;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LongPollingTransport.prototype.connect = function (url, transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, _b, name, value, headers, pollOptions, token, pollUrl, response;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        Utils_1.Arg.isRequired(url, \"url\");\r\n                        Utils_1.Arg.isRequired(transferFormat, \"transferFormat\");\r\n                        Utils_1.Arg.isIn(transferFormat, ITransport_1.TransferFormat, \"transferFormat\");\r\n                        this.url = url;\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) Connecting.\");\r\n                        // Allow binary format on Node and Browsers that support binary content (indicated by the presence of responseType property)\r\n                        if (transferFormat === ITransport_1.TransferFormat.Binary &&\r\n                            (typeof XMLHttpRequest !== \"undefined\" && typeof new XMLHttpRequest().responseType !== \"string\")) {\r\n                            throw new Error(\"Binary protocols over XmlHttpRequest not implementing advanced features are not supported.\");\r\n                        }\r\n                        _b = Utils_1.getUserAgentHeader(), name = _b[0], value = _b[1];\r\n                        headers = __assign((_a = {}, _a[name] = value, _a), this.headers);\r\n                        pollOptions = {\r\n                            abortSignal: this.pollAbort.signal,\r\n                            headers: headers,\r\n                            timeout: 100000,\r\n                            withCredentials: this.withCredentials,\r\n                        };\r\n                        if (transferFormat === ITransport_1.TransferFormat.Binary) {\r\n                            pollOptions.responseType = \"arraybuffer\";\r\n                        }\r\n                        return [4 /*yield*/, this.getAccessToken()];\r\n                    case 1:\r\n                        token = _c.sent();\r\n                        this.updateHeaderToken(pollOptions, token);\r\n                        pollUrl = url + \"&_=\" + Date.now();\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) polling: \" + pollUrl + \".\");\r\n                        return [4 /*yield*/, this.httpClient.get(pollUrl, pollOptions)];\r\n                    case 2:\r\n                        response = _c.sent();\r\n                        if (response.statusCode !== 200) {\r\n                            this.logger.log(ILogger_1.LogLevel.Error, \"(LongPolling transport) Unexpected response code: \" + response.statusCode + \".\");\r\n                            // Mark running as false so that the poll immediately ends and runs the close logic\r\n                            this.closeError = new Errors_1.HttpError(response.statusText || \"\", response.statusCode);\r\n                            this.running = false;\r\n                        }\r\n                        else {\r\n                            this.running = true;\r\n                        }\r\n                        this.receiving = this.poll(this.url, pollOptions);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.getAccessToken = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2: return [2 /*return*/, null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.updateHeaderToken = function (request, token) {\r\n        if (!request.headers) {\r\n            request.headers = {};\r\n        }\r\n        if (token) {\r\n            // tslint:disable-next-line:no-string-literal\r\n            request.headers[\"Authorization\"] = \"Bearer \" + token;\r\n            return;\r\n        }\r\n        // tslint:disable-next-line:no-string-literal\r\n        if (request.headers[\"Authorization\"]) {\r\n            // tslint:disable-next-line:no-string-literal\r\n            delete request.headers[\"Authorization\"];\r\n        }\r\n    };\r\n    LongPollingTransport.prototype.poll = function (url, pollOptions) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token, pollUrl, response, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, , 8, 9]);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!this.running) return [3 /*break*/, 7];\r\n                        return [4 /*yield*/, this.getAccessToken()];\r\n                    case 2:\r\n                        token = _a.sent();\r\n                        this.updateHeaderToken(pollOptions, token);\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        pollUrl = url + \"&_=\" + Date.now();\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) polling: \" + pollUrl + \".\");\r\n                        return [4 /*yield*/, this.httpClient.get(pollUrl, pollOptions)];\r\n                    case 4:\r\n                        response = _a.sent();\r\n                        if (response.statusCode === 204) {\r\n                            this.logger.log(ILogger_1.LogLevel.Information, \"(LongPolling transport) Poll terminated by server.\");\r\n                            this.running = false;\r\n                        }\r\n                        else if (response.statusCode !== 200) {\r\n                            this.logger.log(ILogger_1.LogLevel.Error, \"(LongPolling transport) Unexpected response code: \" + response.statusCode + \".\");\r\n                            // Unexpected status code\r\n                            this.closeError = new Errors_1.HttpError(response.statusText || \"\", response.statusCode);\r\n                            this.running = false;\r\n                        }\r\n                        else {\r\n                            // Process the response\r\n                            if (response.content) {\r\n                                this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) data received. \" + Utils_1.getDataDetail(response.content, this.logMessageContent) + \".\");\r\n                                if (this.onreceive) {\r\n                                    this.onreceive(response.content);\r\n                                }\r\n                            }\r\n                            else {\r\n                                // This is another way timeout manifest.\r\n                                this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                            }\r\n                        }\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        e_1 = _a.sent();\r\n                        if (!this.running) {\r\n                            // Log but disregard errors that occur after stopping\r\n                            this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) Poll errored after shutdown: \" + e_1.message);\r\n                        }\r\n                        else {\r\n                            if (e_1 instanceof Errors_1.TimeoutError) {\r\n                                // Ignore timeouts and reissue the poll.\r\n                                this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                            }\r\n                            else {\r\n                                // Close the connection with the error as the result.\r\n                                this.closeError = e_1;\r\n                                this.running = false;\r\n                            }\r\n                        }\r\n                        return [3 /*break*/, 6];\r\n                    case 6: return [3 /*break*/, 1];\r\n                    case 7: return [3 /*break*/, 9];\r\n                    case 8:\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) Polling complete.\");\r\n                        // We will reach here with pollAborted==false when the server returned a response causing the transport to stop.\r\n                        // If pollAborted==true then client initiated the stop and the stop method will raise the close event after DELETE is sent.\r\n                        if (!this.pollAborted) {\r\n                            this.raiseOnClose();\r\n                        }\r\n                        return [7 /*endfinally*/];\r\n                    case 9: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.send = function (data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.running) {\r\n                    return [2 /*return*/, Promise.reject(new Error(\"Cannot send until the transport is connected\"))];\r\n                }\r\n                return [2 /*return*/, Utils_1.sendMessage(this.logger, \"LongPolling\", this.httpClient, this.url, this.accessTokenFactory, data, this.logMessageContent, this.withCredentials, this.headers)];\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.stop = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var headers, _a, name_1, value, deleteOptions, token;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) Stopping polling.\");\r\n                        // Tell receiving loop to stop, abort any current request, and then wait for it to finish\r\n                        this.running = false;\r\n                        this.pollAbort.abort();\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, , 5, 6]);\r\n                        return [4 /*yield*/, this.receiving];\r\n                    case 2:\r\n                        _b.sent();\r\n                        // Send DELETE to clean up long polling on the server\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) sending DELETE request to \" + this.url + \".\");\r\n                        headers = {};\r\n                        _a = Utils_1.getUserAgentHeader(), name_1 = _a[0], value = _a[1];\r\n                        headers[name_1] = value;\r\n                        deleteOptions = {\r\n                            headers: __assign({}, headers, this.headers),\r\n                            withCredentials: this.withCredentials,\r\n                        };\r\n                        return [4 /*yield*/, this.getAccessToken()];\r\n                    case 3:\r\n                        token = _b.sent();\r\n                        this.updateHeaderToken(deleteOptions, token);\r\n                        return [4 /*yield*/, this.httpClient.delete(this.url, deleteOptions)];\r\n                    case 4:\r\n                        _b.sent();\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) DELETE request sent.\");\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(LongPolling transport) Stop finished.\");\r\n                        // Raise close event here instead of in polling\r\n                        // It needs to happen after the DELETE request is sent\r\n                        this.raiseOnClose();\r\n                        return [7 /*endfinally*/];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.raiseOnClose = function () {\r\n        if (this.onclose) {\r\n            var logMessage = \"(LongPolling transport) Firing onclose event.\";\r\n            if (this.closeError) {\r\n                logMessage += \" Error: \" + this.closeError;\r\n            }\r\n            this.logger.log(ILogger_1.LogLevel.Trace, logMessage);\r\n            this.onclose(this.closeError);\r\n        }\r\n    };\r\n    return LongPollingTransport;\r\n}());\r\nexports.LongPollingTransport = LongPollingTransport;\r\n//# sourceMappingURL=LongPollingTransport.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar ITransport_1 = require(\"./ITransport\");\r\nvar Utils_1 = require(\"./Utils\");\r\n/** @private */\r\nvar ServerSentEventsTransport = /** @class */ (function () {\r\n    function ServerSentEventsTransport(httpClient, accessTokenFactory, logger, logMessageContent, eventSourceConstructor, withCredentials, headers) {\r\n        this.httpClient = httpClient;\r\n        this.accessTokenFactory = accessTokenFactory;\r\n        this.logger = logger;\r\n        this.logMessageContent = logMessageContent;\r\n        this.withCredentials = withCredentials;\r\n        this.eventSourceConstructor = eventSourceConstructor;\r\n        this.headers = headers;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    ServerSentEventsTransport.prototype.connect = function (url, transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Utils_1.Arg.isRequired(url, \"url\");\r\n                        Utils_1.Arg.isRequired(transferFormat, \"transferFormat\");\r\n                        Utils_1.Arg.isIn(transferFormat, ITransport_1.TransferFormat, \"transferFormat\");\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(SSE transport) Connecting.\");\r\n                        // set url before accessTokenFactory because this.url is only for send and we set the auth header instead of the query string for send\r\n                        this.url = url;\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1:\r\n                        token = _a.sent();\r\n                        if (token) {\r\n                            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + (\"access_token=\" + encodeURIComponent(token));\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                            var opened = false;\r\n                            if (transferFormat !== ITransport_1.TransferFormat.Text) {\r\n                                reject(new Error(\"The Server-Sent Events transport only supports the 'Text' transfer format\"));\r\n                                return;\r\n                            }\r\n                            var eventSource;\r\n                            if (Utils_1.Platform.isBrowser || Utils_1.Platform.isWebWorker) {\r\n                                eventSource = new _this.eventSourceConstructor(url, { withCredentials: _this.withCredentials });\r\n                            }\r\n                            else {\r\n                                // Non-browser passes cookies via the dictionary\r\n                                var cookies = _this.httpClient.getCookieString(url);\r\n                                var headers = {};\r\n                                headers.Cookie = cookies;\r\n                                var _a = Utils_1.getUserAgentHeader(), name_1 = _a[0], value = _a[1];\r\n                                headers[name_1] = value;\r\n                                eventSource = new _this.eventSourceConstructor(url, { withCredentials: _this.withCredentials, headers: __assign({}, headers, _this.headers) });\r\n                            }\r\n                            try {\r\n                                eventSource.onmessage = function (e) {\r\n                                    if (_this.onreceive) {\r\n                                        try {\r\n                                            _this.logger.log(ILogger_1.LogLevel.Trace, \"(SSE transport) data received. \" + Utils_1.getDataDetail(e.data, _this.logMessageContent) + \".\");\r\n                                            _this.onreceive(e.data);\r\n                                        }\r\n                                        catch (error) {\r\n                                            _this.close(error);\r\n                                            return;\r\n                                        }\r\n                                    }\r\n                                };\r\n                                eventSource.onerror = function (e) {\r\n                                    var error = new Error(e.data || \"Error occurred\");\r\n                                    if (opened) {\r\n                                        _this.close(error);\r\n                                    }\r\n                                    else {\r\n                                        reject(error);\r\n                                    }\r\n                                };\r\n                                eventSource.onopen = function () {\r\n                                    _this.logger.log(ILogger_1.LogLevel.Information, \"SSE connected to \" + _this.url);\r\n                                    _this.eventSource = eventSource;\r\n                                    opened = true;\r\n                                    resolve();\r\n                                };\r\n                            }\r\n                            catch (e) {\r\n                                reject(e);\r\n                                return;\r\n                            }\r\n                        })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerSentEventsTransport.prototype.send = function (data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.eventSource) {\r\n                    return [2 /*return*/, Promise.reject(new Error(\"Cannot send until the transport is connected\"))];\r\n                }\r\n                return [2 /*return*/, Utils_1.sendMessage(this.logger, \"SSE\", this.httpClient, this.url, this.accessTokenFactory, data, this.logMessageContent, this.withCredentials, this.headers)];\r\n            });\r\n        });\r\n    };\r\n    ServerSentEventsTransport.prototype.stop = function () {\r\n        this.close();\r\n        return Promise.resolve();\r\n    };\r\n    ServerSentEventsTransport.prototype.close = function (e) {\r\n        if (this.eventSource) {\r\n            this.eventSource.close();\r\n            this.eventSource = undefined;\r\n            if (this.onclose) {\r\n                this.onclose(e);\r\n            }\r\n        }\r\n    };\r\n    return ServerSentEventsTransport;\r\n}());\r\nexports.ServerSentEventsTransport = ServerSentEventsTransport;\r\n//# sourceMappingURL=ServerSentEventsTransport.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = require(\"./Utils\");\r\n/** Stream implementation to stream items to the server. */\r\nvar Subject = /** @class */ (function () {\r\n    function Subject() {\r\n        this.observers = [];\r\n    }\r\n    Subject.prototype.next = function (item) {\r\n        for (var _i = 0, _a = this.observers; _i < _a.length; _i++) {\r\n            var observer = _a[_i];\r\n            observer.next(item);\r\n        }\r\n    };\r\n    Subject.prototype.error = function (err) {\r\n        for (var _i = 0, _a = this.observers; _i < _a.length; _i++) {\r\n            var observer = _a[_i];\r\n            if (observer.error) {\r\n                observer.error(err);\r\n            }\r\n        }\r\n    };\r\n    Subject.prototype.complete = function () {\r\n        for (var _i = 0, _a = this.observers; _i < _a.length; _i++) {\r\n            var observer = _a[_i];\r\n            if (observer.complete) {\r\n                observer.complete();\r\n            }\r\n        }\r\n    };\r\n    Subject.prototype.subscribe = function (observer) {\r\n        this.observers.push(observer);\r\n        return new Utils_1.SubjectSubscription(this, observer);\r\n    };\r\n    return Subject;\r\n}());\r\nexports.Subject = Subject;\r\n//# sourceMappingURL=Subject.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Not exported from index\r\n/** @private */\r\nvar TextMessageFormat = /** @class */ (function () {\r\n    function TextMessageFormat() {\r\n    }\r\n    TextMessageFormat.write = function (output) {\r\n        return \"\" + output + TextMessageFormat.RecordSeparator;\r\n    };\r\n    TextMessageFormat.parse = function (input) {\r\n        if (input[input.length - 1] !== TextMessageFormat.RecordSeparator) {\r\n            throw new Error(\"Message is incomplete.\");\r\n        }\r\n        var messages = input.split(TextMessageFormat.RecordSeparator);\r\n        messages.pop();\r\n        return messages;\r\n    };\r\n    TextMessageFormat.RecordSeparatorCode = 0x1e;\r\n    TextMessageFormat.RecordSeparator = String.fromCharCode(TextMessageFormat.RecordSeparatorCode);\r\n    return TextMessageFormat;\r\n}());\r\nexports.TextMessageFormat = TextMessageFormat;\r\n//# sourceMappingURL=TextMessageFormat.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar Loggers_1 = require(\"./Loggers\");\r\n// Version token that will be replaced by the prepack command\r\n/** The version of the SignalR client. */\r\nexports.VERSION = \"5.0.0\";\r\n/** @private */\r\nvar Arg = /** @class */ (function () {\r\n    function Arg() {\r\n    }\r\n    Arg.isRequired = function (val, name) {\r\n        if (val === null || val === undefined) {\r\n            throw new Error(\"The '\" + name + \"' argument is required.\");\r\n        }\r\n    };\r\n    Arg.isNotEmpty = function (val, name) {\r\n        if (!val || val.match(/^\\s*$/)) {\r\n            throw new Error(\"The '\" + name + \"' argument should not be empty.\");\r\n        }\r\n    };\r\n    Arg.isIn = function (val, values, name) {\r\n        // TypeScript enums have keys for **both** the name and the value of each enum member on the type itself.\r\n        if (!(val in values)) {\r\n            throw new Error(\"Unknown \" + name + \" value: \" + val + \".\");\r\n        }\r\n    };\r\n    return Arg;\r\n}());\r\nexports.Arg = Arg;\r\n/** @private */\r\nvar Platform = /** @class */ (function () {\r\n    function Platform() {\r\n    }\r\n    Object.defineProperty(Platform, \"isBrowser\", {\r\n        get: function () {\r\n            return typeof window === \"object\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"isWebWorker\", {\r\n        get: function () {\r\n            return typeof self === \"object\" && \"importScripts\" in self;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"isNode\", {\r\n        get: function () {\r\n            return !this.isBrowser && !this.isWebWorker;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Platform;\r\n}());\r\nexports.Platform = Platform;\r\n/** @private */\r\nfunction getDataDetail(data, includeContent) {\r\n    var detail = \"\";\r\n    if (isArrayBuffer(data)) {\r\n        detail = \"Binary data of length \" + data.byteLength;\r\n        if (includeContent) {\r\n            detail += \". Content: '\" + formatArrayBuffer(data) + \"'\";\r\n        }\r\n    }\r\n    else if (typeof data === \"string\") {\r\n        detail = \"String data of length \" + data.length;\r\n        if (includeContent) {\r\n            detail += \". Content: '\" + data + \"'\";\r\n        }\r\n    }\r\n    return detail;\r\n}\r\nexports.getDataDetail = getDataDetail;\r\n/** @private */\r\nfunction formatArrayBuffer(data) {\r\n    var view = new Uint8Array(data);\r\n    // Uint8Array.map only supports returning another Uint8Array?\r\n    var str = \"\";\r\n    view.forEach(function (num) {\r\n        var pad = num < 16 ? \"0\" : \"\";\r\n        str += \"0x\" + pad + num.toString(16) + \" \";\r\n    });\r\n    // Trim of trailing space.\r\n    return str.substr(0, str.length - 1);\r\n}\r\nexports.formatArrayBuffer = formatArrayBuffer;\r\n// Also in signalr-protocol-msgpack/Utils.ts\r\n/** @private */\r\nfunction isArrayBuffer(val) {\r\n    return val && typeof ArrayBuffer !== \"undefined\" &&\r\n        (val instanceof ArrayBuffer ||\r\n            // Sometimes we get an ArrayBuffer that doesn't satisfy instanceof\r\n            (val.constructor && val.constructor.name === \"ArrayBuffer\"));\r\n}\r\nexports.isArrayBuffer = isArrayBuffer;\r\n/** @private */\r\nfunction sendMessage(logger, transportName, httpClient, url, accessTokenFactory, content, logMessageContent, withCredentials, defaultHeaders) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _a, headers, token, _b, name, value, responseType, response;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    headers = {};\r\n                    if (!accessTokenFactory) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, accessTokenFactory()];\r\n                case 1:\r\n                    token = _c.sent();\r\n                    if (token) {\r\n                        headers = (_a = {},\r\n                            _a[\"Authorization\"] = \"Bearer \" + token,\r\n                            _a);\r\n                    }\r\n                    _c.label = 2;\r\n                case 2:\r\n                    _b = getUserAgentHeader(), name = _b[0], value = _b[1];\r\n                    headers[name] = value;\r\n                    logger.log(ILogger_1.LogLevel.Trace, \"(\" + transportName + \" transport) sending data. \" + getDataDetail(content, logMessageContent) + \".\");\r\n                    responseType = isArrayBuffer(content) ? \"arraybuffer\" : \"text\";\r\n                    return [4 /*yield*/, httpClient.post(url, {\r\n                            content: content,\r\n                            headers: __assign({}, headers, defaultHeaders),\r\n                            responseType: responseType,\r\n                            withCredentials: withCredentials,\r\n                        })];\r\n                case 3:\r\n                    response = _c.sent();\r\n                    logger.log(ILogger_1.LogLevel.Trace, \"(\" + transportName + \" transport) request complete. Response status: \" + response.statusCode + \".\");\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.sendMessage = sendMessage;\r\n/** @private */\r\nfunction createLogger(logger) {\r\n    if (logger === undefined) {\r\n        return new ConsoleLogger(ILogger_1.LogLevel.Information);\r\n    }\r\n    if (logger === null) {\r\n        return Loggers_1.NullLogger.instance;\r\n    }\r\n    if (logger.log) {\r\n        return logger;\r\n    }\r\n    return new ConsoleLogger(logger);\r\n}\r\nexports.createLogger = createLogger;\r\n/** @private */\r\nvar SubjectSubscription = /** @class */ (function () {\r\n    function SubjectSubscription(subject, observer) {\r\n        this.subject = subject;\r\n        this.observer = observer;\r\n    }\r\n    SubjectSubscription.prototype.dispose = function () {\r\n        var index = this.subject.observers.indexOf(this.observer);\r\n        if (index > -1) {\r\n            this.subject.observers.splice(index, 1);\r\n        }\r\n        if (this.subject.observers.length === 0 && this.subject.cancelCallback) {\r\n            this.subject.cancelCallback().catch(function (_) { });\r\n        }\r\n    };\r\n    return SubjectSubscription;\r\n}());\r\nexports.SubjectSubscription = SubjectSubscription;\r\n/** @private */\r\nvar ConsoleLogger = /** @class */ (function () {\r\n    function ConsoleLogger(minimumLogLevel) {\r\n        this.minimumLogLevel = minimumLogLevel;\r\n        this.outputConsole = console;\r\n    }\r\n    ConsoleLogger.prototype.log = function (logLevel, message) {\r\n        if (logLevel >= this.minimumLogLevel) {\r\n            switch (logLevel) {\r\n                case ILogger_1.LogLevel.Critical:\r\n                case ILogger_1.LogLevel.Error:\r\n                    this.outputConsole.error(\"[\" + new Date().toISOString() + \"] \" + ILogger_1.LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n                case ILogger_1.LogLevel.Warning:\r\n                    this.outputConsole.warn(\"[\" + new Date().toISOString() + \"] \" + ILogger_1.LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n                case ILogger_1.LogLevel.Information:\r\n                    this.outputConsole.info(\"[\" + new Date().toISOString() + \"] \" + ILogger_1.LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n                default:\r\n                    // console.debug only goes to attached debuggers in Node, so we use console.log for Trace and Debug\r\n                    this.outputConsole.log(\"[\" + new Date().toISOString() + \"] \" + ILogger_1.LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    return ConsoleLogger;\r\n}());\r\nexports.ConsoleLogger = ConsoleLogger;\r\n/** @private */\r\nfunction getUserAgentHeader() {\r\n    var userAgentHeaderName = \"X-SignalR-User-Agent\";\r\n    if (Platform.isNode) {\r\n        userAgentHeaderName = \"User-Agent\";\r\n    }\r\n    return [userAgentHeaderName, constructUserAgent(exports.VERSION, getOsName(), getRuntime(), getRuntimeVersion())];\r\n}\r\nexports.getUserAgentHeader = getUserAgentHeader;\r\n/** @private */\r\nfunction constructUserAgent(version, os, runtime, runtimeVersion) {\r\n    // Microsoft SignalR/[Version] ([Detailed Version]; [Operating System]; [Runtime]; [Runtime Version])\r\n    var userAgent = \"Microsoft SignalR/\";\r\n    var majorAndMinor = version.split(\".\");\r\n    userAgent += majorAndMinor[0] + \".\" + majorAndMinor[1];\r\n    userAgent += \" (\" + version + \"; \";\r\n    if (os && os !== \"\") {\r\n        userAgent += os + \"; \";\r\n    }\r\n    else {\r\n        userAgent += \"Unknown OS; \";\r\n    }\r\n    userAgent += \"\" + runtime;\r\n    if (runtimeVersion) {\r\n        userAgent += \"; \" + runtimeVersion;\r\n    }\r\n    else {\r\n        userAgent += \"; Unknown Runtime Version\";\r\n    }\r\n    userAgent += \")\";\r\n    return userAgent;\r\n}\r\nexports.constructUserAgent = constructUserAgent;\r\nfunction getOsName() {\r\n    if (Platform.isNode) {\r\n        switch (process.platform) {\r\n            case \"win32\":\r\n                return \"Windows NT\";\r\n            case \"darwin\":\r\n                return \"macOS\";\r\n            case \"linux\":\r\n                return \"Linux\";\r\n            default:\r\n                return process.platform;\r\n        }\r\n    }\r\n    else {\r\n        return \"\";\r\n    }\r\n}\r\nfunction getRuntimeVersion() {\r\n    if (Platform.isNode) {\r\n        return process.versions.node;\r\n    }\r\n    return undefined;\r\n}\r\nfunction getRuntime() {\r\n    if (Platform.isNode) {\r\n        return \"NodeJS\";\r\n    }\r\n    else {\r\n        return \"Browser\";\r\n    }\r\n}\r\n//# sourceMappingURL=Utils.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar ITransport_1 = require(\"./ITransport\");\r\nvar Utils_1 = require(\"./Utils\");\r\n/** @private */\r\nvar WebSocketTransport = /** @class */ (function () {\r\n    function WebSocketTransport(httpClient, accessTokenFactory, logger, logMessageContent, webSocketConstructor, headers) {\r\n        this.logger = logger;\r\n        this.accessTokenFactory = accessTokenFactory;\r\n        this.logMessageContent = logMessageContent;\r\n        this.webSocketConstructor = webSocketConstructor;\r\n        this.httpClient = httpClient;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n        this.headers = headers;\r\n    }\r\n    WebSocketTransport.prototype.connect = function (url, transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Utils_1.Arg.isRequired(url, \"url\");\r\n                        Utils_1.Arg.isRequired(transferFormat, \"transferFormat\");\r\n                        Utils_1.Arg.isIn(transferFormat, ITransport_1.TransferFormat, \"transferFormat\");\r\n                        this.logger.log(ILogger_1.LogLevel.Trace, \"(WebSockets transport) Connecting.\");\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1:\r\n                        token = _a.sent();\r\n                        if (token) {\r\n                            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + (\"access_token=\" + encodeURIComponent(token));\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                            url = url.replace(/^http/, \"ws\");\r\n                            var webSocket;\r\n                            var cookies = _this.httpClient.getCookieString(url);\r\n                            var opened = false;\r\n                            if (Utils_1.Platform.isNode) {\r\n                                var headers = {};\r\n                                var _a = Utils_1.getUserAgentHeader(), name_1 = _a[0], value = _a[1];\r\n                                headers[name_1] = value;\r\n                                if (cookies) {\r\n                                    headers[\"Cookie\"] = \"\" + cookies;\r\n                                }\r\n                                // Only pass headers when in non-browser environments\r\n                                webSocket = new _this.webSocketConstructor(url, undefined, {\r\n                                    headers: __assign({}, headers, _this.headers),\r\n                                });\r\n                            }\r\n                            if (!webSocket) {\r\n                                // Chrome is not happy with passing 'undefined' as protocol\r\n                                webSocket = new _this.webSocketConstructor(url);\r\n                            }\r\n                            if (transferFormat === ITransport_1.TransferFormat.Binary) {\r\n                                webSocket.binaryType = \"arraybuffer\";\r\n                            }\r\n                            // tslint:disable-next-line:variable-name\r\n                            webSocket.onopen = function (_event) {\r\n                                _this.logger.log(ILogger_1.LogLevel.Information, \"WebSocket connected to \" + url + \".\");\r\n                                _this.webSocket = webSocket;\r\n                                opened = true;\r\n                                resolve();\r\n                            };\r\n                            webSocket.onerror = function (event) {\r\n                                var error = null;\r\n                                // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                                if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                                    error = event.error;\r\n                                }\r\n                                else {\r\n                                    error = new Error(\"There was an error with the transport.\");\r\n                                }\r\n                                reject(error);\r\n                            };\r\n                            webSocket.onmessage = function (message) {\r\n                                _this.logger.log(ILogger_1.LogLevel.Trace, \"(WebSockets transport) data received. \" + Utils_1.getDataDetail(message.data, _this.logMessageContent) + \".\");\r\n                                if (_this.onreceive) {\r\n                                    try {\r\n                                        _this.onreceive(message.data);\r\n                                    }\r\n                                    catch (error) {\r\n                                        _this.close(error);\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            };\r\n                            webSocket.onclose = function (event) {\r\n                                // Don't call close handler if connection was never established\r\n                                // We'll reject the connect call instead\r\n                                if (opened) {\r\n                                    _this.close(event);\r\n                                }\r\n                                else {\r\n                                    var error = null;\r\n                                    // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                                    if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                                        error = event.error;\r\n                                    }\r\n                                    else {\r\n                                        error = new Error(\"There was an error with the transport.\");\r\n                                    }\r\n                                    reject(error);\r\n                                }\r\n                            };\r\n                        })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebSocketTransport.prototype.send = function (data) {\r\n        if (this.webSocket && this.webSocket.readyState === this.webSocketConstructor.OPEN) {\r\n            this.logger.log(ILogger_1.LogLevel.Trace, \"(WebSockets transport) sending data. \" + Utils_1.getDataDetail(data, this.logMessageContent) + \".\");\r\n            this.webSocket.send(data);\r\n            return Promise.resolve();\r\n        }\r\n        return Promise.reject(\"WebSocket is not in the OPEN state\");\r\n    };\r\n    WebSocketTransport.prototype.stop = function () {\r\n        if (this.webSocket) {\r\n            // Manually invoke onclose callback inline so we know the HttpConnection was closed properly before returning\r\n            // This also solves an issue where websocket.onclose could take 18+ seconds to trigger during network disconnects\r\n            this.close(undefined);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WebSocketTransport.prototype.close = function (event) {\r\n        // webSocket will be null if the transport did not start successfully\r\n        if (this.webSocket) {\r\n            // Clear websocket handlers because we are considering the socket closed now\r\n            this.webSocket.onclose = function () { };\r\n            this.webSocket.onmessage = function () { };\r\n            this.webSocket.onerror = function () { };\r\n            this.webSocket.close();\r\n            this.webSocket = undefined;\r\n        }\r\n        this.logger.log(ILogger_1.LogLevel.Trace, \"(WebSockets transport) socket closed.\");\r\n        if (this.onclose) {\r\n            if (this.isCloseEvent(event) && (event.wasClean === false || event.code !== 1000)) {\r\n                this.onclose(new Error(\"WebSocket closed with status code: \" + event.code + \" (\" + event.reason + \").\"));\r\n            }\r\n            else if (event instanceof Error) {\r\n                this.onclose(event);\r\n            }\r\n            else {\r\n                this.onclose();\r\n            }\r\n        }\r\n    };\r\n    WebSocketTransport.prototype.isCloseEvent = function (event) {\r\n        return event && typeof event.wasClean === \"boolean\" && typeof event.code === \"number\";\r\n    };\r\n    return WebSocketTransport;\r\n}());\r\nexports.WebSocketTransport = WebSocketTransport;\r\n//# sourceMappingURL=WebSocketTransport.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Errors_1 = require(\"./Errors\");\r\nvar HttpClient_1 = require(\"./HttpClient\");\r\nvar ILogger_1 = require(\"./ILogger\");\r\nvar XhrHttpClient = /** @class */ (function (_super) {\r\n    __extends(XhrHttpClient, _super);\r\n    function XhrHttpClient(logger) {\r\n        var _this = _super.call(this) || this;\r\n        _this.logger = logger;\r\n        return _this;\r\n    }\r\n    /** @inheritDoc */\r\n    XhrHttpClient.prototype.send = function (request) {\r\n        var _this = this;\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new Errors_1.AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(request.method, request.url, true);\r\n            xhr.withCredentials = request.withCredentials === undefined ? true : request.withCredentials;\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            // Explicitly setting the Content-Type header for React Native on Android platform.\r\n            xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\r\n            var headers = request.headers;\r\n            if (headers) {\r\n                Object.keys(headers)\r\n                    .forEach(function (header) {\r\n                    xhr.setRequestHeader(header, headers[header]);\r\n                });\r\n            }\r\n            if (request.responseType) {\r\n                xhr.responseType = request.responseType;\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = function () {\r\n                    xhr.abort();\r\n                    reject(new Errors_1.AbortError());\r\n                };\r\n            }\r\n            if (request.timeout) {\r\n                xhr.timeout = request.timeout;\r\n            }\r\n            xhr.onload = function () {\r\n                if (request.abortSignal) {\r\n                    request.abortSignal.onabort = null;\r\n                }\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    resolve(new HttpClient_1.HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\r\n                }\r\n                else {\r\n                    reject(new Errors_1.HttpError(xhr.statusText, xhr.status));\r\n                }\r\n            };\r\n            xhr.onerror = function () {\r\n                _this.logger.log(ILogger_1.LogLevel.Warning, \"Error from HTTP request. \" + xhr.status + \": \" + xhr.statusText + \".\");\r\n                reject(new Errors_1.HttpError(xhr.statusText, xhr.status));\r\n            };\r\n            xhr.ontimeout = function () {\r\n                _this.logger.log(ILogger_1.LogLevel.Warning, \"Timeout from HTTP request.\");\r\n                reject(new Errors_1.TimeoutError());\r\n            };\r\n            xhr.send(request.content || \"\");\r\n        });\r\n    };\r\n    return XhrHttpClient;\r\n}(HttpClient_1.HttpClient));\r\nexports.XhrHttpClient = XhrHttpClient;\r\n//# sourceMappingURL=XhrHttpClient.js.map","\"use strict\";\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Errors_1 = require(\"./Errors\");\r\nexports.AbortError = Errors_1.AbortError;\r\nexports.HttpError = Errors_1.HttpError;\r\nexports.TimeoutError = Errors_1.TimeoutError;\r\nvar HttpClient_1 = require(\"./HttpClient\");\r\nexports.HttpClient = HttpClient_1.HttpClient;\r\nexports.HttpResponse = HttpClient_1.HttpResponse;\r\nvar DefaultHttpClient_1 = require(\"./DefaultHttpClient\");\r\nexports.DefaultHttpClient = DefaultHttpClient_1.DefaultHttpClient;\r\nvar HubConnection_1 = require(\"./HubConnection\");\r\nexports.HubConnection = HubConnection_1.HubConnection;\r\nexports.HubConnectionState = HubConnection_1.HubConnectionState;\r\nvar HubConnectionBuilder_1 = require(\"./HubConnectionBuilder\");\r\nexports.HubConnectionBuilder = HubConnectionBuilder_1.HubConnectionBuilder;\r\nvar IHubProtocol_1 = require(\"./IHubProtocol\");\r\nexports.MessageType = IHubProtocol_1.MessageType;\r\nvar ILogger_1 = require(\"./ILogger\");\r\nexports.LogLevel = ILogger_1.LogLevel;\r\nvar ITransport_1 = require(\"./ITransport\");\r\nexports.HttpTransportType = ITransport_1.HttpTransportType;\r\nexports.TransferFormat = ITransport_1.TransferFormat;\r\nvar Loggers_1 = require(\"./Loggers\");\r\nexports.NullLogger = Loggers_1.NullLogger;\r\nvar JsonHubProtocol_1 = require(\"./JsonHubProtocol\");\r\nexports.JsonHubProtocol = JsonHubProtocol_1.JsonHubProtocol;\r\nvar Subject_1 = require(\"./Subject\");\r\nexports.Subject = Subject_1.Subject;\r\nvar Utils_1 = require(\"./Utils\");\r\nexports.VERSION = Utils_1.VERSION;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Hub = void 0;\r\nvar Logger = require(\"./Logger.js\");\r\nvar SignalR = require(\"@microsoft/signalr\");\r\nvar Hub = /** @class */ (function () {\r\n    function Hub(callbacks) {\r\n        var _this = this;\r\n        this.log = new Logger.Log();\r\n        this.connection = new SignalR.HubConnectionBuilder()\r\n            .withUrl('/viewDataHub')\r\n            .configureLogging(SignalR.LogLevel.Error)\r\n            .build();\r\n        this.connection.on('Received', function (b64) {\r\n            callbacks.received(b64);\r\n        });\r\n        this.connection.on('stats', function (stats) {\r\n            callbacks.stats(stats);\r\n        });\r\n        this.connection.on('exception', function (message) {\r\n            callbacks.exception(message);\r\n        });\r\n        this.Server = {\r\n            services: function () { return _this.connection.invoke('Services'); },\r\n            isOpen: function () { return _this.connection.invoke('IsOpen'); },\r\n            open: function (service) { return _this.connection.invoke('Open', service); },\r\n            asyncWrite: function (b64) { return _this.connection.invoke('AsyncWrite', b64); },\r\n            write: function (b64) { return _this.connection.invoke('Write', b64); },\r\n            asyncRead: function () { return _this.connection.invoke('AsyncRead'); },\r\n            read: function () { return _this.connection.invoke('Read'); },\r\n            close: function () { return _this.connection.invoke('Close'); }\r\n        };\r\n    }\r\n    Hub.prototype.Connect = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.connection.state == SignalR.HubConnectionState.Disconnected) {\r\n                _this.connection.start()\r\n                    .then(function () {\r\n                    _this.log.Success('SignalR: started');\r\n                    resolve();\r\n                })\r\n                    .catch(function (error) {\r\n                    _this.log.Success(\"SignalR: \" + error);\r\n                    reject(error);\r\n                });\r\n            }\r\n            else {\r\n                resolve();\r\n            }\r\n        });\r\n    };\r\n    return Hub;\r\n}());\r\nexports.Hub = Hub;\r\n//# sourceMappingURL=Hub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Log = void 0;\r\nvar Log = /** @class */ (function () {\r\n    function Log() {\r\n    }\r\n    Log.prototype.Success = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        args.forEach(function (x) { return console.log(\"vd-view: success: \" + x); });\r\n    };\r\n    Log.prototype.Info = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        args.forEach(function (x) { return console.log(\"vd-view: info:  \" + x); });\r\n    };\r\n    Log.prototype.Error = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        args.forEach(function (x) { return console.log(\"vd-view: error: \" + x); });\r\n    };\r\n    Log.prototype.Warning = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        args.forEach(function (x) { return console.log(\"vd-view: warning: \" + x); });\r\n    };\r\n    return Log;\r\n}());\r\nexports.Log = Log;\r\n//# sourceMappingURL=Logger.js.map","﻿import * as Views from './Views.js';\r\n\r\n(window as any).vdView = {\r\n    init: () => {\r\n        var vm = new Views.Main();\r\n        ko.applyBindings(vm);\r\n    }\r\n};","\"use strict\";\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spread = (this && this.__spread) || function () {\r\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IsMosaic = exports.FromKeyboardString = exports.FromKeyboard = exports.ToDisplay = exports.Space = void 0;\r\nexports.Space = ' ';\r\n/**\r\n * Map Teletext codes to display characters (e.g. in the Bedstead font) and codes\r\n * See: http://www.etsi.org/deliver/etsi_en/300700_300799/300706/01.02.01_60/en_300706v010201p.pdf\r\n * Latin G0/G1 primary set. Decoder level 1 with English character options\r\n */\r\nfunction ToDisplay(rowCode, colCode, isAlpha, isGraph, isContiguous) {\r\n    function map() {\r\n        if (rowCode < 0 || rowCode > 15 || colCode < 0 || colCode > 7) {\r\n            //  Return space if out of bounds\r\n            return 0x20;\r\n        }\r\n        if (colCode == 2 && isAlpha) {\r\n            switch (rowCode) {\r\n                case 3: return 0xA3;\r\n                default: return 0x20 + rowCode;\r\n            }\r\n        }\r\n        else if (colCode == 2 && isGraph) {\r\n            return (isContiguous ? 0xEE00 : 0xEE20) + rowCode;\r\n        }\r\n        else if (colCode == 3 && isAlpha) {\r\n            return 0x30 + rowCode;\r\n        }\r\n        else if (colCode == 3 && isGraph) {\r\n            return (isContiguous ? 0xEE10 : 0xEE30) + rowCode;\r\n        }\r\n        else if (colCode == 4) {\r\n            return 0x40 + rowCode;\r\n        }\r\n        else if (colCode == 5) {\r\n            switch (rowCode) {\r\n                case 11: return 0x2190;\r\n                case 12: return 0xBD;\r\n                case 13: return 0x2192;\r\n                case 14: return 0x2191;\r\n                case 15: return 0x23;\r\n                default: return 0x50 + rowCode;\r\n            }\r\n        }\r\n        else if (colCode == 6 && isAlpha) {\r\n            switch (rowCode) {\r\n                case 0: return 0x2013;\r\n                default: return 0x60 + rowCode;\r\n            }\r\n        }\r\n        else if (colCode == 6 && isGraph) {\r\n            return (isContiguous ? 0xEE40 : 0xEE60) + rowCode;\r\n        }\r\n        else if (colCode == 7 && isAlpha) {\r\n            switch (rowCode) {\r\n                case 11: return 0xBC;\r\n                case 12: return 0x2016;\r\n                case 13: return 0xBE;\r\n                case 14: return 0xF7;\r\n                case 15: return 0x25A0;\r\n                default: return 0x70 + rowCode;\r\n            }\r\n        }\r\n        else if (colCode == 7 && isGraph) {\r\n            return (isContiguous ? 0xEE50 : 0xEE70) + rowCode;\r\n        }\r\n        return 0x20;\r\n    }\r\n    var code = map();\r\n    return {\r\n        code: code,\r\n        char: String.fromCharCode(code),\r\n        nativeCode: getNativeCharCode(rowCode, colCode)\r\n    };\r\n}\r\nexports.ToDisplay = ToDisplay;\r\n/**\r\n * Convert keyboard input to a teletext char\r\n */\r\nfunction FromKeyboard(char) {\r\n    char = char || exports.Space;\r\n    var code = char.charCodeAt(0);\r\n    var rowCode = 0;\r\n    var colCode = 0;\r\n    switch (code) {\r\n        //  Pick off special chars that don't fit into unicode ranges\r\n        case 0xA3:\r\n            colCode = 2;\r\n            rowCode = 3;\r\n            break;\r\n        case 0x2190:\r\n            colCode = 5;\r\n            rowCode = 11;\r\n            break;\r\n        case 0xBD:\r\n            colCode = 5;\r\n            rowCode = 12;\r\n            break;\r\n        case 0x2192:\r\n            colCode = 5;\r\n            rowCode = 13;\r\n            break;\r\n        case 0x2191:\r\n            colCode = 5;\r\n            rowCode = 14;\r\n            break;\r\n        case 0x23:\r\n            colCode = 5;\r\n            rowCode = 15;\r\n            break;\r\n        case 0x2013:\r\n            colCode = 6;\r\n            rowCode = 0;\r\n            break;\r\n        case 0xBC:\r\n            colCode = 7;\r\n            rowCode = 11;\r\n            break;\r\n        case 0x2016:\r\n            colCode = 7;\r\n            rowCode = 12;\r\n            break;\r\n        case 0xBE:\r\n            colCode = 7;\r\n            rowCode = 13;\r\n            break;\r\n        case 0xF7:\r\n            colCode = 7;\r\n            rowCode = 14;\r\n            break;\r\n        case 0x25A0:\r\n            colCode = 7;\r\n            rowCode = 15;\r\n            break;\r\n        default:\r\n            if (code >= 0x20 && code < 0x30) {\r\n                colCode = 2;\r\n                rowCode = code - 0x20;\r\n            }\r\n            else if (code >= 0xEE00 && code < 0xEE10) {\r\n                colCode = 2;\r\n                rowCode = code - 0xEE00;\r\n            }\r\n            else if (code >= 0xEE20 && code < 0xEE30) {\r\n                colCode = 2;\r\n                rowCode = code - 0xEE20;\r\n            }\r\n            else if (code >= 0x30 && code < 0x40) {\r\n                colCode = 3;\r\n                rowCode = code - 0x30;\r\n            }\r\n            else if (code >= 0xEE10 && code < 0xEE20) {\r\n                colCode = 3;\r\n                rowCode = code - 0xEE10;\r\n            }\r\n            else if (code >= 0xEE30 && code < 0xEE40) {\r\n                colCode = 3;\r\n                rowCode = code - 0xEE30;\r\n            }\r\n            else if (code >= 0x40 && code < 0x50) {\r\n                colCode = 4;\r\n                rowCode = code - 0x40;\r\n            }\r\n            else if (code >= 0x50 && code < 0x60) {\r\n                colCode = 5;\r\n                rowCode = code - 0x50;\r\n            }\r\n            else if (code >= 0x60 && code < 0x70) {\r\n                colCode = 6;\r\n                rowCode = code - 0x60;\r\n            }\r\n            else if (code >= 0xEE40 && code < 0xEE50) {\r\n                colCode = 6;\r\n                rowCode = code - 0xEE40;\r\n            }\r\n            else if (code >= 0xEE60 && code < 0xEE70) {\r\n                colCode = 6;\r\n                rowCode = code - 0xEE60;\r\n            }\r\n            else if (code >= 0x70 && code < 0x80) {\r\n                colCode = 7;\r\n                rowCode = code - 0x70;\r\n            }\r\n            else if (code >= 0xEE50 && code < 0xEE60) {\r\n                colCode = 7;\r\n                rowCode = code - 0xEE50;\r\n            }\r\n            else if (code >= 0xEE70 && code < 0xEE80) {\r\n                colCode = 7;\r\n                rowCode = code - 0xEE70;\r\n            }\r\n            else {\r\n                //  Space\r\n                colCode = 2;\r\n                rowCode = 0;\r\n            }\r\n            break;\r\n    }\r\n    return {\r\n        colCode: colCode,\r\n        rowCode: rowCode,\r\n        code: getNativeCharCode(rowCode, colCode),\r\n        char: ToDisplay(rowCode, colCode, true, false, false).char\r\n    };\r\n}\r\nexports.FromKeyboard = FromKeyboard;\r\nfunction getNativeCharCode(rowCode, colCode) {\r\n    return ((colCode << 4) + rowCode) & 127;\r\n}\r\n/**\r\n * Create a Teletext coded string from keyboard input. Do not alter control codes < 32\r\n */\r\nfunction FromKeyboardString(text) {\r\n    var chars = __spread((String(text || ''))).map(function (char) {\r\n        var code = char.charCodeAt(0);\r\n        if (code < 32) {\r\n            return char;\r\n        }\r\n        else {\r\n            return String.fromCharCode(FromKeyboard(char).code);\r\n        }\r\n    });\r\n    return chars.join('');\r\n}\r\nexports.FromKeyboardString = FromKeyboardString;\r\n/**\r\n * Imperfect as it only checks colcode\r\n */\r\nfunction IsMosaic(char) {\r\n    var decoded = FromKeyboard(char);\r\n    switch (decoded.colCode) {\r\n        case 2:\r\n        case 3:\r\n        case 6:\r\n        case 7:\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nexports.IsMosaic = IsMosaic;\r\n//# sourceMappingURL=Mode7.js.map","\"use strict\";\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spread = (this && this.__spread) || function () {\r\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SAA5050 = void 0;\r\nvar Terminal = require(\"./Terminal.js\");\r\nvar Mode7 = require(\"./Mode7.js\");\r\n/**\r\n * Mullard SAA5050 (kind of)\r\n * See: http://www.etsi.org/deliver/etsi_en/300700_300799/300706/01.02.01_60/en_300706v010201p.pdf\r\n */\r\nvar SAA5050 = /** @class */ (function () {\r\n    function SAA5050(displayBuffer) {\r\n        var _this = this;\r\n        this.displayBuffer = displayBuffer;\r\n        this.flags = new Flags();\r\n        this.afterFlags = new SetAfterFlags();\r\n        this.bufferRowIdx = 0;\r\n        this.bufferColIdx = 0;\r\n        //  Set when we need to ignore double height row 2 in the input stream\r\n        this.doubleHeightLowerRowIdx = -1;\r\n        this.lastCharacter = null;\r\n        this.frameBufferMax = 2000;\r\n        this.frameBuffer = new Uint8Array(this.frameBufferMax);\r\n        this.frameBufferOffset = 0;\r\n        //  Store the characters written to the first row so we can check for the page number\r\n        this.headerRow = Array(Terminal.Constants.MaxCols);\r\n        //  Expose read only flags\r\n        this.Flags = {\r\n            IsEscaped: ko.computed(function () { return _this.flags.IsEscaped(); }),\r\n            IsContiguous: ko.computed(function () { return _this.flags.IsContiguous(); }),\r\n            IsCursorOn: ko.computed(function () { return _this.flags.IsCursorOn(); }),\r\n            IsDoubleHeight: ko.computed(function () { return _this.flags.IsDoubleHeight(); }),\r\n            IsConcealed: ko.computed(function () { return _this.flags.IsConcealed(); }),\r\n            IsFlashing: ko.computed(function () { return _this.flags.IsFlashing(); }),\r\n            IsAlpha: ko.computed(function () { return _this.flags.IsAlpha(); }),\r\n            IsGraphics: ko.computed(function () { return !_this.flags.IsAlpha(); }),\r\n            AlphaFgColour: ko.computed(function () { return _this.flags.AlphaFgColour(); }),\r\n            MosaicFgColour: ko.computed(function () { return _this.flags.MosaicFgColour(); }),\r\n            BgColour: ko.computed(function () { return _this.flags.BgColour(); }),\r\n            IsMosaicHeld: ko.computed(function () { return _this.flags.IsMosaicHeld(); }),\r\n            HeldMosaic: ko.computed(function () { return _this.flags.IsMosaicHeld() ? _this.flags.HeldMosaic() : null; })\r\n        };\r\n        var foo = new Array();\r\n        foo.fill(0);\r\n        this.headerRow.fill(Mode7.Space);\r\n    }\r\n    SAA5050.prototype.DecodeBase64 = function (b64) {\r\n        var buffer = Uint8Array.from(atob(b64), function (c) { return c.charCodeAt(0); });\r\n        return this.DecodeBytes(buffer);\r\n    };\r\n    SAA5050.prototype.DecodeBytes = function (buffer) {\r\n        //  n.b. After evaluating chars, we 'continue' if it shouldn't be displayed. 'break' if it should\r\n        for (var bufferIdx = 0; bufferIdx < buffer.length && this.bufferRowIdx < Terminal.Constants.MaxRows; ++bufferIdx) {\r\n            var b = buffer[bufferIdx];\r\n            if (this.frameBufferOffset < this.frameBufferMax) {\r\n                this.frameBuffer.set([b], this.frameBufferOffset++);\r\n            }\r\n            //  ASCII control codes (codes < 32)\r\n            //  Rows are either 40 chars long exactly or less than 40 chars and terminated by CRLF or CR or LF\r\n            switch (b) {\r\n                case 0: //  NULL\r\n                    continue;\r\n                case 8: //  Backspace\r\n                    --this.bufferColIdx;\r\n                    if (this.bufferColIdx < 0) {\r\n                        this.bufferColIdx = Terminal.Constants.MaxCols - 1;\r\n                        --this.bufferRowIdx;\r\n                        if (this.bufferRowIdx < 0) {\r\n                            this.bufferRowIdx = Terminal.Constants.MaxRows - 1;\r\n                        }\r\n                    }\r\n                    continue;\r\n                case 9: //  h-tab\r\n                    ++this.bufferColIdx;\r\n                    if (this.bufferColIdx >= Terminal.Constants.MaxCols) {\r\n                        this.bufferColIdx = 0;\r\n                        ++this.bufferRowIdx;\r\n                        if (this.bufferRowIdx >= Terminal.Constants.MaxRows) {\r\n                            this.bufferRowIdx = 0;\r\n                        }\r\n                    }\r\n                    continue;\r\n                case 10: //  LF (end of row)\r\n                    this.nextRow();\r\n                    continue;\r\n                case 11: //  v-tab\r\n                    --this.bufferRowIdx;\r\n                    if (this.bufferRowIdx < 0) {\r\n                        this.bufferRowIdx = Terminal.Constants.MaxRows - 1;\r\n                    }\r\n                    continue;\r\n                case 12:\r\n                    //  FF (new frame/clear screen)\r\n                    this.newFrame();\r\n                    continue;\r\n                case 13: //  CR\r\n                    this.fillEnd();\r\n                    this.bufferColIdx = 0;\r\n                    continue;\r\n                case 17: //  DC1 - cursor on\r\n                    this.flags.IsCursorOn(true);\r\n                    continue;\r\n                case 20: //  DC4 - cursor off\r\n                    this.flags.IsCursorOn(false);\r\n                    this.displayBuffer.CursorOff();\r\n                    continue;\r\n                case 30: //  RS  - back to origin\r\n                    this.fillEnd();\r\n                    this.bufferColIdx = 0;\r\n                    this.bufferRowIdx = 0;\r\n                    continue;\r\n            }\r\n            var rowCode = (b & 15);\r\n            var colCode = (b & 112) >> 4;\r\n            if (this.flags.IsEscaped()) {\r\n                //  we're only interested in the first bit\r\n                colCode &= 1;\r\n                this.flags.IsEscaped(false);\r\n            }\r\n            if (colCode == 0) {\r\n                switch (rowCode) {\r\n                    case 0: //  NUL (alpha black at level 2.5+)\r\n                        break;\r\n                    case 8: //  Flash\r\n                        this.afterFlags.isFlashing = true;\r\n                        break;\r\n                    case 9: //  Steady\r\n                        this.flags.IsFlashing(false);\r\n                        break;\r\n                    case 10: //  end box\r\n                        this.afterFlags.isBoxing = false;\r\n                        break;\r\n                    case 11: //  start box \r\n                        this.afterFlags.isBoxing = true;\r\n                        break;\r\n                    case 12: //  normal height\r\n                        this.flags.IsDoubleHeight(false);\r\n                        this.flags.HeldMosaic(Mode7.Space);\r\n                        break;\r\n                    case 13: //  double height (but not on last row)\r\n                        if (this.bufferRowIdx < (Terminal.Constants.MaxRows - 2)) {\r\n                            this.afterFlags.isDoubleHeight = true;\r\n                        }\r\n                        break;\r\n                    case 14: //  Shift Out\r\n                        break;\r\n                    case 15: //  Shift In\r\n                        break;\r\n                    default:\r\n                        this.afterFlags.alphaFgColour = rowCode;\r\n                }\r\n            }\r\n            else if (colCode == 1) {\r\n                switch (rowCode) {\r\n                    case 0: //  Data Link Escape (graphics black at level 2.5+)\r\n                        break;\r\n                    case 8: //  conceal display\r\n                        this.flags.IsConcealed(true);\r\n                        break;\r\n                    case 9:\r\n                        this.flags.IsContiguous(true);\r\n                        break;\r\n                    case 10:\r\n                        this.flags.IsContiguous(false);\r\n                        break;\r\n                    case 11: //  escape - do not print\r\n                        this.flags.IsEscaped(true);\r\n                        continue;\r\n                    case 12: //  black bg\r\n                        this.flags.BgColour(0);\r\n                        break;\r\n                    case 13: //  new bg, i.e. use the fg for the bg\r\n                        this.flags.BgColour(this.flags.IsAlpha() ? this.flags.AlphaFgColour() : this.flags.MosaicFgColour());\r\n                        break;\r\n                    case 14: //  hold graphics\r\n                        this.flags.IsMosaicHeld(true);\r\n                        break;\r\n                    case 15: //  release graphics\r\n                        this.afterFlags.isMosaicHeld = false;\r\n                        break;\r\n                    default:\r\n                        this.afterFlags.mosaicFgColour = rowCode;\r\n                }\r\n            }\r\n            if (this.bufferRowIdx != this.doubleHeightLowerRowIdx) {\r\n                var cell = this.displayBuffer.Cell(this.bufferRowIdx, this.bufferColIdx);\r\n                cell.Fg = this.flags.IsAlpha() ? this.flags.AlphaFgColour() : this.flags.MosaicFgColour();\r\n                cell.Bg(this.flags.BgColour());\r\n                cell.IsFlashing(this.flags.IsFlashing());\r\n                cell.IsConcealed(this.flags.IsConcealed());\r\n                cell.IsDoubleHeight(this.flags.IsDoubleHeight());\r\n                if (this.flags.IsDoubleHeight()) {\r\n                    //  Row 2 of double height text has no fg data\r\n                    //  When processing the next row, we need to ensure that we don't overwrite it\r\n                    var cellBelow = this.displayBuffer.Cell(this.doubleHeightLowerRowIdx, this.bufferColIdx);\r\n                    cellBelow.Bg(this.flags.BgColour());\r\n                    cellBelow.IsFlashing(this.flags.IsFlashing());\r\n                    cellBelow.IsConcealed(this.flags.IsConcealed());\r\n                }\r\n                if (colCode == 0 || colCode == 1) {\r\n                    cell.SetCharacter(this.flags.IsMosaicHeld() ? this.flags.HeldMosaic() : Mode7.Space, this.flags.IsMosaicHeld() && this.flags.IsHeldMosaicContiguous());\r\n                    if (this.bufferRowIdx == 0) {\r\n                        this.headerRow[this.bufferColIdx] = Mode7.Space;\r\n                    }\r\n                }\r\n                else {\r\n                    this.lastCharacter = this.getChar(rowCode, colCode);\r\n                    cell.SetCharacter(this.lastCharacter, !this.flags.IsAlpha() && this.flags.IsContiguous());\r\n                    if (!this.flags.IsAlpha()) {\r\n                        this.flags.HeldMosaic(this.lastCharacter);\r\n                        this.flags.IsHeldMosaicContiguous(this.flags.IsContiguous());\r\n                    }\r\n                    if (this.bufferRowIdx == 0) {\r\n                        this.headerRow[this.bufferColIdx] = this.lastCharacter;\r\n                    }\r\n                }\r\n            }\r\n            this.flags.SetAfterFlags(this.afterFlags);\r\n            if (this.afterFlags.isDoubleHeight) {\r\n                this.doubleHeightLowerRowIdx = this.bufferRowIdx + 1;\r\n                this.displayBuffer.Rows[this.doubleHeightLowerRowIdx].SetIsDoubleHeightLowerRow();\r\n            }\r\n            this.afterFlags.Reset();\r\n            ++this.bufferColIdx;\r\n            //  Automatically start a new row if we've got a full row\r\n            if (this.bufferColIdx == Terminal.Constants.MaxCols) {\r\n                this.nextRow();\r\n            }\r\n        }\r\n        //  Move the cursor to the last character displayed\r\n        this.displayBuffer.CursorOff();\r\n        if (this.flags.IsCursorOn()) {\r\n            this.displayBuffer.CursorOn(this.bufferRowIdx, this.bufferColIdx);\r\n        }\r\n        return buffer.length;\r\n    };\r\n    SAA5050.prototype.Reset = function () {\r\n        this.newFrame();\r\n        this.flags.IsCursorOn(false);\r\n        this.displayBuffer.ResetCursor();\r\n    };\r\n    SAA5050.prototype.Load = function (b64) {\r\n        this.Reset();\r\n        this.DecodeBase64(b64);\r\n    };\r\n    SAA5050.prototype.GetFrameAsBase64 = function () {\r\n        return btoa(String.fromCharCode.apply(String, __spread(this.frameBuffer.slice(0, this.frameBufferOffset))));\r\n    };\r\n    SAA5050.prototype.FrameNumber = function () {\r\n        var text = this.headerRow.join('');\r\n        var matches = text.match(/ P?(\\d+)|(\\d+[a-z]) /);\r\n        if (matches && matches.length > 1) {\r\n            return matches[1];\r\n        }\r\n        return '0';\r\n    };\r\n    SAA5050.prototype.newFrame = function () {\r\n        this.bufferRowIdx = this.bufferColIdx = 0;\r\n        this.flags.Reset();\r\n        this.afterFlags.Reset();\r\n        this.displayBuffer.Reset();\r\n        this.frameBufferOffset = 0;\r\n        this.doubleHeightLowerRowIdx = -1;\r\n        this.headerRow.fill(Mode7.Space);\r\n    };\r\n    SAA5050.prototype.nextRow = function () {\r\n        if ((this.bufferRowIdx + 1) < Terminal.Constants.MaxRows) {\r\n            ++this.bufferRowIdx;\r\n        }\r\n        else {\r\n            //  Should we wrap around?\r\n            this.bufferRowIdx = 0;\r\n        }\r\n        this.bufferColIdx = 0;\r\n        this.flags.Reset();\r\n        this.afterFlags.Reset();\r\n    };\r\n    SAA5050.prototype.fillEnd = function () {\r\n        if (this.bufferColIdx > 0) {\r\n            var prev = this.displayBuffer.Cell(this.bufferRowIdx, this.bufferColIdx - 1);\r\n            for (var col = this.bufferColIdx; col < Terminal.Constants.MaxCols; ++col) {\r\n                var cell = this.displayBuffer.Cell(this.bufferRowIdx, col);\r\n                cell.Fg = prev.Fg;\r\n                cell.Bg(prev.Bg());\r\n                cell.IsFlashing(prev.IsFlashing());\r\n                cell.IsConcealed(prev.IsConcealed());\r\n                cell.IsDoubleHeight(prev.IsDoubleHeight());\r\n            }\r\n        }\r\n    };\r\n    SAA5050.prototype.getChar = function (rowCode, colCode) {\r\n        return Mode7.ToDisplay(rowCode, colCode, this.flags.IsAlpha(), !this.flags.IsAlpha(), this.flags.IsContiguous()).char;\r\n    };\r\n    return SAA5050;\r\n}());\r\nexports.SAA5050 = SAA5050;\r\nvar Flags = /** @class */ (function () {\r\n    function Flags() {\r\n        //  Bg colour. The 'black bg' and 'new bg' commands are Set-At.\r\n        this.BgColour = ko.observable(Terminal.Colours.black);\r\n        //  Alphanumeric (G0 charset) fg colour. Selects alpha characters. Set-After\r\n        this.AlphaFgColour = ko.observable(Terminal.Colours.white);\r\n        //  Graphics/mosaic (G1 charset) fg colour. Selects mosaic characters. Set-After\r\n        this.MosaicFgColour = ko.observable(Terminal.Colours.white);\r\n        //  When true we're rendering alphanumerics, otherwise graphics. Set-After in accordance with fg colours\r\n        this.IsAlpha = ko.observable(true);\r\n        //  When true we're rendering contiguous graphics, otherwise separated. Set-At\r\n        this.IsContiguous = ko.observable(true);\r\n        //  True if flashing. True is Set-After, false (steady) is Set-At\r\n        this.IsFlashing = ko.observable(false);\r\n        //  When true, the next char is a control code. N.b. this is not used to select alternate G0 sets. Esc characters are not displayed as space. Set-After\r\n        this.IsEscaped = ko.observable(false);\r\n        //  True after a start box command. Set-After\r\n        this.IsBoxing = ko.observable(false);\r\n        //  When true, the text is concealed. Set-At\r\n        this.IsConcealed = ko.observable(false);\r\n        //  Hold Mosaics (\"Set-At\")\r\n        //  Generally, all spacing attributes are displayed as spaces, implying at least one space\r\n        //  between characters or mosaics with different colours in the same row. In mosaics mode, the\r\n        //  \"Hold Mosaics\" option allows a limited range of attribute changes without intervening\r\n        //  spaces. A mosaic character from the G1 set (referred to as the \"Held-Mosaic\" character) is\r\n        //  displayed in place of the character \"SPACE\" corresponding to a control character.\r\n        //  Substitution only takes place in mosaics mode when Hold Mosaics mode is in force. At a\r\n        //  screen location where substitution is permitted, the \"Held-Mosaic\" character inserted is the\r\n        //  most recent mosaics character with bit 6 = '1' in its code on that row. The \"Held-Mosaic\"\r\n        //  character is reset to \"SPACE\" at the start of each row, on a change of\r\n        //  alphanumeric/mosaics mode or on a change of size. It is not reset by reinforcement of the\r\n        //  existing size setting. It is not reset by a change in Hold Mosaics mode.\r\n        //  The \"Held-Mosaic\" character is always displayed in its original contiguous or separated form\r\n        //  regardless of the mode prevailing at the time of substitution.\r\n        //  Setting False is Set-After\r\n        this.IsMosaicHeld = ko.observable(false);\r\n        this.HeldMosaic = ko.observable(Mode7.Space);\r\n        this.IsHeldMosaicContiguous = ko.observable(false);\r\n        this.IsDoubleHeight = ko.observable(false);\r\n        //  DC1 = on, DC4 = off. Set-At\r\n        this.IsCursorOn = ko.observable(false);\r\n    }\r\n    //  Row reset\r\n    Flags.prototype.Reset = function () {\r\n        this.BgColour(Terminal.Colours.black);\r\n        this.AlphaFgColour(Terminal.Colours.white);\r\n        this.IsAlpha(true);\r\n        this.IsFlashing(false);\r\n        this.IsEscaped(false);\r\n        this.IsBoxing(false);\r\n        this.IsConcealed(false);\r\n        this.IsContiguous(true);\r\n        this.IsMosaicHeld(false);\r\n        this.HeldMosaic(Mode7.Space);\r\n        this.IsHeldMosaicContiguous(false);\r\n        this.IsDoubleHeight(false);\r\n        //  Leave cursor ON\r\n    };\r\n    Flags.prototype.SetAfterFlags = function (pending) {\r\n        var wasAlpha = this.IsAlpha();\r\n        if (pending.alphaFgColour != null) {\r\n            this.AlphaFgColour(pending.alphaFgColour);\r\n            this.IsAlpha(true);\r\n            this.IsConcealed(false);\r\n        }\r\n        else if (pending.mosaicFgColour != null) {\r\n            this.MosaicFgColour(pending.mosaicFgColour);\r\n            this.IsAlpha(false);\r\n            this.IsConcealed(false);\r\n        }\r\n        if (this.IsAlpha() != wasAlpha) {\r\n            this.HeldMosaic(Mode7.Space);\r\n            this.IsHeldMosaicContiguous(false);\r\n        }\r\n        if (pending.isFlashing === true) {\r\n            this.IsFlashing(true);\r\n        }\r\n        if (pending.isBoxing != null) {\r\n            this.IsBoxing(!!pending.isBoxing);\r\n        }\r\n        if (pending.isMosaicHeld === false) {\r\n            this.IsMosaicHeld(false);\r\n            this.IsHeldMosaicContiguous(false);\r\n        }\r\n        if (pending.isDoubleHeight === true) {\r\n            this.IsDoubleHeight(true);\r\n        }\r\n    };\r\n    return Flags;\r\n}());\r\nvar SetAfterFlags = /** @class */ (function () {\r\n    function SetAfterFlags() {\r\n        this.alphaFgColour = null;\r\n        this.mosaicFgColour = null;\r\n        this.isFlashing = null;\r\n        this.isBoxing = null;\r\n        this.isMosaicHeld = null;\r\n        this.isDoubleHeight = null;\r\n    }\r\n    SetAfterFlags.prototype.Reset = function () {\r\n        this.alphaFgColour = null;\r\n        this.mosaicFgColour = null;\r\n        this.isFlashing = null;\r\n        this.isBoxing = null;\r\n        this.isMosaicHeld = null;\r\n        this.isDoubleHeight = null;\r\n    };\r\n    return SetAfterFlags;\r\n}());\r\n//# sourceMappingURL=Mullard.js.map","\"use strict\";\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spread = (this && this.__spread) || function () {\r\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Storage = exports.Download = exports.Frame = void 0;\r\nvar Terminal = require(\"./Terminal.js\");\r\nvar Views = require(\"./Views.js\");\r\nvar Frame = /** @class */ (function () {\r\n    function Frame(data) {\r\n        this.b64 = data.b64;\r\n        this.thumbnail = data.thumbnail;\r\n        this.uri = \"data:\" + data.thumbnail.mime + \";base64,\" + data.thumbnail.b64;\r\n    }\r\n    return Frame;\r\n}());\r\nexports.Frame = Frame;\r\nvar Download = /** @class */ (function () {\r\n    function Download(data) {\r\n        this.filename = data.filename;\r\n        this.size = data.size;\r\n        this.b64 = data.b64;\r\n        this.mime = data.mime;\r\n        this.uri = \"data:\" + data.mime + \";base64,\" + data.b64;\r\n    }\r\n    return Download;\r\n}());\r\nexports.Download = Download;\r\nvar Storage = /** @class */ (function () {\r\n    function Storage() {\r\n        this.MimeTypes = {\r\n            Binary: 'application/octet-stream',\r\n            ImagePng: 'image/png'\r\n        };\r\n        this.frameKeyPrefix = /^SF_([0-9]+)$/;\r\n        this.downloadKeyPrefix = /^DL_(.+)$/;\r\n        this.storage = window.localStorage;\r\n        this.frameKeys = __spread(this.getKeys(this.frameKeyPrefix));\r\n        this.downloadKeys = __spread(this.getKeys(this.downloadKeyPrefix));\r\n        this.frameKeys.sort();\r\n        this.downloadKeys.sort();\r\n    }\r\n    Object.defineProperty(Storage.prototype, \"EnableFlashing\", {\r\n        get: function () {\r\n            return this.storage.getItem('EnableFlashing') == 'true';\r\n        },\r\n        set: function (b) {\r\n            this.storage.setItem('EnableFlashing', String(b === true));\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Storage.prototype, \"MessageSequenceNumber\", {\r\n        get: function () {\r\n            return Number(this.storage.getItem('MessageSequenceNumber')) || 0;\r\n        },\r\n        set: function (sn) {\r\n            this.storage.setItem('MessageSequenceNumber', String(sn));\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Storage.prototype, \"Version\", {\r\n        get: function () {\r\n            return Number(this.storage.getItem('Version')) || 0;\r\n        },\r\n        set: function (n) {\r\n            this.storage.setItem('Version', String(n));\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Storage.prototype.Frames = function () {\r\n        var _this = this;\r\n        return this.frameKeys\r\n            .map(function (key) {\r\n            try {\r\n                return new Frame(JSON.parse(_this.storage.getItem(key)));\r\n            }\r\n            catch (ex) {\r\n                _this.storage.removeItem(key);\r\n            }\r\n            return null;\r\n        })\r\n            .filter(function (x) { return x != null; });\r\n    };\r\n    Storage.prototype.GetFrameAt = function (idx) {\r\n        return new Frame(JSON.parse(this.storage.getItem(this.frameKeys[idx])));\r\n    };\r\n    ;\r\n    Storage.prototype.RemoveFrameAt = function (idx) {\r\n        this.storage.removeItem(this.frameKeys[idx]);\r\n        this.frameKeys.splice(idx, 1);\r\n    };\r\n    ;\r\n    Storage.prototype.AddFrame = function (b64, thumbnail) {\r\n        var key = \"SF_\" + this.getSeqNo();\r\n        var data = { b64: b64, thumbnail: thumbnail };\r\n        this.storage.setItem(key, JSON.stringify(data));\r\n        this.frameKeys.push(key);\r\n        return new Frame(data);\r\n    };\r\n    Storage.prototype.Downloads = function () {\r\n        var _this = this;\r\n        return this.downloadKeys.map(function (key) {\r\n            try {\r\n                return new Download(JSON.parse(_this.storage.getItem(key)));\r\n            }\r\n            catch (ex) {\r\n                _this.storage.removeItem(key);\r\n            }\r\n            return null;\r\n        }).filter(function (x) { return x != null; });\r\n    };\r\n    Storage.prototype.RemoveDownloadAt = function (idx) {\r\n        this.storage.removeItem(this.downloadKeys[idx]);\r\n        this.downloadKeys.splice(idx, 1);\r\n    };\r\n    Storage.prototype.AddDownload = function (filename, size, b64, mime) {\r\n        if (mime === void 0) { mime = this.MimeTypes.Binary; }\r\n        var key = \"DL_\" + filename + \"_\" + this.getSeqNo();\r\n        var data = { filename: filename, size: size, b64: b64, mime: mime };\r\n        this.storage.setItem(key, JSON.stringify(data));\r\n        this.downloadKeys.push(key);\r\n        return new Download(data);\r\n    };\r\n    ;\r\n    Storage.prototype.Migrate = function () {\r\n        var _this = this;\r\n        if (this.Version == 0) {\r\n            if (this.storage.getItem('HelpDismissed') == 'true') {\r\n                this.MessageSequenceNumber = 1;\r\n            }\r\n            this.storage.removeItem('HelpDismissed');\r\n            this.Version = 1;\r\n        }\r\n        if (this.Version == 1) {\r\n            this.downloadKeys.forEach(function (key) {\r\n                var data = JSON.parse(_this.storage.getItem(key));\r\n                if (!data.hasOwnProperty('mime')) {\r\n                    data.mime = _this.MimeTypes.Binary;\r\n                }\r\n                _this.storage.setItem(key, JSON.stringify(data));\r\n            });\r\n            this.Version = 2;\r\n        }\r\n        if (this.Version == 2) {\r\n            var canvas_1 = document.getElementById('Canvas');\r\n            var view_1 = new Views.ViewDataView();\r\n            this.frameKeys.forEach(function (key) {\r\n                var b64 = _this.storage.getItem(key);\r\n                view_1.Decoder.Load(b64);\r\n                var thumbnail = Terminal.SaveAsImage(view_1.Buffer, canvas_1, 160, 125);\r\n                _this.storage.setItem(key, JSON.stringify({ b64: b64, thumbnail: thumbnail }));\r\n            });\r\n            this.Version = 3;\r\n        }\r\n        if (this.Version == 3) {\r\n            this.storage.removeItem('MessageSequenceNumber');\r\n            this.Version = 4;\r\n        }\r\n    };\r\n    Storage.prototype.getKeys = function (pattern) {\r\n        var idx, key;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    idx = 0;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!(idx < this.storage.length)) return [3 /*break*/, 4];\r\n                    key = this.storage.key(idx);\r\n                    if (!pattern.test(key)) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, key];\r\n                case 2:\r\n                    _a.sent();\r\n                    _a.label = 3;\r\n                case 3:\r\n                    ++idx;\r\n                    return [3 /*break*/, 1];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    };\r\n    Storage.prototype.getSeqNo = function () {\r\n        return Date.now() + Math.floor(Math.random() * 10);\r\n    };\r\n    return Storage;\r\n}());\r\nexports.Storage = Storage;\r\n//# sourceMappingURL=Storage.js.map","\"use strict\";\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spread = (this && this.__spread) || function () {\r\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SvgBufferCell = exports.SvgBufferRow = exports.SvgBufferTransform = void 0;\r\nvar Terminal = require(\"./Terminal.js\");\r\nvar Mode7 = require(\"./Mode7.js\");\r\nvar Constants = /** @class */ (function () {\r\n    function Constants() {\r\n    }\r\n    //  Bedstead: 1000 units per em, width: 600, descender: 200\r\n    Constants.CellHeight = 20;\r\n    Constants.CellDoubleHeight = 40;\r\n    //  Em unit width would be 12. We use 15 to maintain 4:3 aspect ratio\r\n    Constants.CellWidth = 15;\r\n    //  Height of 'tails' in px gives baseline offset\r\n    Constants.FontDescender = 4;\r\n    Constants.DoubleFontDescender = 8;\r\n    return Constants;\r\n}());\r\nvar SvgBufferTransform = /** @class */ (function () {\r\n    function SvgBufferTransform(buffer, ShowGrid) {\r\n        this.buffer = buffer;\r\n        this.ShowGrid = ShowGrid;\r\n        this.Rows = __spread(buffer.Rows, [buffer.StatusRow]).map(function (row, rowIdx, array) { return new SvgBufferRow(array, rowIdx); });\r\n        this.ViewBox = ko.computed(function () {\r\n            var width = Terminal.Constants.MaxCols * Constants.CellWidth;\r\n            var height = (Terminal.Constants.MaxRows + 1) * Constants.CellHeight;\r\n            return \"0 0 \" + width + \" \" + height;\r\n        });\r\n        this.Grid = this.getGridLines();\r\n    }\r\n    SvgBufferTransform.prototype.getGridLines = function () {\r\n        var width = Terminal.Constants.MaxCols * Constants.CellWidth;\r\n        var height = Terminal.Constants.MaxRows * Constants.CellHeight;\r\n        var grid = new Array();\r\n        for (var colIdx = 0; colIdx <= Terminal.Constants.MaxCols; ++colIdx) {\r\n            var x = colIdx * Constants.CellWidth;\r\n            var is10th = colIdx > 0 && colIdx < Terminal.Constants.MaxCols && (colIdx % 10) == 0;\r\n            grid.push({\r\n                X1: x,\r\n                Y1: 0,\r\n                X2: x,\r\n                Y2: height - 1,\r\n                Css: \"gcol \" + (is10th ? 'gcol-10' : '')\r\n            });\r\n        }\r\n        for (var rowIdx = 0; rowIdx <= Terminal.Constants.MaxRows; ++rowIdx) {\r\n            var y = rowIdx * Constants.CellHeight;\r\n            var is10th = rowIdx > 0 && rowIdx < Terminal.Constants.MaxRows && (rowIdx % 10) == 0;\r\n            grid.push({\r\n                X1: 0,\r\n                Y1: y,\r\n                X2: width - 1,\r\n                Y2: y,\r\n                Css: \"grow \" + (is10th ? 'grow-10' : '')\r\n            });\r\n        }\r\n        return grid;\r\n    };\r\n    return SvgBufferTransform;\r\n}());\r\nexports.SvgBufferTransform = SvgBufferTransform;\r\nvar SvgBufferRow = /** @class */ (function () {\r\n    function SvgBufferRow(bufferRows, RowIdx) {\r\n        var _this = this;\r\n        this.bufferRows = bufferRows;\r\n        this.RowIdx = RowIdx;\r\n        this.myBufferRow = this.bufferRows[this.RowIdx];\r\n        this.IsHidden = this.myBufferRow.IsHidden;\r\n        this.Y = ko.computed(function () {\r\n            return _this.RowIdx * Constants.CellHeight;\r\n        });\r\n        this.IsAnyDoubleHeight = ko.computed(function () {\r\n            return _this.myBufferRow.Cells.some(function (x) { return x.IsDoubleHeight(); });\r\n        });\r\n        this.RowHeight = ko.computed(function () {\r\n            if (_this.IsHidden()) {\r\n                return 0;\r\n            }\r\n            return _this.IsAnyDoubleHeight() ? Constants.CellDoubleHeight : Constants.CellHeight;\r\n        });\r\n        this.Cells = this.myBufferRow.Cells.map(function (cell, colIdx) { return new SvgBufferCell(_this, cell, colIdx); });\r\n    }\r\n    return SvgBufferRow;\r\n}());\r\nexports.SvgBufferRow = SvgBufferRow;\r\nvar SvgBufferCell = /** @class */ (function () {\r\n    function SvgBufferCell(row, bufferCell, colIdx) {\r\n        var _this = this;\r\n        this.row = row;\r\n        this.bufferCell = bufferCell;\r\n        this.colIdx = colIdx;\r\n        this.Character = this.bufferCell.Character;\r\n        this.FontDescender = ko.computed(function () {\r\n            return _this.bufferCell.IsDoubleHeight() ? Constants.DoubleFontDescender : Constants.FontDescender;\r\n        });\r\n        this.FontSize = ko.computed(function () {\r\n            return \"\" + (_this.bufferCell.IsDoubleHeight() ? Constants.CellDoubleHeight : Constants.CellHeight);\r\n        });\r\n        this.Width = ko.observable(Constants.CellWidth);\r\n        this.CellHeight = ko.computed(function () {\r\n            if (_this.row.IsHidden()) {\r\n                return 0;\r\n            }\r\n            return _this.bufferCell.IsDoubleHeight() ? Constants.CellDoubleHeight : Constants.CellHeight;\r\n        });\r\n        this.X = ko.observable(this.colIdx * Constants.CellWidth);\r\n        this.TextX = ko.computed(function () {\r\n            return _this.X() - 1;\r\n        });\r\n        this.Y = this.row.Y;\r\n        this.TextY = ko.computed(function () {\r\n            if (!_this.row.IsHidden()) {\r\n                return _this.Y() + _this.CellHeight() - _this.FontDescender();\r\n            }\r\n            return 0;\r\n        });\r\n        this.CellCss = ko.computed(function () {\r\n            //  Sometimes we get an ascii character with mosaic flags. We don't want to alter the css of these chars to make them contiguous\r\n            var isMosaic = _this.bufferCell.IsContiguousMosaic() && Mode7.IsMosaic(_this.Character());\r\n            return \"svg-viewdata-view-cell \" + (_this.bufferCell.IsFlashing() ? 'blink' : '') + \" \" + (_this.bufferCell.IsDoubleHeight() ? 'double-height' : '') + \" \" + (_this.bufferCell.IsConcealed() ? 'concealed' : '') + \" \" + (isMosaic ? 'mosaic' : '');\r\n        });\r\n        this.BgCss = ko.computed(function () {\r\n            var bg = _this.bufferCell.IsCursor() ? Terminal.Colours[Terminal.Colours.white] : Terminal.Colours[_this.bufferCell.Bg()];\r\n            return \"bg-\" + bg;\r\n        });\r\n        this.FgCss = ko.computed(function () {\r\n            var fg = _this.bufferCell.IsCursor() ? Terminal.Colours[Terminal.Colours.black] : Terminal.Colours[_this.bufferCell.Fg];\r\n            return \"fg-\" + fg;\r\n        });\r\n        this.Id = ko.computed(function () {\r\n            return \"row-\" + _this.row.RowIdx + \"-col-\" + _this.colIdx;\r\n        });\r\n        this.Fixes = ko.computed(function () {\r\n            var fixes = new Array();\r\n            if (_this.bufferCell.IsContiguousMosaic() && Mode7.IsMosaic(_this.Character())) {\r\n                fixes.push({ X: _this.TextX(), Y: _this.TextY() - 2 });\r\n            }\r\n            return fixes;\r\n        });\r\n    }\r\n    return SvgBufferCell;\r\n}());\r\nexports.SvgBufferCell = SvgBufferCell;\r\n//# sourceMappingURL=SvgRenderer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Downloads = void 0;\r\nvar OutputBuffer = /** @class */ (function () {\r\n    function OutputBuffer() {\r\n        this.buffer = new Array();\r\n    }\r\n    OutputBuffer.prototype.Reset = function () {\r\n        this.buffer.length = 0;\r\n    };\r\n    OutputBuffer.prototype.Write = function (b) {\r\n        this.buffer.push(String.fromCharCode(b));\r\n    };\r\n    OutputBuffer.prototype.Length = function () {\r\n        return this.buffer.length;\r\n    };\r\n    OutputBuffer.prototype.GetBase64 = function () {\r\n        return btoa(this.buffer.join(''));\r\n    };\r\n    return OutputBuffer;\r\n}());\r\nvar Downloads = /** @class */ (function () {\r\n    function Downloads(onError, onEndOfFrame, onEndOfFile) {\r\n        this.onError = onError;\r\n        this.onEndOfFrame = onEndOfFrame;\r\n        this.onEndOfFile = onEndOfFile;\r\n        this.threeQuarters = 125;\r\n        this.space = 32;\r\n        this.bar = 124;\r\n        this.outputBuffer = new OutputBuffer();\r\n        this.state = 0;\r\n        this.frameNumber = 0;\r\n        //  xor of bytes in frame between |A and |Z\r\n        this.runningChecksum = 0;\r\n        //  the expected checksum\r\n        this.checksum = 0;\r\n        //  a..z\r\n        this.frameLetter = null;\r\n        //  Added to the byte code when writing to the file buffer\r\n        this.shiftOffset = 0;\r\n        //  Current control code\r\n        this.controlCode = null;\r\n        //  True until |I is found. Do not write chars to file but they may require special processing\r\n        //  Allows us to ignore control data that we're not interested in\r\n        this.ignore = false;\r\n        //  True between |A and |Z. False for row 1 and 24\r\n        this.inFrame = false;\r\n        this.filename = '';\r\n    }\r\n    Downloads.prototype.Reset = function () {\r\n        this.outputBuffer.Reset();\r\n        this.state = 0;\r\n        this.frameNumber = 0;\r\n        this.runningChecksum = 0;\r\n        this.checksum = 0;\r\n        this.frameLetter = null;\r\n        this.shiftOffset = 0;\r\n        this.controlCode = null;\r\n        this.ignore = false;\r\n        this.inFrame = false;\r\n        this.filename = '';\r\n    };\r\n    Downloads.prototype.TryDecodeHeaderFrame = function (b64) {\r\n        this.Decode(b64, false);\r\n        //  If we have a filename and the frame number is 1, then we assume that we have correctly decoded a header\r\n        //  If we return true, the caller can proceed with the download by sending the name frame/packet\r\n        //  If false, the caller should send the next packet and test again\r\n        return this.frameNumber === 1 && !!this.filename;\r\n    };\r\n    Downloads.prototype.Decode = function (b64, invokeCallbacks, checkParity) {\r\n        if (invokeCallbacks === void 0) { invokeCallbacks = true; }\r\n        if (checkParity === void 0) { checkParity = false; }\r\n        var buffer = Uint8Array.from(atob(b64), function (c) { return c.charCodeAt(0); });\r\n        for (var bufferIdx = 0; bufferIdx < buffer.length; ++bufferIdx) {\r\n            var b = buffer[bufferIdx];\r\n            if (checkParity && this.inFrame && this.parity(b) !== (b >> 7)) {\r\n                this.onError(\"parity error in frame \" + this.frameNumber);\r\n            }\r\n            //  Discard parity bit\r\n            b &= 127;\r\n            if (b == this.bar) {\r\n                //  Next char will be a control code\r\n                this.state = 1;\r\n                continue;\r\n            }\r\n            //  Char equivalent\r\n            var ch = String.fromCharCode(b);\r\n            if (this.inFrame && this.state === 0) {\r\n                this.runningChecksum ^= b;\r\n                if (!this.ignore) {\r\n                    //  The first frame is the header\r\n                    if (this.frameNumber === 1) {\r\n                        if (this.controlCode === 'I') {\r\n                            this.filename += ch;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (b == this.threeQuarters) {\r\n                            this.outputBuffer.Write(this.space + this.shiftOffset);\r\n                        }\r\n                        else {\r\n                            this.outputBuffer.Write(b + this.shiftOffset);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (this.state >= 1) {\r\n                if (this.state === 1) {\r\n                    this.controlCode = ch;\r\n                    if (this.controlCode !== 'A' && this.controlCode !== 'Z') {\r\n                        this.runningChecksum ^= 124;\r\n                        this.runningChecksum ^= b;\r\n                    }\r\n                }\r\n                switch (this.controlCode) {\r\n                    case '0':\r\n                        this.shiftOffset = 0;\r\n                        this.state = 0;\r\n                        continue;\r\n                    case '1':\r\n                        this.shiftOffset = -64;\r\n                        this.state = 0;\r\n                        continue;\r\n                    case '2':\r\n                        this.shiftOffset = 64;\r\n                        this.state = 0;\r\n                        continue;\r\n                    case '3':\r\n                        this.shiftOffset = 96;\r\n                        this.state = 0;\r\n                        continue;\r\n                    case '4':\r\n                        this.shiftOffset = 128;\r\n                        this.state = 0;\r\n                        continue;\r\n                    case '5':\r\n                        this.shiftOffset = 160;\r\n                        this.state = 0;\r\n                        continue;\r\n                    case String.fromCharCode(this.threeQuarters): //  3/4\r\n                        this.outputBuffer.Write(this.threeQuarters + this.shiftOffset);\r\n                        this.state = 0;\r\n                        continue;\r\n                    case 'A': // start frame\r\n                        ++this.frameNumber;\r\n                        this.runningChecksum = 0;\r\n                        this.state = 0;\r\n                        this.inFrame = true;\r\n                        continue;\r\n                    case 'D': // start of data section\r\n                        this.state = 0;\r\n                        continue;\r\n                    case 'E': // bar char\r\n                        this.outputBuffer.Write(this.bar + this.shiftOffset);\r\n                        this.state = 0;\r\n                        continue;\r\n                    case 'F': // end of file\r\n                        if (invokeCallbacks && this.onEndOfFile) {\r\n                            this.onEndOfFile(this.filename, this.outputBuffer.Length());\r\n                        }\r\n                        this.state = 0;\r\n                        this.inFrame = false;\r\n                        continue;\r\n                    case 'G': // frame letter\r\n                        switch (this.state) {\r\n                            case 1:\r\n                                ++this.state;\r\n                                break;\r\n                            case 2:\r\n                                this.runningChecksum ^= b;\r\n                                this.frameLetter = String.fromCharCode(b);\r\n                                this.state = 0;\r\n                                //  We may now get the data block number (0..9) and the number of the last data block in the frame but we ignore them\r\n                                this.ignore = true;\r\n                                break;\r\n                        }\r\n                        continue;\r\n                    case 'I': // escape sequence terminator\r\n                        this.ignore = false;\r\n                        this.state = 0;\r\n                        continue;\r\n                    case 'L': // end of line\r\n                        this.state = 0;\r\n                        //  Ignore frame count in the header\r\n                        if (this.frameNumber === 1) {\r\n                            this.ignore = true;\r\n                        }\r\n                        else {\r\n                            this.outputBuffer.Write(13);\r\n                        }\r\n                        continue;\r\n                    case 'T': // start of header section\r\n                        this.state = 0;\r\n                        continue;\r\n                    case 'Z': // end of frame\r\n                        //  The next 3 bytes after Z store the expected checksum\r\n                        switch (this.state) {\r\n                            case 1:\r\n                                this.checksum = 0;\r\n                                ++this.state;\r\n                                this.inFrame = false;\r\n                                break;\r\n                            case 2:\r\n                                this.checksum += (b - 48) * 100;\r\n                                ++this.state;\r\n                                break;\r\n                            case 3:\r\n                                this.checksum += (b - 48) * 10;\r\n                                ++this.state;\r\n                                break;\r\n                            case 4:\r\n                                this.checksum += b - 48;\r\n                                if (this.checksum !== this.runningChecksum) {\r\n                                    this.onError(\"invalid frame checksum at frame \" + this.frameNumber + \" (expected \" + this.checksum + \", got \" + this.runningChecksum + \")\");\r\n                                }\r\n                                this.state = 0;\r\n                                if (invokeCallbacks && this.onEndOfFrame) {\r\n                                    //  The terminal must now send '#' or '0' if this frame was 'z'\r\n                                    this.onEndOfFrame(this.frameLetter || '');\r\n                                }\r\n                                break;\r\n                        }\r\n                        continue;\r\n                    default:\r\n                        //  Unrecognized. Ignore everything until |I is found\r\n                        this.ignore = true;\r\n                        this.state = 0;\r\n                        continue;\r\n                }\r\n            }\r\n        }\r\n        return buffer.length;\r\n    };\r\n    Downloads.prototype.GetBase64 = function () {\r\n        return this.outputBuffer.GetBase64();\r\n    };\r\n    Downloads.prototype.parity = function (v) {\r\n        var count = (v & 1) + (v >> 1 & 1) + (v >> 2 & 1) + (v >> 3 & 1) + (v >> 4 & 1) + (v >> 5 & 1) + (v >> 6 & 1);\r\n        return count % 2;\r\n    };\r\n    return Downloads;\r\n}());\r\nexports.Downloads = Downloads;\r\n//# sourceMappingURL=Telesoft.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SaveAsImage = exports.Position = exports.Input = exports.Clock = exports.Cell = exports.Row = exports.Buffer = exports.Constants = exports.ControlKeys = exports.Colours = void 0;\r\nvar Mode7 = require(\"./Mode7.js\");\r\n/**\r\n* Colours range 1..7\r\n* n.b. black cannot be explicitly selected but can be used for initialisation\r\n*/\r\nvar Colours;\r\n(function (Colours) {\r\n    Colours[Colours[\"black\"] = 0] = \"black\";\r\n    Colours[Colours[\"red\"] = 1] = \"red\";\r\n    Colours[Colours[\"green\"] = 2] = \"green\";\r\n    Colours[Colours[\"yellow\"] = 3] = \"yellow\";\r\n    Colours[Colours[\"blue\"] = 4] = \"blue\";\r\n    Colours[Colours[\"magenta\"] = 5] = \"magenta\";\r\n    Colours[Colours[\"cyan\"] = 6] = \"cyan\";\r\n    Colours[Colours[\"white\"] = 7] = \"white\";\r\n})(Colours = exports.Colours || (exports.Colours = {}));\r\nvar ControlKeys;\r\n(function (ControlKeys) {\r\n    ControlKeys[\"Reveal\"] = \"REVEAL\";\r\n    ControlKeys[\"Advance\"] = \"ADVANCE\";\r\n    ControlKeys[\"Hold\"] = \"HOLD\";\r\n    ControlKeys[\"Download\"] = \"DOWNLOAD\";\r\n})(ControlKeys = exports.ControlKeys || (exports.ControlKeys = {}));\r\nvar Constants = /** @class */ (function () {\r\n    function Constants() {\r\n    }\r\n    Constants.MaxCols = 40;\r\n    Constants.MaxRows = 24;\r\n    return Constants;\r\n}());\r\nexports.Constants = Constants;\r\nvar Buffer = /** @class */ (function () {\r\n    function Buffer() {\r\n        this.Rows = new Array(Constants.MaxRows);\r\n        this.StatusRow = new Row();\r\n        this.Cursor = new Position({ row: 0, col: 0 });\r\n        for (var ridx = 0; ridx < Constants.MaxRows; ++ridx) {\r\n            this.Rows[ridx] = new Row();\r\n        }\r\n        this.CursorOff();\r\n    }\r\n    Buffer.prototype.Reset = function () {\r\n        this.Rows.forEach(function (x) { return x.Reset(); });\r\n        this.CursorOff();\r\n    };\r\n    Buffer.prototype.Row = function (rowIdx) {\r\n        return this.Rows[rowIdx];\r\n    };\r\n    ;\r\n    Buffer.prototype.Cell = function (rowIdx, colIdx) {\r\n        return this.Rows[rowIdx].Cells[colIdx];\r\n    };\r\n    ;\r\n    Buffer.prototype.CellAtPosition = function (position) {\r\n        return this.Rows[position.Row()].Cells[position.Column()];\r\n    };\r\n    ;\r\n    Buffer.prototype.CursorOff = function () {\r\n        this.CellAtPosition(this.Cursor).IsCursor(false);\r\n    };\r\n    ;\r\n    Buffer.prototype.CursorOn = function (row, col) {\r\n        this.Cursor.Row(row);\r\n        this.Cursor.Column(col);\r\n        this.CellAtPosition(this.Cursor).IsCursor(true);\r\n    };\r\n    ;\r\n    Buffer.prototype.ResetCursor = function () {\r\n        this.CursorOff();\r\n        this.Cursor.Row(0);\r\n        this.Cursor.Column(0);\r\n    };\r\n    Buffer.prototype.SetStatusRow = function (text, fg, bg) {\r\n        if (fg === void 0) { fg = Colours.white; }\r\n        if (bg === void 0) { bg = Colours.black; }\r\n        var idx = 0;\r\n        if (text !== null) {\r\n            if (text.length > Constants.MaxCols) {\r\n                text = text.substring(0, Constants.MaxCols);\r\n            }\r\n            for (; idx < text.length; ++idx) {\r\n                var cell = this.StatusRow.Cells[idx];\r\n                var ch = Mode7.FromKeyboard(text[idx]).char;\r\n                cell.Fg = fg;\r\n                cell.Bg(bg);\r\n                cell.Character(ch);\r\n            }\r\n        }\r\n        while (idx < Constants.MaxCols) {\r\n            var cell = this.StatusRow.Cells[idx];\r\n            cell.Fg = fg;\r\n            cell.Bg(bg);\r\n            cell.Character(Mode7.Space);\r\n            ++idx;\r\n        }\r\n    };\r\n    return Buffer;\r\n}());\r\nexports.Buffer = Buffer;\r\nvar Row = /** @class */ (function () {\r\n    function Row() {\r\n        this.Cells = new Array(Constants.MaxRows);\r\n        //  True if this row should not be rendered (i.e. double height row 2)\r\n        this.IsHidden = ko.observable(false);\r\n        for (var cidx = 0; cidx < Constants.MaxCols; ++cidx) {\r\n            this.Cells[cidx] = new Cell();\r\n        }\r\n    }\r\n    Row.prototype.Reset = function () {\r\n        this.Cells.forEach(function (x) { return x.Reset(); });\r\n        this.IsHidden(false);\r\n    };\r\n    Row.prototype.SetIsDoubleHeightLowerRow = function () {\r\n        this.IsHidden(true);\r\n    };\r\n    return Row;\r\n}());\r\nexports.Row = Row;\r\nvar Cell = /** @class */ (function () {\r\n    function Cell() {\r\n        var _this = this;\r\n        //  Colour index\r\n        this._fg = ko.observable(Colours.white);\r\n        this._cachedFg = Colours.white;\r\n        //  Unicode character\r\n        this.Character = ko.observable(Mode7.Space);\r\n        //  Colour index\r\n        this.Bg = ko.observable(Colours.black);\r\n        //  True if flashing\r\n        this.IsFlashing = ko.observable(false);\r\n        //  When true, the text is only visible when 'reveal' is selected\r\n        this.IsConcealed = ko.observable(false);\r\n        //  When true, this is row 1 of double height text\r\n        this.IsDoubleHeight = ko.observable(false);\r\n        //  True when the cell has the cursor\r\n        this.IsCursor = ko.observable(false);\r\n        //  True when Character is a contiguous mosaic\r\n        this.IsContiguousMosaic = ko.observable(false);\r\n        this.Css = ko.computed(function () {\r\n            var bg = Colours[_this.Bg()];\r\n            var fg = Colours[_this._fg()];\r\n            return \"bg-\" + bg + \" fg-\" + fg + \" \" + (_this.IsFlashing() ? 'blink' : '') + \" \" + (_this.IsDoubleHeight() ? 'double-height' : '') + \" \" + (_this.IsConcealed() ? 'concealed' : '') + \" \" + (_this.IsCursor() ? 'cursor' : '') + \" \" + (_this.IsContiguousMosaic() ? 'mosaic' : '');\r\n        });\r\n        Clock.Enlist(function (show) {\r\n            if (!_this.IsFlashing()) {\r\n                return;\r\n            }\r\n            if (show) {\r\n                _this._fg(_this._cachedFg);\r\n            }\r\n            else {\r\n                _this._fg(_this.Bg());\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(Cell.prototype, \"Fg\", {\r\n        get: function () {\r\n            return this._fg();\r\n        },\r\n        set: function (fg) {\r\n            this._fg(fg);\r\n            this._cachedFg = fg;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Cell.prototype.Reset = function () {\r\n        this.Character(Mode7.Space);\r\n        this.Bg(0);\r\n        this.Fg = Colours.white;\r\n        this.IsFlashing(false);\r\n        this.IsConcealed(false);\r\n        this.IsDoubleHeight(false);\r\n        this.IsCursor(false);\r\n        this.IsContiguousMosaic(false);\r\n    };\r\n    Cell.prototype.SetCharacter = function (ch, isContiguousMosaic) {\r\n        if (isContiguousMosaic === void 0) { isContiguousMosaic = false; }\r\n        this.Character(ch);\r\n        this.IsContiguousMosaic(isContiguousMosaic);\r\n    };\r\n    return Cell;\r\n}());\r\nexports.Cell = Cell;\r\nvar Clock = /** @class */ (function () {\r\n    function Clock() {\r\n    }\r\n    Clock.Enlist = function (callback) {\r\n        Clock.callbacks.push(callback);\r\n    };\r\n    Clock.Start = function () {\r\n        Clock.show = false;\r\n        Clock.clock = window.setInterval(function () {\r\n            Clock.callbacks.forEach(function (cb) {\r\n                cb(Clock.show);\r\n            });\r\n            Clock.show = !Clock.show;\r\n        }, 1000);\r\n    };\r\n    Clock.Stop = function () {\r\n        if (Clock.clock != 0) {\r\n            window.clearInterval(Clock.clock);\r\n            Clock.clock = 0;\r\n        }\r\n        Clock.callbacks.forEach(function (cb) {\r\n            cb(true);\r\n        });\r\n    };\r\n    Clock.callbacks = new Array();\r\n    Clock.show = false;\r\n    Clock.clock = 0;\r\n    return Clock;\r\n}());\r\nexports.Clock = Clock;\r\nvar Input = /** @class */ (function () {\r\n    function Input(onAlt, onChar) {\r\n        var _this = this;\r\n        this.onAlt = onAlt;\r\n        this.onChar = onChar;\r\n        this.OnKeyDown = function (el, event) {\r\n            var oe = event.originalEvent;\r\n            if (oe.altKey) {\r\n                switch (oe.key) {\r\n                    case 'R':\r\n                    case 'r':\r\n                        _this.onAlt(ControlKeys.Reveal);\r\n                        break;\r\n                    case 'A':\r\n                    case 'a':\r\n                        _this.onAlt(ControlKeys.Advance);\r\n                        break;\r\n                    case 'H':\r\n                    case 'h':\r\n                        _this.onAlt(ControlKeys.Hold);\r\n                        break;\r\n                    case 'D':\r\n                    case 'd':\r\n                        _this.onAlt(ControlKeys.Download);\r\n                        break;\r\n                }\r\n                return;\r\n            }\r\n            switch (oe.key) {\r\n                case 'ArrowLeft':\r\n                case 'Left':\r\n                case 'Backspace':\r\n                    _this.onChar('\\b');\r\n                    break;\r\n                case 'ArrowRight':\r\n                case 'Right':\r\n                    _this.onChar('\\t');\r\n                    break;\r\n                case 'ArrowUp':\r\n                case 'Up':\r\n                    _this.onChar('\\v');\r\n                    break;\r\n                case 'ArrowDown':\r\n                case 'Down':\r\n                    _this.onChar('\\n');\r\n                    break;\r\n                case 'Delete':\r\n                    _this.onChar(String.fromCharCode(127));\r\n                    break;\r\n                case 'Enter':\r\n                    _this.onChar('_');\r\n                    break;\r\n                case 'Escape':\r\n                    _this.onChar(String.fromCharCode(27));\r\n                    break;\r\n                default:\r\n                    if (oe.key.length == 1) {\r\n                        if (oe.key == '#') {\r\n                            _this.onChar('_');\r\n                        }\r\n                        else {\r\n                            _this.onChar(oe.key);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        };\r\n    }\r\n    return Input;\r\n}());\r\nexports.Input = Input;\r\nvar Position = /** @class */ (function () {\r\n    function Position(data) {\r\n        this.Row = ko.observable(data.row);\r\n        this.Column = ko.observable(data.col);\r\n    }\r\n    return Position;\r\n}());\r\nexports.Position = Position;\r\nfunction SaveAsImage(buffer, canvas, imgSzX, imgSzY) {\r\n    if (imgSzX === void 0) { imgSzX = 600; }\r\n    if (imgSzY === void 0) { imgSzY = 480; }\r\n    var colours = ['black', 'rgb(255, 0, 0)', 'rgb(0, 255, 0)', 'rgb(255, 255, 0)', 'rgb(0, 0, 255)', 'rgb(255, 0, 255)', 'rgb(0, 255, 255)', 'white'];\r\n    var szX = Math.floor(imgSzX / Constants.MaxCols);\r\n    var szY = Math.floor(imgSzY / Constants.MaxRows);\r\n    var szY2 = szY * 2;\r\n    canvas.height = imgSzY;\r\n    canvas.width = imgSzX;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.textBaseline = 'bottom';\r\n    var rectY = 0;\r\n    var textY = 0;\r\n    for (var row = 0; row < Constants.MaxRows; ++row) {\r\n        if (buffer.Row(row).IsHidden()) {\r\n            continue;\r\n        }\r\n        var isDoubleHeight = buffer.Row(row).Cells.some(function (x) { return x.IsDoubleHeight(); });\r\n        if (isDoubleHeight) {\r\n            textY += szY2;\r\n            ctx.font = szY2 + \"px bedstead-double-height\";\r\n        }\r\n        else {\r\n            textY += szY;\r\n            ctx.font = szY + \"px bedstead\";\r\n        }\r\n        for (var col = 0; col < Constants.MaxCols; ++col) {\r\n            var cell = buffer.Cell(row, col);\r\n            var x = col * szX;\r\n            //  Bg rectangle: top left origin\r\n            ctx.fillStyle = colours[cell.Bg()];\r\n            ctx.fillRect(x, rectY, szX, isDoubleHeight ? szY2 : szY);\r\n            //  Fg char: bottom left origin\r\n            ctx.fillStyle = colours[cell.Fg];\r\n            ctx.fillText(cell.Character(), x, textY, szX);\r\n            //  Blur left to avoid gaps in font\r\n            if (cell.IsContiguousMosaic()) {\r\n                ctx.fillText(cell.Character(), x - 1, textY, szX);\r\n            }\r\n        }\r\n        rectY += isDoubleHeight ? szY2 : szY;\r\n    }\r\n    var preamble = 'data:image/png;base64,';\r\n    var data = canvas.toDataURL();\r\n    if (data.indexOf(preamble) == 0) {\r\n        data = data.substring(preamble.length);\r\n    }\r\n    return {\r\n        mime: 'image/png',\r\n        b64: data,\r\n        size: 4 * Math.ceil(data.length / 3),\r\n        extension: '.png'\r\n    };\r\n}\r\nexports.SaveAsImage = SaveAsImage;\r\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Main = exports.ViewDataView = void 0;\r\nvar Mullard = require(\"./Mullard.js\");\r\nvar Terminal = require(\"./Terminal.js\");\r\nvar Storage = require(\"./Storage.js\");\r\nvar Telesoft = require(\"./Telesoft.js\");\r\nvar Mode7 = require(\"./Mode7.js\");\r\nvar ViewDataHub = require(\"./Hub.js\");\r\nvar Logger = require(\"./Logger.js\");\r\nvar SVG = require(\"./SvgRenderer.js\");\r\nvar ViewDataView = /** @class */ (function () {\r\n    function ViewDataView() {\r\n        this.Buffer = new Terminal.Buffer();\r\n        this.IsRevealed = ko.observable(false);\r\n        this.ShowGrid = ko.observable(false);\r\n        this.EnableFlash = ko.observable(false);\r\n        this.Decoder = new Mullard.SAA5050(this.Buffer);\r\n        this.Constants = Terminal.Constants;\r\n        this.SVG = new SVG.SvgBufferTransform(this.Buffer, this.ShowGrid);\r\n    }\r\n    return ViewDataView;\r\n}());\r\nexports.ViewDataView = ViewDataView;\r\nvar Main = /** @class */ (function () {\r\n    function Main() {\r\n        var _this = this;\r\n        this.defaultHeader = \"Click 'Connect'\";\r\n        this.mainViewElement = document.getElementById('mainView');\r\n        this.downloadsElement = document.getElementById('downloads');\r\n        this.teletextCommands = {\r\n            HOLD: 'H',\r\n            ADVANCE: '.'\r\n        };\r\n        this.viewdataCommands = {\r\n            NEXT: '#',\r\n            PREVIOUS: '*#'\r\n        };\r\n        this.Header = ko.observable(this.defaultHeader);\r\n        this.UserStats = ko.observable(null);\r\n        this.Services = ko.observableArray();\r\n        this.SelectedService = ko.observable();\r\n        this.IsViewFocused = ko.observable(true);\r\n        this.IsConnected = ko.observable(false);\r\n        this.IsViewdata = ko.observable(true);\r\n        this.IsTeletext = ko.observable(false);\r\n        this.Postamble = ko.observable(null);\r\n        this.Downloading = ko.observable(false);\r\n        this.Input = ko.observable();\r\n        this.Downloads = ko.observableArray();\r\n        this.SavedFrames = ko.observableArray();\r\n        this.EnableLogoff = ko.computed(function () {\r\n            return _this.IsConnected() && _this.Postamble() != null;\r\n        });\r\n        this.EnableCommands = ko.computed(function () {\r\n            return _this.IsConnected() && !_this.Downloading();\r\n        });\r\n        this.EnableDownload = ko.observable(false);\r\n        this.Log = new Logger.Log();\r\n        this.View = new ViewDataView();\r\n        this.Storage = new Storage.Storage();\r\n        this.Keyboard = new Terminal.Input(function (code) {\r\n            switch (code) {\r\n                case Terminal.ControlKeys.Hold:\r\n                    _this.Command(_this.teletextCommands.HOLD);\r\n                    break;\r\n                case Terminal.ControlKeys.Advance:\r\n                    _this.Command(_this.teletextCommands.ADVANCE);\r\n                    break;\r\n                case Terminal.ControlKeys.Reveal:\r\n                    _this.ToggleReveal();\r\n                    break;\r\n                case Terminal.ControlKeys.Download:\r\n                    _this.Download();\r\n                    break;\r\n            }\r\n        }, function (text) {\r\n            _this.Command(text);\r\n        });\r\n        this.Downloader = new Telesoft.Downloads(function (error) {\r\n            _this.Status.unexpected();\r\n            _this.Log.Error(error);\r\n        }, function (frame) {\r\n            _this.send(frame == 'z' ? '0' : '#');\r\n        }, function (filename, size) {\r\n            _this.Downloading(false);\r\n            _this.EnableDownload(false);\r\n            var b64 = _this.Downloader.GetBase64();\r\n            _this.Downloads.push(_this.Storage.AddDownload(filename, size, b64, _this.Storage.MimeTypes.Binary));\r\n            _this.Log.Info(\"'\" + filename + \"' downloaded\");\r\n            _this.send('#');\r\n            _this.scrollToDownloads();\r\n        });\r\n        this.Hub = new ViewDataHub.Hub({\r\n            received: function (b64) {\r\n                if (b64 == null) {\r\n                    return;\r\n                }\r\n                _this.View.Decoder.DecodeBase64(b64);\r\n                if (_this.Downloading()) {\r\n                    try {\r\n                        _this.Downloader.Decode(b64);\r\n                    }\r\n                    catch (ex) {\r\n                        _this.Log.Error(ex);\r\n                        _this.Status.unexpected();\r\n                    }\r\n                }\r\n                else {\r\n                    try {\r\n                        _this.EnableDownload(_this.Downloader.TryDecodeHeaderFrame(b64));\r\n                    }\r\n                    catch (ex) {\r\n                        //  Do nothing\r\n                    }\r\n                }\r\n            },\r\n            stats: function (stats) {\r\n                if (!stats.active) {\r\n                    _this.UserStats('0 users online');\r\n                }\r\n                else if (stats.active == 1) {\r\n                    _this.UserStats('1 user online');\r\n                }\r\n                else {\r\n                    _this.UserStats(stats.active + \" users online\");\r\n                }\r\n            },\r\n            exception: function (message) {\r\n                _this.Status.error(message);\r\n                _this.Log.Error(message);\r\n            }\r\n        });\r\n        this.Status = {\r\n            success: function (text) {\r\n                _this.View.Buffer.SetStatusRow(text, 2, 0);\r\n            },\r\n            info: function (text) {\r\n                _this.View.Buffer.SetStatusRow(text, 7, 0);\r\n            },\r\n            error: function (text) {\r\n                _this.View.Buffer.SetStatusRow(text, 1, 0);\r\n            },\r\n            unexpected: function () {\r\n                _this.View.Buffer.SetStatusRow('An error occurred', 1, 0);\r\n            },\r\n            warning: function (text) {\r\n                _this.View.Buffer.SetStatusRow(text, 3, 0);\r\n            },\r\n            clear: function () {\r\n                _this.View.Buffer.SetStatusRow(null, 0, 0);\r\n            }\r\n        };\r\n        this.OnKeyDown = function (el, event) {\r\n            var oe = event.originalEvent;\r\n            if (oe.key == 'Enter') {\r\n                _this.Send();\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        this.ToggleConnect = _.throttle(function () {\r\n            _this.IsViewFocused(true);\r\n            _this.Status.clear();\r\n            _this.Hub.Connect()\r\n                .then(function () {\r\n                return _this.IsConnected() ? _this.disconnect() : _this.connect();\r\n            })\r\n                .catch(function (err) {\r\n                _this.Log.Error(err);\r\n            });\r\n        }, 1000);\r\n        this.ToggleReveal = _.throttle(function () {\r\n            _this.IsViewFocused(true);\r\n            _this.View.IsRevealed(!_this.View.IsRevealed());\r\n        }, 1000);\r\n        this.Send = _.throttle(function () {\r\n            if (!_this.IsConnected()) {\r\n                return;\r\n            }\r\n            _this.IsViewFocused(true);\r\n            var text = _this.Input() || '';\r\n            if (!text.endsWith('#')) {\r\n                text += '#';\r\n            }\r\n            _this.Command(text);\r\n        }, 1000);\r\n        this.Command = function (text) {\r\n            if (text == null || !_this.IsConnected()) {\r\n                return;\r\n            }\r\n            _this.IsViewFocused(true);\r\n            _this.Downloader.Reset();\r\n            _this.Status.clear();\r\n            _this.Hub.Connect()\r\n                .then(function () {\r\n                _this.send(text);\r\n            })\r\n                .catch(function (err) {\r\n                _this.Log.Error(err);\r\n            });\r\n        };\r\n        this.Logoff = function () {\r\n            if (!_this.IsConnected()) {\r\n                return;\r\n            }\r\n            _this.IsViewFocused(true);\r\n            _this.Downloader.Reset();\r\n            _this.Status.clear();\r\n            _this.Hub.Connect()\r\n                .then(function () {\r\n                if (_this.Postamble() != null) {\r\n                    _this.send(_this.Postamble());\r\n                }\r\n            })\r\n                .catch(function (err) {\r\n                _this.Log.Error(err);\r\n            });\r\n        };\r\n        this.Download = function () {\r\n            if (!(_this.EnableDownload() && _this.IsConnected())) {\r\n                return;\r\n            }\r\n            _this.IsViewFocused(true);\r\n            _this.Status.clear();\r\n            _this.Hub.Connect()\r\n                .then(function () {\r\n                _this.Downloading(true);\r\n                _this.send('#');\r\n            })\r\n                .catch(function (err) {\r\n                _this.Log.Error(err);\r\n            });\r\n        };\r\n        this.RemoveDownload = _.throttle(function (idx) {\r\n            _this.IsViewFocused(true);\r\n            _this.Storage.RemoveDownloadAt(idx);\r\n            var downloads = _this.Downloads();\r\n            downloads.splice(idx, 1);\r\n            _this.Downloads(downloads);\r\n        }, 1000);\r\n        this.SaveFrame = _.throttle(function () {\r\n            _this.IsViewFocused(true);\r\n            var b64 = _this.View.Decoder.GetFrameAsBase64();\r\n            if (b64 == null) {\r\n                return;\r\n            }\r\n            var canvas = document.getElementById('Canvas');\r\n            var thumbnail = Terminal.SaveAsImage(_this.View.Buffer, canvas, 160, 125);\r\n            var data = _this.Storage.AddFrame(b64, thumbnail);\r\n            _this.SavedFrames.push(data);\r\n            _this.FrameSlider.refresh();\r\n        }, 1000);\r\n        this.LoadSavedFrame = _.throttle(function (idx) {\r\n            _this.IsViewFocused(true);\r\n            var data = _this.Storage.GetFrameAt(idx);\r\n            _this.View.Decoder.Load(data.b64);\r\n        }, 1000);\r\n        this.Clipboard = ko.observable();\r\n        this.CopySavedFrame = _.throttle(function (idx) {\r\n            _this.IsViewFocused(true);\r\n            var data = _this.Storage.GetFrameAt(idx);\r\n            _this.Clipboard(data.b64);\r\n            document.getElementById('Clipboard').select();\r\n            document.execCommand('copy');\r\n        }, 1000);\r\n        this.RemoveSavedFrame = _.throttle(function (idx) {\r\n            _this.IsViewFocused(true);\r\n            _this.Storage.RemoveFrameAt(idx);\r\n            var views = _this.SavedFrames();\r\n            views.splice(idx, 1);\r\n            _this.SavedFrames(views);\r\n            _this.FrameSlider.refresh();\r\n        }, 1000);\r\n        this.SaveAsImage = _.throttle(function () {\r\n            _this.IsViewFocused(true);\r\n            var canvas = document.getElementById('Canvas');\r\n            var data = Terminal.SaveAsImage(_this.View.Buffer, canvas);\r\n            var filename = \"\" + _this.View.Decoder.FrameNumber() + data.extension;\r\n            var image = _this.Storage.AddDownload(filename, data.size, data.b64, data.mime);\r\n            _this.Downloads.push(image);\r\n            _this.scrollToDownloads();\r\n        }, 1000);\r\n        this.FullScreen = _.throttle(function () { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.mainViewElement.requestFullscreen) return [3 /*break*/, 2];\r\n                        this.View.ShowGrid(false);\r\n                        return [4 /*yield*/, this.mainViewElement.requestFullscreen()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.IsViewFocused(true);\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); }, 1000);\r\n        this.Storage.Migrate();\r\n        this.Downloads(this.Storage.Downloads());\r\n        this.View.EnableFlash(this.Storage.EnableFlashing);\r\n        this.View.EnableFlash.subscribe(function (newv) {\r\n            _this.Storage.EnableFlashing = newv;\r\n            if (newv) {\r\n                Terminal.Clock.Start();\r\n            }\r\n            else {\r\n                Terminal.Clock.Stop();\r\n            }\r\n        });\r\n        this.initGestures();\r\n        if (this.View.EnableFlash()) {\r\n            Terminal.Clock.Start();\r\n        }\r\n        this.FrameSlider = $(\"#saved-frames\").lightSlider({\r\n            item: 6,\r\n            autoWidth: true\r\n        });\r\n        this.SavedFrames(this.Storage.Frames());\r\n        setTimeout(function () {\r\n            _this.FrameSlider.refresh();\r\n        }, 0);\r\n        this.Hub.Connect()\r\n            .then(function () {\r\n            return _this.Hub.Server.services();\r\n        })\r\n            .then(function (services) {\r\n            _this.Services(services);\r\n            return _this.checkConnection(true);\r\n        })\r\n            .catch(function () {\r\n            _this.Log.Info('No existing connection');\r\n        });\r\n        [this.View.IsRevealed, this.View.ShowGrid, this.View.EnableFlash].forEach(function (x) { return x.subscribe(function () {\r\n            _this.IsViewFocused(true);\r\n        }); });\r\n    }\r\n    Main.prototype.checkConnection = function (reload) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.Hub.Server.isOpen()\r\n                .then(function (result) {\r\n                if (result.isOpen) {\r\n                    _this.SelectedService(result.service);\r\n                    _this.onConnected(result);\r\n                    _this.Log.Info(\"Already connected\");\r\n                    if (reload) {\r\n                        _this.Log.Info(\"Reloading frame. Sending '*00#'\");\r\n                        _this.send('*00#');\r\n                    }\r\n                    resolve();\r\n                }\r\n                else {\r\n                    if (_this.IsConnected()) {\r\n                        _this.Log.Warning(\"The session was closed due to inactivity or an error on the remote host. Please re-connect\");\r\n                        _this.Status.warning(\"Session closed: inactive/remote error\");\r\n                    }\r\n                    _this.onDisconnected();\r\n                    reject();\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                _this.Log.Error(error);\r\n                _this.Status.unexpected();\r\n                _this.onDisconnected();\r\n                reject(error);\r\n            });\r\n        });\r\n    };\r\n    Main.prototype.send = function (text) {\r\n        var _this = this;\r\n        var raw = Mode7.FromKeyboardString(text);\r\n        this.Log.Info(\"Sending '\" + text + \"' encoded as '\" + raw + \"'\");\r\n        var b64 = btoa(raw);\r\n        this.Hub.Server.asyncWrite(b64)\r\n            .catch(function () {\r\n            _this.Log.Error(\"Send failed. Checking connection\");\r\n            return _this.checkConnection(false);\r\n        })\r\n            .catch(function () {\r\n            _this.Log.Info('No existing connection');\r\n        });\r\n    };\r\n    Main.prototype.connect = function () {\r\n        var _this = this;\r\n        var service = this.SelectedService();\r\n        this.Log.Info(\"Connecting to \" + service);\r\n        return this.checkConnection(true).catch(function () {\r\n            return _this.Hub.Server.open(service)\r\n                .then(function (result) {\r\n                _this.Log.Success(\"Connected to \" + result.host + \" on port \" + result.port);\r\n                _this.onConnected(result);\r\n            })\r\n                .catch(function (error) {\r\n                _this.Log.Error(error);\r\n                _this.Status.unexpected();\r\n            });\r\n        });\r\n    };\r\n    Main.prototype.disconnect = function () {\r\n        var _this = this;\r\n        this.Log.Info(\"Disconnecting...\");\r\n        return this.Hub.Server.close()\r\n            .then(function () {\r\n            _this.Log.Success('Disconnected');\r\n            _this.onDisconnected();\r\n        })\r\n            .catch(function (error) {\r\n            _this.Log.Error(error);\r\n            _this.onDisconnected();\r\n        });\r\n    };\r\n    Main.prototype.initGestures = function () {\r\n        var _this = this;\r\n        var mc = new Hammer.Manager(this.mainViewElement);\r\n        mc.add(new Hammer.Tap({ event: 'singletap', taps: 1 }));\r\n        mc.add(new Hammer.Pan({ event: 'panleft', direction: Hammer.DIRECTION_LEFT }));\r\n        mc.add(new Hammer.Pan({ event: 'panright', direction: Hammer.DIRECTION_RIGHT }));\r\n        mc.add(new Hammer.Pan({ event: 'pandown', direction: Hammer.DIRECTION_DOWN }));\r\n        mc.on('panleft', _.debounce(function () {\r\n            if (!_this.IsConnected()) {\r\n                return;\r\n            }\r\n            if (_this.IsTeletext()) {\r\n                _this.Command(_this.teletextCommands.ADVANCE);\r\n            }\r\n            else {\r\n                _this.Command(_this.viewdataCommands.NEXT);\r\n            }\r\n        }, 500));\r\n        mc.on('panright', _.debounce(function () {\r\n            if (!_this.IsConnected()) {\r\n                return;\r\n            }\r\n            if (!_this.IsTeletext()) {\r\n                _this.Command(_this.viewdataCommands.PREVIOUS);\r\n            }\r\n        }, 500));\r\n        mc.on('pandown', _.debounce(function () {\r\n            if (document.fullscreenElement) {\r\n                document.exitFullscreen();\r\n            }\r\n        }, 500));\r\n        mc.on('singletap', function (e) {\r\n            if (_this.IsConnected()) {\r\n                if (_this.IsTeletext()) {\r\n                    _this.Command(_this.teletextCommands.HOLD);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    Main.prototype.onConnected = function (result) {\r\n        this.Header(result.host + \":\" + result.port);\r\n        this.IsConnected(true);\r\n        this.Postamble(result.postamble);\r\n        this.IsViewdata(result.mode == 'Viewdata');\r\n        this.IsTeletext(result.mode == 'Teletext');\r\n        this.Hub.Server.asyncRead();\r\n    };\r\n    Main.prototype.onDisconnected = function () {\r\n        this.Header(this.defaultHeader);\r\n        this.IsConnected(false);\r\n        this.EnableDownload(false);\r\n        this.Postamble(null);\r\n    };\r\n    Main.prototype.scrollToDownloads = function () {\r\n        var y = this.downloadsElement.getBoundingClientRect().top + window.scrollY;\r\n        window.scroll({ top: y, behavior: 'smooth' });\r\n    };\r\n    return Main;\r\n}());\r\nexports.Main = Main;\r\n//# sourceMappingURL=Views.js.map","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42 } }\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\n// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\nif (typeof Symbol !== 'undefined' && Symbol.species != null &&\n    Buffer[Symbol.species] === Buffer) {\n  Object.defineProperty(Buffer, Symbol.species, {\n    value: null,\n    configurable: true,\n    enumerable: false,\n    writable: false\n  })\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayLike(value)\n  }\n\n  if (value == null) {\n    throw TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nBuffer.prototype.__proto__ = Uint8Array.prototype\nBuffer.__proto__ = Uint8Array\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      buf = Buffer.from(buf)\n    }\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n        : (firstByte > 0xBF) ? 2\n          : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  newBuf.__proto__ = Buffer.prototype\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (var i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"]}